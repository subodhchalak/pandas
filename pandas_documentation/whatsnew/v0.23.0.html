
<!DOCTYPE html>


<html lang="en" data-content_root="../" >

  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>What’s new in 0.23.0 (May 15, 2018) &#8212; pandas 2.2.3 documentation</title>
  
  
  
  <script data-cfasync="false">
    document.documentElement.dataset.mode = localStorage.getItem("mode") || "";
    document.documentElement.dataset.theme = localStorage.getItem("theme") || "light";
  </script>
  
  <!-- Loaded before other Sphinx assets -->
  <link href="../_static/styles/theme.css?digest=5b4479735964841361fd" rel="stylesheet" />
<link href="../_static/styles/bootstrap.css?digest=5b4479735964841361fd" rel="stylesheet" />
<link href="../_static/styles/pydata-sphinx-theme.css?digest=5b4479735964841361fd" rel="stylesheet" />

  
  <link href="../_static/vendor/fontawesome/6.1.2/css/all.min.css?digest=5b4479735964841361fd" rel="stylesheet" />
  <link rel="preload" as="font" type="font/woff2" crossorigin href="../_static/vendor/fontawesome/6.1.2/webfonts/fa-solid-900.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="../_static/vendor/fontawesome/6.1.2/webfonts/fa-brands-400.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="../_static/vendor/fontawesome/6.1.2/webfonts/fa-regular-400.woff2" />

    <link rel="stylesheet" type="text/css" href="../_static/pygments.css?v=fa44fd50" />
    <link rel="stylesheet" type="text/css" href="../_static/plot_directive.css" />
    <link rel="stylesheet" type="text/css" href="../_static/copybutton.css?v=76b2166b" />
    <link rel="stylesheet" type="text/css" href="../_static/sphinx-design.min.css?v=95c83b7e" />
    <link rel="stylesheet" type="text/css" href="../_static/css/getting_started.css?v=150e0881" />
    <link rel="stylesheet" type="text/css" href="../_static/css/pandas.css?v=b7db95b1" />
  
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="../_static/scripts/bootstrap.js?digest=5b4479735964841361fd" />
<link rel="preload" as="script" href="../_static/scripts/pydata-sphinx-theme.js?digest=5b4479735964841361fd" />
  <script src="../_static/vendor/fontawesome/6.1.2/js/all.min.js?digest=5b4479735964841361fd"></script>

    <script src="../_static/documentation_options.js?v=85e56e6b"></script>
    <script src="../_static/doctools.js?v=9a2dae69"></script>
    <script src="../_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="../_static/clipboard.min.js?v=a7894cd8"></script>
    <script src="../_static/copybutton.js?v=f281be69"></script>
    <script src="../_static/design-tabs.js?v=f930bc37"></script>
    <script data-domain="pandas.pydata.org" defer="defer" src="https://views.scientific-python.org/js/script.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/@jupyter-widgets/html-manager@^1.0.1/dist/embed-amd.js"></script>
    <script>DOCUMENTATION_OPTIONS.pagename = 'whatsnew/v0.23.0';</script>
    <script>
        DOCUMENTATION_OPTIONS.theme_version = '0.14.4';
        DOCUMENTATION_OPTIONS.theme_switcher_json_url = 'https://pandas.pydata.org/versions.json';
        DOCUMENTATION_OPTIONS.theme_switcher_version_match = '2.2';
        DOCUMENTATION_OPTIONS.show_version_warning_banner = false;
        </script>
    <link rel="icon" href="../_static/favicon.ico"/>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Version 0.22.0 (December 29, 2017)" href="v0.22.0.html" />
    <link rel="prev" title="What’s new in 0.23.1 (June 12, 2018)" href="v0.23.1.html" />
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <meta name="docsearch:language" content="en"/>
  </head>
  
  
  <body data-bs-spy="scroll" data-bs-target=".bd-toc-nav" data-offset="180" data-bs-root-margin="0px 0px -60%" data-default-mode="">

  
  
  <a class="skip-link" href="#main-content">Skip to main content</a>
  
  <div id="pst-scroll-pixel-helper"></div>

  
  <button type="button" class="btn rounded-pill" id="pst-back-to-top">
    <i class="fa-solid fa-arrow-up"></i>
    Back to top
  </button>

  
  <input type="checkbox"
          class="sidebar-toggle"
          name="__primary"
          id="__primary"/>
  <label class="overlay overlay-primary" for="__primary"></label>
  
  <input type="checkbox"
          class="sidebar-toggle"
          name="__secondary"
          id="__secondary"/>
  <label class="overlay overlay-secondary" for="__secondary"></label>
  
  <div class="search-button__wrapper">
    <div class="search-button__overlay"></div>
    <div class="search-button__search-container">
<form class="bd-search d-flex align-items-center"
      action="../search.html"
      method="get">
  <i class="fa-solid fa-magnifying-glass"></i>
  <input type="search"
         class="form-control"
         name="q"
         id="search-input"
         placeholder="Search the docs ..."
         aria-label="Search the docs ..."
         autocomplete="off"
         autocorrect="off"
         autocapitalize="off"
         spellcheck="false"/>
  <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd>K</kbd></span>
</form></div>
  </div>
  
    <nav class="bd-header navbar navbar-expand-lg bd-navbar">
<div class="bd-header__inner bd-page-width">
  <label class="sidebar-toggle primary-toggle" for="__primary">
    <span class="fa-solid fa-bars"></span>
  </label>
  
  
  <div class=" navbar-header-items__start">
    
      <div class="navbar-item">

  

<a class="navbar-brand logo" href="../index.html">
  
  
  
  
  
    
    
      
    
    
    <img src="../_static/pandas.svg" class="logo__image only-light" alt="pandas 2.2.3 documentation - Home"/>
    <script>document.write(`<img src="https://pandas.pydata.org/static/img/pandas_white.svg" class="logo__image only-dark" alt="pandas 2.2.3 documentation - Home"/>`);</script>
  
  
</a></div>
    
  </div>
  
  <div class=" navbar-header-items">
    
    <div class="me-auto navbar-header-items__center">
      
        <div class="navbar-item">
<nav class="navbar-nav">
  <p class="sidebar-header-items__title"
     role="heading"
     aria-level="1"
     aria-label="Site Navigation">
    Site Navigation
  </p>
  <ul class="bd-navbar-elements navbar-nav">
    
                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="../getting_started/index.html">
                        Getting started
                      </a>
                    </li>
                

                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="../user_guide/index.html">
                        User Guide
                      </a>
                    </li>
                

                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="../reference/index.html">
                        API reference
                      </a>
                    </li>
                

                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="../development/index.html">
                        Development
                      </a>
                    </li>
                

                    <li class="nav-item current active">
                      <a class="nav-link nav-internal" href="index.html">
                        Release notes
                      </a>
                    </li>
                
  </ul>
</nav></div>
      
    </div>
    
    
    <div class="navbar-header-items__end">
      
        <div class="navbar-item navbar-persistent--container">
          

 <script>
 document.write(`
   <button class="btn navbar-btn search-button-field search-button__button" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass"></i>
    <span class="search-button__default-text">Search</span>
    <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd class="kbd-shortcut__modifier">K</kbd></span>
   </button>
 `);
 </script>
        </div>
      
      
        <div class="navbar-item">
<script>
document.write(`
  <div class="version-switcher__container dropdown">
    <button id="pst-version-switcher-button-2"
      type="button"
      class="version-switcher__button btn btn-sm navbar-btn dropdown-toggle"
      data-bs-toggle="dropdown"
      aria-haspopup="listbox"
      aria-controls="pst-version-switcher-list-2"
      aria-label="Version switcher list"
    >
      Choose version  <!-- this text may get changed later by javascript -->
      <span class="caret"></span>
    </button>
    <div id="pst-version-switcher-list-2"
      class="version-switcher__menu dropdown-menu list-group-flush py-0"
      role="listbox" aria-labelledby="pst-version-switcher-button-2">
      <!-- dropdown will be populated by javascript on page load -->
    </div>
  </div>
`);
</script></div>
      
        <div class="navbar-item">

<script>
document.write(`
  <button class="btn btn-sm navbar-btn theme-switch-button" title="light/dark" aria-label="light/dark" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <span class="theme-switch nav-link" data-mode="light"><i class="fa-solid fa-sun fa-lg"></i></span>
    <span class="theme-switch nav-link" data-mode="dark"><i class="fa-solid fa-moon fa-lg"></i></span>
    <span class="theme-switch nav-link" data-mode="auto"><i class="fa-solid fa-circle-half-stroke fa-lg"></i></span>
  </button>
`);
</script></div>
      
        <div class="navbar-item"><ul class="navbar-icon-links navbar-nav"
    aria-label="Icon Links">
        <li class="nav-item">
          
          
          
          
          
          
          
          
          <a href="https://github.com/pandas-dev/pandas" title="GitHub" class="nav-link" rel="noopener" target="_blank" data-bs-toggle="tooltip" data-bs-placement="bottom"><span><i class="fa-brands fa-square-github fa-lg" aria-hidden="true"></i></span>
            <span class="sr-only">GitHub</span></a>
        </li>
        <li class="nav-item">
          
          
          
          
          
          
          
          
          <a href="https://twitter.com/pandas_dev" title="Twitter" class="nav-link" rel="noopener" target="_blank" data-bs-toggle="tooltip" data-bs-placement="bottom"><span><i class="fa-brands fa-square-twitter fa-lg" aria-hidden="true"></i></span>
            <span class="sr-only">Twitter</span></a>
        </li>
        <li class="nav-item">
          
          
          
          
          
          
          
          
          <a href="https://fosstodon.org/@pandas_dev" title="Mastodon" class="nav-link" rel="noopener" target="_blank" data-bs-toggle="tooltip" data-bs-placement="bottom"><span><i class="fa-brands fa-mastodon fa-lg" aria-hidden="true"></i></span>
            <span class="sr-only">Mastodon</span></a>
        </li>
</ul></div>
      
    </div>
    
  </div>
  
  
    <div class="navbar-persistent--mobile">

 <script>
 document.write(`
   <button class="btn navbar-btn search-button-field search-button__button" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass"></i>
    <span class="search-button__default-text">Search</span>
    <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd class="kbd-shortcut__modifier">K</kbd></span>
   </button>
 `);
 </script>
    </div>
  

  
    <label class="sidebar-toggle secondary-toggle" for="__secondary" tabindex="0">
      <span class="fa-solid fa-outdent"></span>
    </label>
  
</div>

    </nav>
  
  <div class="bd-container">
    <div class="bd-container__inner bd-page-width">
      
      <div class="bd-sidebar-primary bd-sidebar">
        

  
  <div class="sidebar-header-items sidebar-primary__section">
    
    
      <div class="sidebar-header-items__center">
        
          <div class="navbar-item">
<nav class="navbar-nav">
  <p class="sidebar-header-items__title"
     role="heading"
     aria-level="1"
     aria-label="Site Navigation">
    Site Navigation
  </p>
  <ul class="bd-navbar-elements navbar-nav">
    
                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="../getting_started/index.html">
                        Getting started
                      </a>
                    </li>
                

                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="../user_guide/index.html">
                        User Guide
                      </a>
                    </li>
                

                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="../reference/index.html">
                        API reference
                      </a>
                    </li>
                

                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="../development/index.html">
                        Development
                      </a>
                    </li>
                

                    <li class="nav-item current active">
                      <a class="nav-link nav-internal" href="index.html">
                        Release notes
                      </a>
                    </li>
                
  </ul>
</nav></div>
        
      </div>
    
    
    
      <div class="sidebar-header-items__end">
        
          <div class="navbar-item">
<script>
document.write(`
  <div class="version-switcher__container dropdown">
    <button id="pst-version-switcher-button-3"
      type="button"
      class="version-switcher__button btn btn-sm navbar-btn dropdown-toggle"
      data-bs-toggle="dropdown"
      aria-haspopup="listbox"
      aria-controls="pst-version-switcher-list-3"
      aria-label="Version switcher list"
    >
      Choose version  <!-- this text may get changed later by javascript -->
      <span class="caret"></span>
    </button>
    <div id="pst-version-switcher-list-3"
      class="version-switcher__menu dropdown-menu list-group-flush py-0"
      role="listbox" aria-labelledby="pst-version-switcher-button-3">
      <!-- dropdown will be populated by javascript on page load -->
    </div>
  </div>
`);
</script></div>
        
          <div class="navbar-item">

<script>
document.write(`
  <button class="btn btn-sm navbar-btn theme-switch-button" title="light/dark" aria-label="light/dark" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <span class="theme-switch nav-link" data-mode="light"><i class="fa-solid fa-sun fa-lg"></i></span>
    <span class="theme-switch nav-link" data-mode="dark"><i class="fa-solid fa-moon fa-lg"></i></span>
    <span class="theme-switch nav-link" data-mode="auto"><i class="fa-solid fa-circle-half-stroke fa-lg"></i></span>
  </button>
`);
</script></div>
        
          <div class="navbar-item"><ul class="navbar-icon-links navbar-nav"
    aria-label="Icon Links">
        <li class="nav-item">
          
          
          
          
          
          
          
          
          <a href="https://github.com/pandas-dev/pandas" title="GitHub" class="nav-link" rel="noopener" target="_blank" data-bs-toggle="tooltip" data-bs-placement="bottom"><span><i class="fa-brands fa-square-github fa-lg" aria-hidden="true"></i></span>
            <span class="sr-only">GitHub</span></a>
        </li>
        <li class="nav-item">
          
          
          
          
          
          
          
          
          <a href="https://twitter.com/pandas_dev" title="Twitter" class="nav-link" rel="noopener" target="_blank" data-bs-toggle="tooltip" data-bs-placement="bottom"><span><i class="fa-brands fa-square-twitter fa-lg" aria-hidden="true"></i></span>
            <span class="sr-only">Twitter</span></a>
        </li>
        <li class="nav-item">
          
          
          
          
          
          
          
          
          <a href="https://fosstodon.org/@pandas_dev" title="Mastodon" class="nav-link" rel="noopener" target="_blank" data-bs-toggle="tooltip" data-bs-placement="bottom"><span><i class="fa-brands fa-mastodon fa-lg" aria-hidden="true"></i></span>
            <span class="sr-only">Mastodon</span></a>
        </li>
</ul></div>
        
      </div>
    
  </div>
  
    <div class="sidebar-primary-items__start sidebar-primary__section">
        <div class="sidebar-primary-item"><nav class="bd-links" id="bd-docs-nav" aria-label="Main navigation">
  <div class="bd-toc-item navbar-nav">
    
    <ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="v2.2.3.html">What’s new in 2.2.3 (September 20, 2024)</a></li>
<li class="toctree-l1"><a class="reference internal" href="v2.2.2.html">What’s new in 2.2.2 (April 10, 2024)</a></li>
<li class="toctree-l1"><a class="reference internal" href="v2.2.1.html">What’s new in 2.2.1 (February 22, 2024)</a></li>
<li class="toctree-l1"><a class="reference internal" href="v2.2.0.html">What’s new in 2.2.0 (January 19, 2024)</a></li>
</ul>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="v2.1.4.html">What’s new in 2.1.4 (December 8, 2023)</a></li>
<li class="toctree-l1"><a class="reference internal" href="v2.1.3.html">What’s new in 2.1.3 (November 10, 2023)</a></li>
<li class="toctree-l1"><a class="reference internal" href="v2.1.2.html">What’s new in 2.1.2 (October 26, 2023)</a></li>
<li class="toctree-l1"><a class="reference internal" href="v2.1.1.html">What’s new in 2.1.1 (September 20, 2023)</a></li>
<li class="toctree-l1"><a class="reference internal" href="v2.1.0.html">What’s new in 2.1.0 (Aug 30, 2023)</a></li>
</ul>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="v2.0.3.html">What’s new in 2.0.3 (June 28, 2023)</a></li>
<li class="toctree-l1"><a class="reference internal" href="v2.0.2.html">What’s new in 2.0.2 (May 29, 2023)</a></li>
<li class="toctree-l1"><a class="reference internal" href="v2.0.1.html">What’s new in 2.0.1 (April 24, 2023)</a></li>
<li class="toctree-l1"><a class="reference internal" href="v2.0.0.html">What’s new in 2.0.0 (April 3, 2023)</a></li>
</ul>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="v1.5.3.html">What’s new in 1.5.3 (January 18, 2023)</a></li>
<li class="toctree-l1"><a class="reference internal" href="v1.5.2.html">What’s new in 1.5.2 (November 21, 2022)</a></li>
<li class="toctree-l1"><a class="reference internal" href="v1.5.1.html">What’s new in 1.5.1 (October 19, 2022)</a></li>
<li class="toctree-l1"><a class="reference internal" href="v1.5.0.html">What’s new in 1.5.0 (September 19, 2022)</a></li>
</ul>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="v1.4.4.html">What’s new in 1.4.4 (August 31, 2022)</a></li>
<li class="toctree-l1"><a class="reference internal" href="v1.4.3.html">What’s new in 1.4.3 (June 23, 2022)</a></li>
<li class="toctree-l1"><a class="reference internal" href="v1.4.2.html">What’s new in 1.4.2 (April 2, 2022)</a></li>
<li class="toctree-l1"><a class="reference internal" href="v1.4.1.html">What’s new in 1.4.1 (February 12, 2022)</a></li>
<li class="toctree-l1"><a class="reference internal" href="v1.4.0.html">What’s new in 1.4.0 (January 22, 2022)</a></li>
</ul>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="v1.3.5.html">What’s new in 1.3.5 (December 12, 2021)</a></li>
<li class="toctree-l1"><a class="reference internal" href="v1.3.4.html">What’s new in 1.3.4 (October 17, 2021)</a></li>
<li class="toctree-l1"><a class="reference internal" href="v1.3.3.html">What’s new in 1.3.3 (September 12, 2021)</a></li>
<li class="toctree-l1"><a class="reference internal" href="v1.3.2.html">What’s new in 1.3.2 (August 15, 2021)</a></li>
<li class="toctree-l1"><a class="reference internal" href="v1.3.1.html">What’s new in 1.3.1 (July 25, 2021)</a></li>
<li class="toctree-l1"><a class="reference internal" href="v1.3.0.html">What’s new in 1.3.0 (July 2, 2021)</a></li>
</ul>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="v1.2.5.html">What’s new in 1.2.5 (June 22, 2021)</a></li>
<li class="toctree-l1"><a class="reference internal" href="v1.2.4.html">What’s new in 1.2.4 (April 12, 2021)</a></li>
<li class="toctree-l1"><a class="reference internal" href="v1.2.3.html">What’s new in 1.2.3 (March 02, 2021)</a></li>
<li class="toctree-l1"><a class="reference internal" href="v1.2.2.html">What’s new in 1.2.2 (February 09, 2021)</a></li>
<li class="toctree-l1"><a class="reference internal" href="v1.2.1.html">What’s new in 1.2.1 (January 20, 2021)</a></li>
<li class="toctree-l1"><a class="reference internal" href="v1.2.0.html">What’s new in 1.2.0 (December 26, 2020)</a></li>
</ul>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="v1.1.5.html">What’s new in 1.1.5 (December 07, 2020)</a></li>
<li class="toctree-l1"><a class="reference internal" href="v1.1.4.html">What’s new in 1.1.4 (October 30, 2020)</a></li>
<li class="toctree-l1"><a class="reference internal" href="v1.1.3.html">What’s new in 1.1.3 (October 5, 2020)</a></li>
<li class="toctree-l1"><a class="reference internal" href="v1.1.2.html">What’s new in 1.1.2 (September 8, 2020)</a></li>
<li class="toctree-l1"><a class="reference internal" href="v1.1.1.html">What’s new in 1.1.1 (August 20, 2020)</a></li>
<li class="toctree-l1"><a class="reference internal" href="v1.1.0.html">What’s new in 1.1.0 (July 28, 2020)</a></li>
</ul>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="v1.0.5.html">What’s new in 1.0.5 (June 17, 2020)</a></li>
<li class="toctree-l1"><a class="reference internal" href="v1.0.4.html">What’s new in 1.0.4 (May 28, 2020)</a></li>
<li class="toctree-l1"><a class="reference internal" href="v1.0.3.html">What’s new in 1.0.3 (March 17, 2020)</a></li>
<li class="toctree-l1"><a class="reference internal" href="v1.0.2.html">What’s new in 1.0.2 (March 12, 2020)</a></li>
<li class="toctree-l1"><a class="reference internal" href="v1.0.1.html">What’s new in 1.0.1 (February 5, 2020)</a></li>
<li class="toctree-l1"><a class="reference internal" href="v1.0.0.html">What’s new in 1.0.0 (January 29, 2020)</a></li>
</ul>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="v0.25.3.html">What’s new in 0.25.3 (October 31, 2019)</a></li>
<li class="toctree-l1"><a class="reference internal" href="v0.25.2.html">What’s new in 0.25.2 (October 15, 2019)</a></li>
<li class="toctree-l1"><a class="reference internal" href="v0.25.1.html">What’s new in 0.25.1 (August 21, 2019)</a></li>
<li class="toctree-l1"><a class="reference internal" href="v0.25.0.html">What’s new in 0.25.0 (July 18, 2019)</a></li>
</ul>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="v0.24.2.html">What’s new in 0.24.2 (March 12, 2019)</a></li>
<li class="toctree-l1"><a class="reference internal" href="v0.24.1.html">What’s new in 0.24.1 (February 3, 2019)</a></li>
<li class="toctree-l1"><a class="reference internal" href="v0.24.0.html">What’s new in 0.24.0 (January 25, 2019)</a></li>
</ul>
<ul class="current nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="v0.23.4.html">What’s new in 0.23.4 (August 3, 2018)</a></li>
<li class="toctree-l1"><a class="reference internal" href="v0.23.3.html">What’s new in 0.23.3 (July 7, 2018)</a></li>
<li class="toctree-l1"><a class="reference internal" href="v0.23.2.html">What’s new in 0.23.2 (July 5, 2018)</a></li>
<li class="toctree-l1"><a class="reference internal" href="v0.23.1.html">What’s new in 0.23.1 (June 12, 2018)</a></li>
<li class="toctree-l1 current active"><a class="current reference internal" href="#">What’s new in 0.23.0 (May 15, 2018)</a></li>
</ul>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="v0.22.0.html">Version 0.22.0 (December 29, 2017)</a></li>
</ul>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="v0.21.1.html">Version 0.21.1 (December 12, 2017)</a></li>
<li class="toctree-l1"><a class="reference internal" href="v0.21.0.html">Version 0.21.0 (October 27, 2017)</a></li>
</ul>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="v0.20.3.html">Version 0.20.3 (July 7, 2017)</a></li>
<li class="toctree-l1"><a class="reference internal" href="v0.20.2.html">Version 0.20.2 (June 4, 2017)</a></li>
<li class="toctree-l1"><a class="reference internal" href="v0.20.0.html">Version 0.20.1 (May 5, 2017)</a></li>
</ul>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="v0.19.2.html">Version 0.19.2 (December 24, 2016)</a></li>
<li class="toctree-l1"><a class="reference internal" href="v0.19.1.html">Version 0.19.1 (November 3, 2016)</a></li>
<li class="toctree-l1"><a class="reference internal" href="v0.19.0.html">Version 0.19.0 (October 2, 2016)</a></li>
</ul>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="v0.18.1.html">Version 0.18.1 (May 3, 2016)</a></li>
<li class="toctree-l1"><a class="reference internal" href="v0.18.0.html">Version 0.18.0 (March 13, 2016)</a></li>
</ul>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="v0.17.1.html">Version 0.17.1 (November 21, 2015)</a></li>
<li class="toctree-l1"><a class="reference internal" href="v0.17.0.html">Version 0.17.0 (October 9, 2015)</a></li>
</ul>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="v0.16.2.html">Version 0.16.2 (June 12, 2015)</a></li>
<li class="toctree-l1"><a class="reference internal" href="v0.16.1.html">Version 0.16.1 (May 11, 2015)</a></li>
<li class="toctree-l1"><a class="reference internal" href="v0.16.0.html">Version 0.16.0 (March 22, 2015)</a></li>
</ul>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="v0.15.2.html">Version 0.15.2 (December 12, 2014)</a></li>
<li class="toctree-l1"><a class="reference internal" href="v0.15.1.html">Version 0.15.1 (November 9, 2014)</a></li>
<li class="toctree-l1"><a class="reference internal" href="v0.15.0.html">Version 0.15.0 (October 18, 2014)</a></li>
</ul>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="v0.14.1.html">Version 0.14.1 (July 11, 2014)</a></li>
<li class="toctree-l1"><a class="reference internal" href="v0.14.0.html">Version 0.14.0 (May 31 , 2014)</a></li>
</ul>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="v0.13.1.html">Version 0.13.1 (February 3, 2014)</a></li>
<li class="toctree-l1"><a class="reference internal" href="v0.13.0.html">Version 0.13.0 (January 3, 2014)</a></li>
</ul>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="v0.12.0.html">Version 0.12.0 (July 24, 2013)</a></li>
</ul>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="v0.11.0.html">Version 0.11.0 (April 22, 2013)</a></li>
</ul>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="v0.10.1.html">Version 0.10.1 (January 22, 2013)</a></li>
<li class="toctree-l1"><a class="reference internal" href="v0.10.0.html">Version 0.10.0 (December 17, 2012)</a></li>
</ul>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="v0.9.1.html">Version 0.9.1 (November 14, 2012)</a></li>
<li class="toctree-l1"><a class="reference internal" href="v0.9.0.html">Version 0.9.0 (October 7, 2012)</a></li>
</ul>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="v0.8.1.html">Version 0.8.1 (July 22, 2012)</a></li>
<li class="toctree-l1"><a class="reference internal" href="v0.8.0.html">Version 0.8.0 (June 29, 2012)</a></li>
</ul>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="v0.7.3.html">Version 0.7.3 (April 12, 2012)</a></li>
<li class="toctree-l1"><a class="reference internal" href="v0.7.2.html">Version 0.7.2 (March 16, 2012)</a></li>
<li class="toctree-l1"><a class="reference internal" href="v0.7.1.html">Version 0.7.1 (February 29, 2012)</a></li>
<li class="toctree-l1"><a class="reference internal" href="v0.7.0.html">Version 0.7.0 (February 9, 2012)</a></li>
</ul>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="v0.6.1.html">Version 0.6.1 (December 13, 2011)</a></li>
<li class="toctree-l1"><a class="reference internal" href="v0.6.0.html">Version 0.6.0 (November 25, 2011)</a></li>
</ul>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="v0.5.0.html">Version 0.5.0 (October 24, 2011)</a></li>
</ul>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="v0.4.x.html">Versions 0.4.1 through 0.4.3 (September 25 - October 9, 2011)</a></li>
</ul>

    
  </div>
</nav></div>
    </div>
  
  
  <div class="sidebar-primary-items__end sidebar-primary__section">
  </div>
  
  <div id="rtd-footer-container"></div>


      </div>
      
      <main id="main-content" class="bd-main">
        
        
          <div class="bd-content">
            <div class="bd-article-container">
              
              <div class="bd-header-article">
<div class="header-article-items header-article__inner">
  
    <div class="header-article-items__start">
      
        <div class="header-article-item">



<nav aria-label="Breadcrumb">
  <ul class="bd-breadcrumbs">
    
    <li class="breadcrumb-item breadcrumb-home">
      <a href="../index.html" class="nav-link" aria-label="Home">
        <i class="fa-solid fa-home"></i>
      </a>
    </li>
    
    <li class="breadcrumb-item"><a href="index.html" class="nav-link">Release notes</a></li>
    
    <li class="breadcrumb-item active" aria-current="page">What’s new...</li>
  </ul>
</nav>
</div>
      
    </div>
  
  
</div>
</div>
              
              
              
                
<div id="searchbox"></div>
                <article class="bd-article" role="main">
                  
  <section id="what-s-new-in-0-23-0-may-15-2018">
<span id="whatsnew-0230"></span><h1>What’s new in 0.23.0 (May 15, 2018)<a class="headerlink" href="#what-s-new-in-0-23-0-may-15-2018" title="Link to this heading">#</a></h1>
<p>This is a major release from 0.22.0 and includes a number of API changes,
deprecations, new features, enhancements, and performance improvements along
with a large number of bug fixes. We recommend that all users upgrade to this
version.</p>
<p>Highlights include:</p>
<ul class="simple">
<li><p><a class="reference internal" href="#whatsnew-0230-enhancements-round-trippable-json"><span class="std std-ref">Round-trippable JSON format with ‘table’ orient</span></a>.</p></li>
<li><p><a class="reference internal" href="#whatsnew-0230-api-breaking-dict-insertion-order"><span class="std std-ref">Instantiation from dicts respects order for Python 3.6+</span></a>.</p></li>
<li><p><a class="reference internal" href="#whatsnew-0230-enhancements-assign-dependent"><span class="std std-ref">Dependent column arguments for assign</span></a>.</p></li>
<li><p><a class="reference internal" href="#whatsnew-0230-enhancements-merge-on-columns-and-levels"><span class="std std-ref">Merging / sorting on a combination of columns and index levels</span></a>.</p></li>
<li><p><a class="reference internal" href="#whatsnew-023-enhancements-extension"><span class="std std-ref">Extending pandas with custom types</span></a>.</p></li>
<li><p><a class="reference internal" href="#whatsnew-0230-enhancements-categorical-grouping"><span class="std std-ref">Excluding unobserved categories from groupby</span></a>.</p></li>
<li><p><a class="reference internal" href="#whatsnew-0230-api-breaking-apply"><span class="std std-ref">Changes to make output shape of DataFrame.apply consistent</span></a>.</p></li>
</ul>
<p>Check the <a class="reference internal" href="#whatsnew-0230-api-breaking"><span class="std std-ref">API Changes</span></a> and <a class="reference internal" href="#whatsnew-0230-deprecations"><span class="std std-ref">deprecations</span></a> before updating.</p>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>Starting January 1, 2019, pandas feature releases will support Python 3 only.
See <a class="reference external" href="https://pandas.pydata.org/pandas-docs/version/0.24/install.html#install-dropping-27">Dropping Python 2.7</a> for more.</p>
</div>
<nav class="contents local" id="what-s-new-in-v0-23-0">
<p class="topic-title">What’s new in v0.23.0</p>
<ul class="simple">
<li><p><a class="reference internal" href="#new-features" id="id2">New features</a></p>
<ul>
<li><p><a class="reference internal" href="#json-read-write-round-trippable-with-orient-table" id="id3">JSON read/write round-trippable with <code class="docutils literal notranslate"><span class="pre">orient='table'</span></code></a></p></li>
<li><p><a class="reference internal" href="#method-assign-accepts-dependent-arguments" id="id4">Method <code class="docutils literal notranslate"><span class="pre">.assign()</span></code> accepts dependent arguments</a></p></li>
<li><p><a class="reference internal" href="#merging-on-a-combination-of-columns-and-index-levels" id="id5">Merging on a combination of columns and index levels</a></p></li>
<li><p><a class="reference internal" href="#sorting-by-a-combination-of-columns-and-index-levels" id="id6">Sorting by a combination of columns and index levels</a></p></li>
<li><p><a class="reference internal" href="#extending-pandas-with-custom-types-experimental" id="id7">Extending pandas with custom types (experimental)</a></p></li>
<li><p><a class="reference internal" href="#new-observed-keyword-for-excluding-unobserved-categories-in-groupby" id="id8">New <code class="docutils literal notranslate"><span class="pre">observed</span></code> keyword for excluding unobserved categories in <code class="docutils literal notranslate"><span class="pre">GroupBy</span></code></a></p></li>
<li><p><a class="reference internal" href="#rolling-expanding-apply-accepts-raw-false-to-pass-a-series-to-the-function" id="id9">Rolling/Expanding.apply() accepts <code class="docutils literal notranslate"><span class="pre">raw=False</span></code> to pass a <code class="docutils literal notranslate"><span class="pre">Series</span></code> to the function</a></p></li>
<li><p><a class="reference internal" href="#dataframe-interpolate-has-gained-the-limit-area-kwarg" id="id10"><code class="docutils literal notranslate"><span class="pre">DataFrame.interpolate</span></code> has gained the <code class="docutils literal notranslate"><span class="pre">limit_area</span></code> kwarg</a></p></li>
<li><p><a class="reference internal" href="#function-get-dummies-now-supports-dtype-argument" id="id11">Function <code class="docutils literal notranslate"><span class="pre">get_dummies</span></code> now supports <code class="docutils literal notranslate"><span class="pre">dtype</span></code> argument</a></p></li>
<li><p><a class="reference internal" href="#timedelta-mod-method" id="id12">Timedelta mod method</a></p></li>
<li><p><a class="reference internal" href="#method-rank-handles-inf-values-when-nan-are-present" id="id13">Method <code class="docutils literal notranslate"><span class="pre">.rank()</span></code> handles <code class="docutils literal notranslate"><span class="pre">inf</span></code> values when <code class="docutils literal notranslate"><span class="pre">NaN</span></code> are present</a></p></li>
<li><p><a class="reference internal" href="#series-str-cat-has-gained-the-join-kwarg" id="id14"><code class="docutils literal notranslate"><span class="pre">Series.str.cat</span></code> has gained the <code class="docutils literal notranslate"><span class="pre">join</span></code> kwarg</a></p></li>
<li><p><a class="reference internal" href="#dataframe-astype-performs-column-wise-conversion-to-categorical" id="id15"><code class="docutils literal notranslate"><span class="pre">DataFrame.astype</span></code> performs column-wise conversion to <code class="docutils literal notranslate"><span class="pre">Categorical</span></code></a></p></li>
<li><p><a class="reference internal" href="#other-enhancements" id="id16">Other enhancements</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#backwards-incompatible-api-changes" id="id17">Backwards incompatible API changes</a></p>
<ul>
<li><p><a class="reference internal" href="#dependencies-have-increased-minimum-versions" id="id18">Dependencies have increased minimum versions</a></p></li>
<li><p><a class="reference internal" href="#instantiation-from-dicts-preserves-dict-insertion-order-for-python-3-6" id="id19">Instantiation from dicts preserves dict insertion order for Python 3.6+</a></p></li>
<li><p><a class="reference internal" href="#deprecate-panel" id="id20">Deprecate Panel</a></p></li>
<li><p><a class="reference internal" href="#pandas-core-common-removals" id="id21">pandas.core.common removals</a></p></li>
<li><p><a class="reference internal" href="#changes-to-make-output-of-dataframe-apply-consistent" id="id22">Changes to make output of <code class="docutils literal notranslate"><span class="pre">DataFrame.apply</span></code> consistent</a></p></li>
<li><p><a class="reference internal" href="#concatenation-will-no-longer-sort" id="id23">Concatenation will no longer sort</a></p></li>
<li><p><a class="reference internal" href="#build-changes" id="id24">Build changes</a></p></li>
<li><p><a class="reference internal" href="#index-division-by-zero-fills-correctly" id="id25">Index division by zero fills correctly</a></p></li>
<li><p><a class="reference internal" href="#extraction-of-matching-patterns-from-strings" id="id26">Extraction of matching patterns from strings</a></p></li>
<li><p><a class="reference internal" href="#default-value-for-the-ordered-parameter-of-categoricaldtype" id="id27">Default value for the <code class="docutils literal notranslate"><span class="pre">ordered</span></code> parameter of <code class="docutils literal notranslate"><span class="pre">CategoricalDtype</span></code></a></p></li>
<li><p><a class="reference internal" href="#better-pretty-printing-of-dataframes-in-a-terminal" id="id28">Better pretty-printing of DataFrames in a terminal</a></p></li>
<li><p><a class="reference internal" href="#datetimelike-api-changes" id="id29">Datetimelike API changes</a></p></li>
<li><p><a class="reference internal" href="#other-api-changes" id="id30">Other API changes</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#deprecations" id="id31">Deprecations</a></p></li>
<li><p><a class="reference internal" href="#removal-of-prior-version-deprecations-changes" id="id32">Removal of prior version deprecations/changes</a></p></li>
<li><p><a class="reference internal" href="#performance-improvements" id="id33">Performance improvements</a></p></li>
<li><p><a class="reference internal" href="#documentation-changes" id="id34">Documentation changes</a></p></li>
<li><p><a class="reference internal" href="#bug-fixes" id="id35">Bug fixes</a></p>
<ul>
<li><p><a class="reference internal" href="#categorical" id="id36">Categorical</a></p></li>
<li><p><a class="reference internal" href="#datetimelike" id="id37">Datetimelike</a></p></li>
<li><p><a class="reference internal" href="#timedelta" id="id38">Timedelta</a></p></li>
<li><p><a class="reference internal" href="#timezones" id="id39">Timezones</a></p></li>
<li><p><a class="reference internal" href="#offsets" id="id40">Offsets</a></p></li>
<li><p><a class="reference internal" href="#numeric" id="id41">Numeric</a></p></li>
<li><p><a class="reference internal" href="#strings" id="id42">Strings</a></p></li>
<li><p><a class="reference internal" href="#indexing" id="id43">Indexing</a></p></li>
<li><p><a class="reference internal" href="#multiindex" id="id44">MultiIndex</a></p></li>
<li><p><a class="reference internal" href="#io" id="id45">IO</a></p></li>
<li><p><a class="reference internal" href="#plotting" id="id46">Plotting</a></p></li>
<li><p><a class="reference internal" href="#groupby-resample-rolling" id="id47">GroupBy/resample/rolling</a></p></li>
<li><p><a class="reference internal" href="#sparse" id="id48">Sparse</a></p></li>
<li><p><a class="reference internal" href="#reshaping" id="id49">Reshaping</a></p></li>
<li><p><a class="reference internal" href="#other" id="id50">Other</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#contributors" id="id51">Contributors</a></p></li>
</ul>
</nav>
<section id="new-features">
<span id="whatsnew-0230-enhancements"></span><h2>New features<a class="headerlink" href="#new-features" title="Link to this heading">#</a></h2>
<section id="json-read-write-round-trippable-with-orient-table">
<span id="whatsnew-0230-enhancements-round-trippable-json"></span><h3>JSON read/write round-trippable with <code class="docutils literal notranslate"><span class="pre">orient='table'</span></code><a class="headerlink" href="#json-read-write-round-trippable-with-orient-table" title="Link to this heading">#</a></h3>
<p>A <code class="docutils literal notranslate"><span class="pre">DataFrame</span></code> can now be written to and subsequently read back via JSON while preserving metadata through usage of the <code class="docutils literal notranslate"><span class="pre">orient='table'</span></code> argument (see <a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/18912">GH 18912</a> and <a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/9146">GH 9146</a>). Previously, none of the available <code class="docutils literal notranslate"><span class="pre">orient</span></code> values guaranteed the preservation of dtypes and index names, amongst other metadata.</p>
<div class="highlight-ipython notranslate"><div class="highlight"><pre><span></span><span class="gp">In [1]: </span><span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">({</span><span class="s1">&#39;foo&#39;</span><span class="p">:</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">],</span>
<span class="gp">   ...: </span>                   <span class="s1">&#39;bar&#39;</span><span class="p">:</span> <span class="p">[</span><span class="s1">&#39;a&#39;</span><span class="p">,</span> <span class="s1">&#39;b&#39;</span><span class="p">,</span> <span class="s1">&#39;c&#39;</span><span class="p">,</span> <span class="s1">&#39;d&#39;</span><span class="p">],</span>
<span class="gp">   ...: </span>                   <span class="s1">&#39;baz&#39;</span><span class="p">:</span> <span class="n">pd</span><span class="o">.</span><span class="n">date_range</span><span class="p">(</span><span class="s1">&#39;2018-01-01&#39;</span><span class="p">,</span> <span class="n">freq</span><span class="o">=</span><span class="s1">&#39;d&#39;</span><span class="p">,</span> <span class="n">periods</span><span class="o">=</span><span class="mi">4</span><span class="p">),</span>
<span class="gp">   ...: </span>                   <span class="s1">&#39;qux&#39;</span><span class="p">:</span> <span class="n">pd</span><span class="o">.</span><span class="n">Categorical</span><span class="p">([</span><span class="s1">&#39;a&#39;</span><span class="p">,</span> <span class="s1">&#39;b&#39;</span><span class="p">,</span> <span class="s1">&#39;c&#39;</span><span class="p">,</span> <span class="s1">&#39;c&#39;</span><span class="p">])},</span>
<span class="gp">   ...: </span>                  <span class="n">index</span><span class="o">=</span><span class="n">pd</span><span class="o">.</span><span class="n">Index</span><span class="p">(</span><span class="nb">range</span><span class="p">(</span><span class="mi">4</span><span class="p">),</span> <span class="n">name</span><span class="o">=</span><span class="s1">&#39;idx&#39;</span><span class="p">))</span>
<span class="gp">   ...: </span>

<span class="gp">In [2]: </span><span class="n">df</span>
<span class="gh">Out[2]: </span>
<span class="go">     foo bar        baz qux</span>
<span class="go">idx                        </span>
<span class="go">0      1   a 2018-01-01   a</span>
<span class="go">1      2   b 2018-01-02   b</span>
<span class="go">2      3   c 2018-01-03   c</span>
<span class="go">3      4   d 2018-01-04   c</span>

<span class="go">[4 rows x 4 columns]</span>

<span class="gp">In [3]: </span><span class="n">df</span><span class="o">.</span><span class="n">dtypes</span>
<span class="gh">Out[3]: </span>
<span class="go">foo             int64</span>
<span class="go">bar            object</span>
<span class="go">baz    datetime64[ns]</span>
<span class="go">qux          category</span>
<span class="go">Length: 4, dtype: object</span>

<span class="gp">In [4]: </span><span class="n">df</span><span class="o">.</span><span class="n">to_json</span><span class="p">(</span><span class="s1">&#39;test.json&#39;</span><span class="p">,</span> <span class="n">orient</span><span class="o">=</span><span class="s1">&#39;table&#39;</span><span class="p">)</span>

<span class="gp">In [5]: </span><span class="n">new_df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_json</span><span class="p">(</span><span class="s1">&#39;test.json&#39;</span><span class="p">,</span> <span class="n">orient</span><span class="o">=</span><span class="s1">&#39;table&#39;</span><span class="p">)</span>

<span class="gp">In [6]: </span><span class="n">new_df</span>
<span class="gh">Out[6]: </span>
<span class="go">     foo bar        baz qux</span>
<span class="go">idx                        </span>
<span class="go">0      1   a 2018-01-01   a</span>
<span class="go">1      2   b 2018-01-02   b</span>
<span class="go">2      3   c 2018-01-03   c</span>
<span class="go">3      4   d 2018-01-04   c</span>

<span class="go">[4 rows x 4 columns]</span>

<span class="gp">In [7]: </span><span class="n">new_df</span><span class="o">.</span><span class="n">dtypes</span>
<span class="gh">Out[7]: </span>
<span class="go">foo             int64</span>
<span class="go">bar            object</span>
<span class="go">baz    datetime64[ns]</span>
<span class="go">qux          category</span>
<span class="go">Length: 4, dtype: object</span>
</pre></div>
</div>
<p>Please note that the string <code class="docutils literal notranslate"><span class="pre">index</span></code> is not supported with the round trip format, as it is used by default in <code class="docutils literal notranslate"><span class="pre">write_json</span></code> to indicate a missing index name.</p>
<div class="highlight-ipython notranslate"><div class="highlight"><pre><span></span><span class="gp">In [8]: </span><span class="n">df</span><span class="o">.</span><span class="n">index</span><span class="o">.</span><span class="n">name</span> <span class="o">=</span> <span class="s1">&#39;index&#39;</span>

<span class="gp">In [9]: </span><span class="n">df</span><span class="o">.</span><span class="n">to_json</span><span class="p">(</span><span class="s1">&#39;test.json&#39;</span><span class="p">,</span> <span class="n">orient</span><span class="o">=</span><span class="s1">&#39;table&#39;</span><span class="p">)</span>

<span class="gp">In [10]: </span><span class="n">new_df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_json</span><span class="p">(</span><span class="s1">&#39;test.json&#39;</span><span class="p">,</span> <span class="n">orient</span><span class="o">=</span><span class="s1">&#39;table&#39;</span><span class="p">)</span>

<span class="gp">In [11]: </span><span class="n">new_df</span>
<span class="gh">Out[11]: </span>
<span class="go">   foo bar        baz qux</span>
<span class="go">0    1   a 2018-01-01   a</span>
<span class="go">1    2   b 2018-01-02   b</span>
<span class="go">2    3   c 2018-01-03   c</span>
<span class="go">3    4   d 2018-01-04   c</span>

<span class="go">[4 rows x 4 columns]</span>

<span class="gp">In [12]: </span><span class="n">new_df</span><span class="o">.</span><span class="n">dtypes</span>
<span class="gh">Out[12]: </span>
<span class="go">foo             int64</span>
<span class="go">bar            object</span>
<span class="go">baz    datetime64[ns]</span>
<span class="go">qux          category</span>
<span class="go">Length: 4, dtype: object</span>
</pre></div>
</div>
</section>
<section id="method-assign-accepts-dependent-arguments">
<span id="whatsnew-0230-enhancements-assign-dependent"></span><h3>Method <code class="docutils literal notranslate"><span class="pre">.assign()</span></code> accepts dependent arguments<a class="headerlink" href="#method-assign-accepts-dependent-arguments" title="Link to this heading">#</a></h3>
<p>The <a class="reference internal" href="../reference/api/pandas.DataFrame.assign.html#pandas.DataFrame.assign" title="pandas.DataFrame.assign"><code class="xref py py-func docutils literal notranslate"><span class="pre">DataFrame.assign()</span></code></a> now accepts dependent keyword arguments for python version later than 3.6 (see also <a class="reference external" href="https://www.python.org/dev/peps/pep-0468/">PEP 468</a>). Later keyword arguments may now refer to earlier ones if the argument is a callable. See the
<a class="reference internal" href="../user_guide/dsintro.html#dsintro-chained-assignment"><span class="std std-ref">documentation here</span></a> (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/14207">GH 14207</a>)</p>
<div class="highlight-ipython notranslate"><div class="highlight"><pre><span></span><span class="gp">In [13]: </span><span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">({</span><span class="s1">&#39;A&#39;</span><span class="p">:</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">]})</span>

<span class="gp">In [14]: </span><span class="n">df</span>
<span class="gh">Out[14]: </span>
<span class="go">   A</span>
<span class="go">0  1</span>
<span class="go">1  2</span>
<span class="go">2  3</span>

<span class="go">[3 rows x 1 columns]</span>

<span class="gp">In [15]: </span><span class="n">df</span><span class="o">.</span><span class="n">assign</span><span class="p">(</span><span class="n">B</span><span class="o">=</span><span class="n">df</span><span class="o">.</span><span class="n">A</span><span class="p">,</span> <span class="n">C</span><span class="o">=</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="n">x</span><span class="p">[</span><span class="s1">&#39;A&#39;</span><span class="p">]</span> <span class="o">+</span> <span class="n">x</span><span class="p">[</span><span class="s1">&#39;B&#39;</span><span class="p">])</span>
<span class="gh">Out[15]: </span>
<span class="go">   A  B  C</span>
<span class="go">0  1  1  2</span>
<span class="go">1  2  2  4</span>
<span class="go">2  3  3  6</span>

<span class="go">[3 rows x 3 columns]</span>
</pre></div>
</div>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>This may subtly change the behavior of your code when you’re
using <code class="docutils literal notranslate"><span class="pre">.assign()</span></code> to update an existing column. Previously, callables
referring to other variables being updated would get the “old” values</p>
<p>Previous behavior:</p>
<div class="highlight-ipython notranslate"><div class="highlight"><pre><span></span><span class="gp">In [2]: </span><span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">({</span><span class="s2">&quot;A&quot;</span><span class="p">:</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">]})</span>

<span class="gp">In [3]: </span><span class="n">df</span><span class="o">.</span><span class="n">assign</span><span class="p">(</span><span class="n">A</span><span class="o">=</span><span class="k">lambda</span> <span class="n">df</span><span class="p">:</span> <span class="n">df</span><span class="o">.</span><span class="n">A</span> <span class="o">+</span> <span class="mi">1</span><span class="p">,</span> <span class="n">C</span><span class="o">=</span><span class="k">lambda</span> <span class="n">df</span><span class="p">:</span> <span class="n">df</span><span class="o">.</span><span class="n">A</span> <span class="o">*</span> <span class="o">-</span><span class="mi">1</span><span class="p">)</span>
<span class="gh">Out[3]:</span>
<span class="go">   A  C</span>
<span class="go">0  2 -1</span>
<span class="go">1  3 -2</span>
<span class="go">2  4 -3</span>
</pre></div>
</div>
<p>New behavior:</p>
<div class="highlight-ipython notranslate"><div class="highlight"><pre><span></span><span class="gp">In [16]: </span><span class="n">df</span><span class="o">.</span><span class="n">assign</span><span class="p">(</span><span class="n">A</span><span class="o">=</span><span class="n">df</span><span class="o">.</span><span class="n">A</span> <span class="o">+</span> <span class="mi">1</span><span class="p">,</span> <span class="n">C</span><span class="o">=</span><span class="k">lambda</span> <span class="n">df</span><span class="p">:</span> <span class="n">df</span><span class="o">.</span><span class="n">A</span> <span class="o">*</span> <span class="o">-</span><span class="mi">1</span><span class="p">)</span>
<span class="gh">Out[16]: </span>
<span class="go">   A  C</span>
<span class="go">0  2 -2</span>
<span class="go">1  3 -3</span>
<span class="go">2  4 -4</span>

<span class="go">[3 rows x 2 columns]</span>
</pre></div>
</div>
</div>
</section>
<section id="merging-on-a-combination-of-columns-and-index-levels">
<span id="whatsnew-0230-enhancements-merge-on-columns-and-levels"></span><h3>Merging on a combination of columns and index levels<a class="headerlink" href="#merging-on-a-combination-of-columns-and-index-levels" title="Link to this heading">#</a></h3>
<p>Strings passed to <a class="reference internal" href="../reference/api/pandas.DataFrame.merge.html#pandas.DataFrame.merge" title="pandas.DataFrame.merge"><code class="xref py py-meth docutils literal notranslate"><span class="pre">DataFrame.merge()</span></code></a> as the <code class="docutils literal notranslate"><span class="pre">on</span></code>, <code class="docutils literal notranslate"><span class="pre">left_on</span></code>, and <code class="docutils literal notranslate"><span class="pre">right_on</span></code>
parameters may now refer to either column names or index level names.
This enables merging <code class="docutils literal notranslate"><span class="pre">DataFrame</span></code> instances on a combination of index levels
and columns without resetting indexes. See the <a class="reference internal" href="../user_guide/merging.html#merging-merge-on-columns-and-levels"><span class="std std-ref">Merge on columns and
levels</span></a> documentation section.
(<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/14355">GH 14355</a>)</p>
<div class="highlight-ipython notranslate"><div class="highlight"><pre><span></span><span class="gp">In [17]: </span><span class="n">left_index</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">Index</span><span class="p">([</span><span class="s1">&#39;K0&#39;</span><span class="p">,</span> <span class="s1">&#39;K0&#39;</span><span class="p">,</span> <span class="s1">&#39;K1&#39;</span><span class="p">,</span> <span class="s1">&#39;K2&#39;</span><span class="p">],</span> <span class="n">name</span><span class="o">=</span><span class="s1">&#39;key1&#39;</span><span class="p">)</span>

<span class="gp">In [18]: </span><span class="n">left</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">({</span><span class="s1">&#39;A&#39;</span><span class="p">:</span> <span class="p">[</span><span class="s1">&#39;A0&#39;</span><span class="p">,</span> <span class="s1">&#39;A1&#39;</span><span class="p">,</span> <span class="s1">&#39;A2&#39;</span><span class="p">,</span> <span class="s1">&#39;A3&#39;</span><span class="p">],</span>
<span class="gp">   ....: </span>                     <span class="s1">&#39;B&#39;</span><span class="p">:</span> <span class="p">[</span><span class="s1">&#39;B0&#39;</span><span class="p">,</span> <span class="s1">&#39;B1&#39;</span><span class="p">,</span> <span class="s1">&#39;B2&#39;</span><span class="p">,</span> <span class="s1">&#39;B3&#39;</span><span class="p">],</span>
<span class="gp">   ....: </span>                     <span class="s1">&#39;key2&#39;</span><span class="p">:</span> <span class="p">[</span><span class="s1">&#39;K0&#39;</span><span class="p">,</span> <span class="s1">&#39;K1&#39;</span><span class="p">,</span> <span class="s1">&#39;K0&#39;</span><span class="p">,</span> <span class="s1">&#39;K1&#39;</span><span class="p">]},</span>
<span class="gp">   ....: </span>                    <span class="n">index</span><span class="o">=</span><span class="n">left_index</span><span class="p">)</span>
<span class="gp">   ....: </span>

<span class="gp">In [19]: </span><span class="n">right_index</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">Index</span><span class="p">([</span><span class="s1">&#39;K0&#39;</span><span class="p">,</span> <span class="s1">&#39;K1&#39;</span><span class="p">,</span> <span class="s1">&#39;K2&#39;</span><span class="p">,</span> <span class="s1">&#39;K2&#39;</span><span class="p">],</span> <span class="n">name</span><span class="o">=</span><span class="s1">&#39;key1&#39;</span><span class="p">)</span>

<span class="gp">In [20]: </span><span class="n">right</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">({</span><span class="s1">&#39;C&#39;</span><span class="p">:</span> <span class="p">[</span><span class="s1">&#39;C0&#39;</span><span class="p">,</span> <span class="s1">&#39;C1&#39;</span><span class="p">,</span> <span class="s1">&#39;C2&#39;</span><span class="p">,</span> <span class="s1">&#39;C3&#39;</span><span class="p">],</span>
<span class="gp">   ....: </span>                      <span class="s1">&#39;D&#39;</span><span class="p">:</span> <span class="p">[</span><span class="s1">&#39;D0&#39;</span><span class="p">,</span> <span class="s1">&#39;D1&#39;</span><span class="p">,</span> <span class="s1">&#39;D2&#39;</span><span class="p">,</span> <span class="s1">&#39;D3&#39;</span><span class="p">],</span>
<span class="gp">   ....: </span>                      <span class="s1">&#39;key2&#39;</span><span class="p">:</span> <span class="p">[</span><span class="s1">&#39;K0&#39;</span><span class="p">,</span> <span class="s1">&#39;K0&#39;</span><span class="p">,</span> <span class="s1">&#39;K0&#39;</span><span class="p">,</span> <span class="s1">&#39;K1&#39;</span><span class="p">]},</span>
<span class="gp">   ....: </span>                     <span class="n">index</span><span class="o">=</span><span class="n">right_index</span><span class="p">)</span>
<span class="gp">   ....: </span>

<span class="gp">In [21]: </span><span class="n">left</span><span class="o">.</span><span class="n">merge</span><span class="p">(</span><span class="n">right</span><span class="p">,</span> <span class="n">on</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;key1&#39;</span><span class="p">,</span> <span class="s1">&#39;key2&#39;</span><span class="p">])</span>
<span class="gh">Out[21]: </span>
<span class="go">       A   B key2   C   D</span>
<span class="go">key1                     </span>
<span class="go">K0    A0  B0   K0  C0  D0</span>
<span class="go">K1    A2  B2   K0  C1  D1</span>
<span class="go">K2    A3  B3   K1  C3  D3</span>

<span class="go">[3 rows x 5 columns]</span>
</pre></div>
</div>
</section>
<section id="sorting-by-a-combination-of-columns-and-index-levels">
<span id="whatsnew-0230-enhancements-sort-by-columns-and-levels"></span><h3>Sorting by a combination of columns and index levels<a class="headerlink" href="#sorting-by-a-combination-of-columns-and-index-levels" title="Link to this heading">#</a></h3>
<p>Strings passed to <a class="reference internal" href="../reference/api/pandas.DataFrame.sort_values.html#pandas.DataFrame.sort_values" title="pandas.DataFrame.sort_values"><code class="xref py py-meth docutils literal notranslate"><span class="pre">DataFrame.sort_values()</span></code></a> as the <code class="docutils literal notranslate"><span class="pre">by</span></code> parameter may
now refer to either column names or index level names.  This enables sorting
<code class="docutils literal notranslate"><span class="pre">DataFrame</span></code> instances by a combination of index levels and columns without
resetting indexes. See the <a class="reference internal" href="../user_guide/basics.html#basics-sort-indexes-and-values"><span class="std std-ref">Sorting by Indexes and Values</span></a> documentation section.
(<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/14353">GH 14353</a>)</p>
<div class="highlight-ipython notranslate"><div class="highlight"><pre><span></span><span class="go"># Build MultiIndex</span>
<span class="gp">In [22]: </span><span class="n">idx</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">MultiIndex</span><span class="o">.</span><span class="n">from_tuples</span><span class="p">([(</span><span class="s1">&#39;a&#39;</span><span class="p">,</span> <span class="mi">1</span><span class="p">),</span> <span class="p">(</span><span class="s1">&#39;a&#39;</span><span class="p">,</span> <span class="mi">2</span><span class="p">),</span> <span class="p">(</span><span class="s1">&#39;a&#39;</span><span class="p">,</span> <span class="mi">2</span><span class="p">),</span>
<span class="gp">   ....: </span>                                 <span class="p">(</span><span class="s1">&#39;b&#39;</span><span class="p">,</span> <span class="mi">2</span><span class="p">),</span> <span class="p">(</span><span class="s1">&#39;b&#39;</span><span class="p">,</span> <span class="mi">1</span><span class="p">),</span> <span class="p">(</span><span class="s1">&#39;b&#39;</span><span class="p">,</span> <span class="mi">1</span><span class="p">)])</span>
<span class="gp">   ....: </span>

<span class="gp">In [23]: </span><span class="n">idx</span><span class="o">.</span><span class="n">names</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;first&#39;</span><span class="p">,</span> <span class="s1">&#39;second&#39;</span><span class="p">]</span>

<span class="go"># Build DataFrame</span>
<span class="gp">In [24]: </span><span class="n">df_multi</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">({</span><span class="s1">&#39;A&#39;</span><span class="p">:</span> <span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="mi">6</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">)},</span>
<span class="gp">   ....: </span>                        <span class="n">index</span><span class="o">=</span><span class="n">idx</span><span class="p">)</span>
<span class="gp">   ....: </span>

<span class="gp">In [25]: </span><span class="n">df_multi</span>
<span class="gh">Out[25]: </span>
<span class="go">              A</span>
<span class="go">first second   </span>
<span class="go">a     1       6</span>
<span class="go">      2       5</span>
<span class="go">      2       4</span>
<span class="go">b     2       3</span>
<span class="go">      1       2</span>
<span class="go">      1       1</span>

<span class="go">[6 rows x 1 columns]</span>

<span class="go"># Sort by &#39;second&#39; (index) and &#39;A&#39; (column)</span>
<span class="gp">In [26]: </span><span class="n">df_multi</span><span class="o">.</span><span class="n">sort_values</span><span class="p">(</span><span class="n">by</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;second&#39;</span><span class="p">,</span> <span class="s1">&#39;A&#39;</span><span class="p">])</span>
<span class="gh">Out[26]: </span>
<span class="go">              A</span>
<span class="go">first second   </span>
<span class="go">b     1       1</span>
<span class="go">      1       2</span>
<span class="go">a     1       6</span>
<span class="go">b     2       3</span>
<span class="go">a     2       4</span>
<span class="go">      2       5</span>

<span class="go">[6 rows x 1 columns]</span>
</pre></div>
</div>
</section>
<section id="extending-pandas-with-custom-types-experimental">
<span id="whatsnew-023-enhancements-extension"></span><h3>Extending pandas with custom types (experimental)<a class="headerlink" href="#extending-pandas-with-custom-types-experimental" title="Link to this heading">#</a></h3>
<p>pandas now supports storing array-like objects that aren’t necessarily 1-D NumPy
arrays as columns in a DataFrame or values in a Series. This allows third-party
libraries to implement extensions to NumPy’s types, similar to how pandas
implemented categoricals, datetimes with timezones, periods, and intervals.</p>
<p>As a demonstration, we’ll use <a class="reference external" href="https://cyberpandas.readthedocs.io/en/latest/">cyberpandas</a>, which provides an <code class="docutils literal notranslate"><span class="pre">IPArray</span></code> type
for storing ip addresses.</p>
<div class="highlight-ipython notranslate"><div class="highlight"><pre><span></span><span class="gp">In [1]: </span><span class="kn">from</span> <span class="nn">cyberpandas</span> <span class="kn">import</span> <span class="n">IPArray</span>

<span class="gp">In [2]: </span><span class="n">values</span> <span class="o">=</span> <span class="n">IPArray</span><span class="p">([</span>
<span class="gp">   ...: </span>    <span class="mi">0</span><span class="p">,</span>
<span class="gp">   ...: </span>    <span class="mi">3232235777</span><span class="p">,</span>
<span class="gp">   ...: </span>    <span class="mi">42540766452641154071740215577757643572</span>
<span class="gp">   ...: </span><span class="p">])</span>
<span class="gp">   ...:</span>
<span class="gp">   ...:</span>
</pre></div>
</div>
<p><code class="docutils literal notranslate"><span class="pre">IPArray</span></code> isn’t a normal 1-D NumPy array, but because it’s a pandas
<a class="reference internal" href="../reference/api/pandas.api.extensions.ExtensionArray.html#pandas.api.extensions.ExtensionArray" title="pandas.api.extensions.ExtensionArray"><code class="xref py py-class docutils literal notranslate"><span class="pre">ExtensionArray</span></code></a>, it can be stored properly inside pandas’ containers.</p>
<div class="highlight-ipython notranslate"><div class="highlight"><pre><span></span><span class="gp">In [3]: </span><span class="n">ser</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">Series</span><span class="p">(</span><span class="n">values</span><span class="p">)</span>

<span class="gp">In [4]: </span><span class="n">ser</span>
<span class="gh">Out[4]:</span>
<span class="go">0                         0.0.0.0</span>
<span class="go">1                     192.168.1.1</span>
<span class="go">2    2001:db8:85a3::8a2e:370:7334</span>
<span class="go">dtype: ip</span>
</pre></div>
</div>
<p>Notice that the dtype is <code class="docutils literal notranslate"><span class="pre">ip</span></code>. The missing value semantics of the underlying
array are respected:</p>
<div class="highlight-ipython notranslate"><div class="highlight"><pre><span></span><span class="gp">In [5]: </span><span class="n">ser</span><span class="o">.</span><span class="n">isna</span><span class="p">()</span>
<span class="gh">Out[5]:</span>
<span class="go">0     True</span>
<span class="go">1    False</span>
<span class="go">2    False</span>
<span class="go">dtype: bool</span>
</pre></div>
</div>
<p>For more, see the <a class="reference internal" href="../development/extending.html#extending-extension-types"><span class="std std-ref">extension types</span></a>
documentation. If you build an extension array, publicize it on <a class="reference external" href="https://pandas.pydata.org/community/ecosystem.html">the ecosystem page</a>.</p>
</section>
<section id="new-observed-keyword-for-excluding-unobserved-categories-in-groupby">
<span id="whatsnew-0230-enhancements-categorical-grouping"></span><h3>New <code class="docutils literal notranslate"><span class="pre">observed</span></code> keyword for excluding unobserved categories in <code class="docutils literal notranslate"><span class="pre">GroupBy</span></code><a class="headerlink" href="#new-observed-keyword-for-excluding-unobserved-categories-in-groupby" title="Link to this heading">#</a></h3>
<p>Grouping by a categorical includes the unobserved categories in the output.
When grouping by multiple categorical columns, this means you get the cartesian product of all the
categories, including combinations where there are no observations, which can result in a large
number of groups. We have added a keyword <code class="docutils literal notranslate"><span class="pre">observed</span></code> to control this behavior, it defaults to
<code class="docutils literal notranslate"><span class="pre">observed=False</span></code> for backward-compatibility. (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/14942">GH 14942</a>, <a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/8138">GH 8138</a>, <a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/15217">GH 15217</a>, <a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/17594">GH 17594</a>, <a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/8669">GH 8669</a>, <a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/20583">GH 20583</a>, <a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/20902">GH 20902</a>)</p>
<div class="highlight-ipython notranslate"><div class="highlight"><pre><span></span><span class="gp">In [27]: </span><span class="n">cat1</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">Categorical</span><span class="p">([</span><span class="s2">&quot;a&quot;</span><span class="p">,</span> <span class="s2">&quot;a&quot;</span><span class="p">,</span> <span class="s2">&quot;b&quot;</span><span class="p">,</span> <span class="s2">&quot;b&quot;</span><span class="p">],</span>
<span class="gp">   ....: </span>                      <span class="n">categories</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;a&quot;</span><span class="p">,</span> <span class="s2">&quot;b&quot;</span><span class="p">,</span> <span class="s2">&quot;z&quot;</span><span class="p">],</span> <span class="n">ordered</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="gp">   ....: </span>

<span class="gp">In [28]: </span><span class="n">cat2</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">Categorical</span><span class="p">([</span><span class="s2">&quot;c&quot;</span><span class="p">,</span> <span class="s2">&quot;d&quot;</span><span class="p">,</span> <span class="s2">&quot;c&quot;</span><span class="p">,</span> <span class="s2">&quot;d&quot;</span><span class="p">],</span>
<span class="gp">   ....: </span>                      <span class="n">categories</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;c&quot;</span><span class="p">,</span> <span class="s2">&quot;d&quot;</span><span class="p">,</span> <span class="s2">&quot;y&quot;</span><span class="p">],</span> <span class="n">ordered</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="gp">   ....: </span>

<span class="gp">In [29]: </span><span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">({</span><span class="s2">&quot;A&quot;</span><span class="p">:</span> <span class="n">cat1</span><span class="p">,</span> <span class="s2">&quot;B&quot;</span><span class="p">:</span> <span class="n">cat2</span><span class="p">,</span> <span class="s2">&quot;values&quot;</span><span class="p">:</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">]})</span>

<span class="gp">In [30]: </span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;C&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;foo&#39;</span><span class="p">,</span> <span class="s1">&#39;bar&#39;</span><span class="p">]</span> <span class="o">*</span> <span class="mi">2</span>

<span class="gp">In [31]: </span><span class="n">df</span>
<span class="gh">Out[31]: </span>
<span class="go">   A  B  values    C</span>
<span class="go">0  a  c       1  foo</span>
<span class="go">1  a  d       2  bar</span>
<span class="go">2  b  c       3  foo</span>
<span class="go">3  b  d       4  bar</span>

<span class="go">[4 rows x 4 columns]</span>
</pre></div>
</div>
<p>To show all values, the previous behavior:</p>
<div class="highlight-ipython notranslate"><div class="highlight"><pre><span></span><span class="gp">In [32]: </span><span class="n">df</span><span class="o">.</span><span class="n">groupby</span><span class="p">([</span><span class="s1">&#39;A&#39;</span><span class="p">,</span> <span class="s1">&#39;B&#39;</span><span class="p">,</span> <span class="s1">&#39;C&#39;</span><span class="p">],</span> <span class="n">observed</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span><span class="o">.</span><span class="n">count</span><span class="p">()</span>
<span class="gh">Out[32]: </span>
<span class="go">         values</span>
<span class="go">A B C          </span>
<span class="go">a c bar       0</span>
<span class="go">    foo       1</span>
<span class="go">  d bar       1</span>
<span class="go">    foo       0</span>
<span class="go">  y bar       0</span>
<span class="go">...         ...</span>
<span class="go">z c foo       0</span>
<span class="go">  d bar       0</span>
<span class="go">    foo       0</span>
<span class="go">  y bar       0</span>
<span class="go">    foo       0</span>

<span class="go">[18 rows x 1 columns]</span>
</pre></div>
</div>
<p>To show only observed values:</p>
<div class="highlight-ipython notranslate"><div class="highlight"><pre><span></span><span class="gp">In [33]: </span><span class="n">df</span><span class="o">.</span><span class="n">groupby</span><span class="p">([</span><span class="s1">&#39;A&#39;</span><span class="p">,</span> <span class="s1">&#39;B&#39;</span><span class="p">,</span> <span class="s1">&#39;C&#39;</span><span class="p">],</span> <span class="n">observed</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span><span class="o">.</span><span class="n">count</span><span class="p">()</span>
<span class="gh">Out[33]: </span>
<span class="go">         values</span>
<span class="go">A B C          </span>
<span class="go">a c foo       1</span>
<span class="go">  d bar       1</span>
<span class="go">b c foo       1</span>
<span class="go">  d bar       1</span>

<span class="go">[4 rows x 1 columns]</span>
</pre></div>
</div>
<p>For pivoting operations, this behavior is <em>already</em> controlled by the <code class="docutils literal notranslate"><span class="pre">dropna</span></code> keyword:</p>
<div class="highlight-ipython notranslate"><div class="highlight"><pre><span></span><span class="gp">In [34]: </span><span class="n">cat1</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">Categorical</span><span class="p">([</span><span class="s2">&quot;a&quot;</span><span class="p">,</span> <span class="s2">&quot;a&quot;</span><span class="p">,</span> <span class="s2">&quot;b&quot;</span><span class="p">,</span> <span class="s2">&quot;b&quot;</span><span class="p">],</span>
<span class="gp">   ....: </span>                      <span class="n">categories</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;a&quot;</span><span class="p">,</span> <span class="s2">&quot;b&quot;</span><span class="p">,</span> <span class="s2">&quot;z&quot;</span><span class="p">],</span> <span class="n">ordered</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="gp">   ....: </span>

<span class="gp">In [35]: </span><span class="n">cat2</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">Categorical</span><span class="p">([</span><span class="s2">&quot;c&quot;</span><span class="p">,</span> <span class="s2">&quot;d&quot;</span><span class="p">,</span> <span class="s2">&quot;c&quot;</span><span class="p">,</span> <span class="s2">&quot;d&quot;</span><span class="p">],</span>
<span class="gp">   ....: </span>                      <span class="n">categories</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;c&quot;</span><span class="p">,</span> <span class="s2">&quot;d&quot;</span><span class="p">,</span> <span class="s2">&quot;y&quot;</span><span class="p">],</span> <span class="n">ordered</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="gp">   ....: </span>

<span class="gp">In [36]: </span><span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">({</span><span class="s2">&quot;A&quot;</span><span class="p">:</span> <span class="n">cat1</span><span class="p">,</span> <span class="s2">&quot;B&quot;</span><span class="p">:</span> <span class="n">cat2</span><span class="p">,</span> <span class="s2">&quot;values&quot;</span><span class="p">:</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">]})</span>

<span class="gp">In [37]: </span><span class="n">df</span>
<span class="gh">Out[37]: </span>
<span class="go">   A  B  values</span>
<span class="go">0  a  c       1</span>
<span class="go">1  a  d       2</span>
<span class="go">2  b  c       3</span>
<span class="go">3  b  d       4</span>

<span class="go">[4 rows x 3 columns]</span>
</pre></div>
</div>
<div class="highlight-ipython notranslate"><div class="highlight"><pre><span></span><span class="gp">In [1]: </span><span class="n">pd</span><span class="o">.</span><span class="n">pivot_table</span><span class="p">(</span><span class="n">df</span><span class="p">,</span> <span class="n">values</span><span class="o">=</span><span class="s1">&#39;values&#39;</span><span class="p">,</span> <span class="n">index</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;A&#39;</span><span class="p">,</span> <span class="s1">&#39;B&#39;</span><span class="p">],</span> <span class="n">dropna</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>

<span class="gh">Out[1]:</span>
<span class="go">     values</span>
<span class="go">A B</span>
<span class="go">a c     1.0</span>
<span class="go">  d     2.0</span>
<span class="go">b c     3.0</span>
<span class="go">  d     4.0</span>

<span class="gp">In [2]: </span><span class="n">pd</span><span class="o">.</span><span class="n">pivot_table</span><span class="p">(</span><span class="n">df</span><span class="p">,</span> <span class="n">values</span><span class="o">=</span><span class="s1">&#39;values&#39;</span><span class="p">,</span> <span class="n">index</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;A&#39;</span><span class="p">,</span> <span class="s1">&#39;B&#39;</span><span class="p">],</span> <span class="n">dropna</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>

<span class="gh">Out[2]:</span>
<span class="go">     values</span>
<span class="go">A B</span>
<span class="go">a c     1.0</span>
<span class="go">  d     2.0</span>
<span class="go">  y     NaN</span>
<span class="go">b c     3.0</span>
<span class="go">  d     4.0</span>
<span class="go">  y     NaN</span>
<span class="go">z c     NaN</span>
<span class="go">  d     NaN</span>
<span class="go">  y     NaN</span>
</pre></div>
</div>
</section>
<section id="rolling-expanding-apply-accepts-raw-false-to-pass-a-series-to-the-function">
<span id="whatsnew-0230-enhancements-window-raw"></span><h3>Rolling/Expanding.apply() accepts <code class="docutils literal notranslate"><span class="pre">raw=False</span></code> to pass a <code class="docutils literal notranslate"><span class="pre">Series</span></code> to the function<a class="headerlink" href="#rolling-expanding-apply-accepts-raw-false-to-pass-a-series-to-the-function" title="Link to this heading">#</a></h3>
<p><code class="xref py py-func docutils literal notranslate"><span class="pre">Series.rolling().apply()</span></code>, <code class="xref py py-func docutils literal notranslate"><span class="pre">DataFrame.rolling().apply()</span></code>,
<code class="xref py py-func docutils literal notranslate"><span class="pre">Series.expanding().apply()</span></code>, and <code class="xref py py-func docutils literal notranslate"><span class="pre">DataFrame.expanding().apply()</span></code> have gained a <code class="docutils literal notranslate"><span class="pre">raw=None</span></code> parameter.
This is similar to <code class="xref py py-func docutils literal notranslate"><span class="pre">DataFame.apply()</span></code>. This parameter, if <code class="docutils literal notranslate"><span class="pre">True</span></code> allows one to send a <code class="docutils literal notranslate"><span class="pre">np.ndarray</span></code> to the applied function. If <code class="docutils literal notranslate"><span class="pre">False</span></code> a <code class="docutils literal notranslate"><span class="pre">Series</span></code> will be passed. The
default is <code class="docutils literal notranslate"><span class="pre">None</span></code>, which preserves backward compatibility, so this will default to <code class="docutils literal notranslate"><span class="pre">True</span></code>, sending an <code class="docutils literal notranslate"><span class="pre">np.ndarray</span></code>.
In a future version the default will be changed to <code class="docutils literal notranslate"><span class="pre">False</span></code>, sending a <code class="docutils literal notranslate"><span class="pre">Series</span></code>. (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/5071">GH 5071</a>, <a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/20584">GH 20584</a>)</p>
<div class="highlight-ipython notranslate"><div class="highlight"><pre><span></span><span class="gp">In [38]: </span><span class="n">s</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">Series</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="mi">5</span><span class="p">),</span> <span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span> <span class="o">+</span> <span class="mi">1</span><span class="p">)</span>

<span class="gp">In [39]: </span><span class="n">s</span>
<span class="gh">Out[39]: </span>
<span class="go">1    0</span>
<span class="go">2    1</span>
<span class="go">3    2</span>
<span class="go">4    3</span>
<span class="go">5    4</span>
<span class="go">Length: 5, dtype: int64</span>
</pre></div>
</div>
<p>Pass a <code class="docutils literal notranslate"><span class="pre">Series</span></code>:</p>
<div class="highlight-ipython notranslate"><div class="highlight"><pre><span></span><span class="gp">In [40]: </span><span class="n">s</span><span class="o">.</span><span class="n">rolling</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="n">min_periods</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span><span class="o">.</span><span class="n">apply</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="n">x</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">],</span> <span class="n">raw</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="gh">Out[40]: </span>
<span class="go">1    0.0</span>
<span class="go">2    1.0</span>
<span class="go">3    2.0</span>
<span class="go">4    3.0</span>
<span class="go">5    4.0</span>
<span class="go">Length: 5, dtype: float64</span>
</pre></div>
</div>
<p>Mimic the original behavior of passing a ndarray:</p>
<div class="highlight-ipython notranslate"><div class="highlight"><pre><span></span><span class="gp">In [41]: </span><span class="n">s</span><span class="o">.</span><span class="n">rolling</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="n">min_periods</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span><span class="o">.</span><span class="n">apply</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="n">x</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">],</span> <span class="n">raw</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="gh">Out[41]: </span>
<span class="go">1    0.0</span>
<span class="go">2    1.0</span>
<span class="go">3    2.0</span>
<span class="go">4    3.0</span>
<span class="go">5    4.0</span>
<span class="go">Length: 5, dtype: float64</span>
</pre></div>
</div>
</section>
<section id="dataframe-interpolate-has-gained-the-limit-area-kwarg">
<span id="whatsnew-0210-enhancements-limit-area"></span><h3><code class="docutils literal notranslate"><span class="pre">DataFrame.interpolate</span></code> has gained the <code class="docutils literal notranslate"><span class="pre">limit_area</span></code> kwarg<a class="headerlink" href="#dataframe-interpolate-has-gained-the-limit-area-kwarg" title="Link to this heading">#</a></h3>
<p><a class="reference internal" href="../reference/api/pandas.DataFrame.interpolate.html#pandas.DataFrame.interpolate" title="pandas.DataFrame.interpolate"><code class="xref py py-meth docutils literal notranslate"><span class="pre">DataFrame.interpolate()</span></code></a> has gained a <code class="docutils literal notranslate"><span class="pre">limit_area</span></code> parameter to allow further control of which <code class="docutils literal notranslate"><span class="pre">NaN</span></code> s are replaced.
Use <code class="docutils literal notranslate"><span class="pre">limit_area='inside'</span></code> to fill only NaNs surrounded by valid values or use <code class="docutils literal notranslate"><span class="pre">limit_area='outside'</span></code> to fill only <code class="docutils literal notranslate"><span class="pre">NaN</span></code> s
outside the existing valid values while preserving those inside.  (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/16284">GH 16284</a>) See the <a class="reference internal" href="../user_guide/missing_data.html#missing-data-interp-limits"><span class="std std-ref">full documentation here</span></a>.</p>
<div class="highlight-ipython notranslate"><div class="highlight"><pre><span></span><span class="gp">In [42]: </span><span class="n">ser</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">Series</span><span class="p">([</span><span class="n">np</span><span class="o">.</span><span class="n">nan</span><span class="p">,</span> <span class="n">np</span><span class="o">.</span><span class="n">nan</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="n">np</span><span class="o">.</span><span class="n">nan</span><span class="p">,</span> <span class="n">np</span><span class="o">.</span><span class="n">nan</span><span class="p">,</span>
<span class="gp">   ....: </span>                 <span class="n">np</span><span class="o">.</span><span class="n">nan</span><span class="p">,</span> <span class="mi">13</span><span class="p">,</span> <span class="n">np</span><span class="o">.</span><span class="n">nan</span><span class="p">,</span> <span class="n">np</span><span class="o">.</span><span class="n">nan</span><span class="p">])</span>
<span class="gp">   ....: </span>

<span class="gp">In [43]: </span><span class="n">ser</span>
<span class="gh">Out[43]: </span>
<span class="go">0     NaN</span>
<span class="go">1     NaN</span>
<span class="go">2     5.0</span>
<span class="go">3     NaN</span>
<span class="go">4     NaN</span>
<span class="go">5     NaN</span>
<span class="go">6    13.0</span>
<span class="go">7     NaN</span>
<span class="go">8     NaN</span>
<span class="go">Length: 9, dtype: float64</span>
</pre></div>
</div>
<p>Fill one consecutive inside value in both directions</p>
<div class="highlight-ipython notranslate"><div class="highlight"><pre><span></span><span class="gp">In [44]: </span><span class="n">ser</span><span class="o">.</span><span class="n">interpolate</span><span class="p">(</span><span class="n">limit_direction</span><span class="o">=</span><span class="s1">&#39;both&#39;</span><span class="p">,</span> <span class="n">limit_area</span><span class="o">=</span><span class="s1">&#39;inside&#39;</span><span class="p">,</span> <span class="n">limit</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
<span class="gh">Out[44]: </span>
<span class="go">0     NaN</span>
<span class="go">1     NaN</span>
<span class="go">2     5.0</span>
<span class="go">3     7.0</span>
<span class="go">4     NaN</span>
<span class="go">5    11.0</span>
<span class="go">6    13.0</span>
<span class="go">7     NaN</span>
<span class="go">8     NaN</span>
<span class="go">Length: 9, dtype: float64</span>
</pre></div>
</div>
<p>Fill all consecutive outside values backward</p>
<div class="highlight-ipython notranslate"><div class="highlight"><pre><span></span><span class="gp">In [45]: </span><span class="n">ser</span><span class="o">.</span><span class="n">interpolate</span><span class="p">(</span><span class="n">limit_direction</span><span class="o">=</span><span class="s1">&#39;backward&#39;</span><span class="p">,</span> <span class="n">limit_area</span><span class="o">=</span><span class="s1">&#39;outside&#39;</span><span class="p">)</span>
<span class="gh">Out[45]: </span>
<span class="go">0     5.0</span>
<span class="go">1     5.0</span>
<span class="go">2     5.0</span>
<span class="go">3     NaN</span>
<span class="go">4     NaN</span>
<span class="go">5     NaN</span>
<span class="go">6    13.0</span>
<span class="go">7     NaN</span>
<span class="go">8     NaN</span>
<span class="go">Length: 9, dtype: float64</span>
</pre></div>
</div>
<p>Fill all consecutive outside values in both directions</p>
<div class="highlight-ipython notranslate"><div class="highlight"><pre><span></span><span class="gp">In [46]: </span><span class="n">ser</span><span class="o">.</span><span class="n">interpolate</span><span class="p">(</span><span class="n">limit_direction</span><span class="o">=</span><span class="s1">&#39;both&#39;</span><span class="p">,</span> <span class="n">limit_area</span><span class="o">=</span><span class="s1">&#39;outside&#39;</span><span class="p">)</span>
<span class="gh">Out[46]: </span>
<span class="go">0     5.0</span>
<span class="go">1     5.0</span>
<span class="go">2     5.0</span>
<span class="go">3     NaN</span>
<span class="go">4     NaN</span>
<span class="go">5     NaN</span>
<span class="go">6    13.0</span>
<span class="go">7    13.0</span>
<span class="go">8    13.0</span>
<span class="go">Length: 9, dtype: float64</span>
</pre></div>
</div>
</section>
<section id="function-get-dummies-now-supports-dtype-argument">
<span id="whatsnew-0210-enhancements-get-dummies-dtype"></span><h3>Function <code class="docutils literal notranslate"><span class="pre">get_dummies</span></code> now supports <code class="docutils literal notranslate"><span class="pre">dtype</span></code> argument<a class="headerlink" href="#function-get-dummies-now-supports-dtype-argument" title="Link to this heading">#</a></h3>
<p>The <a class="reference internal" href="../reference/api/pandas.get_dummies.html#pandas.get_dummies" title="pandas.get_dummies"><code class="xref py py-func docutils literal notranslate"><span class="pre">get_dummies()</span></code></a> now accepts a <code class="docutils literal notranslate"><span class="pre">dtype</span></code> argument, which specifies a dtype for the new columns. The default remains uint8. (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/18330">GH 18330</a>)</p>
<div class="highlight-ipython notranslate"><div class="highlight"><pre><span></span><span class="gp">In [47]: </span><span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">({</span><span class="s1">&#39;a&#39;</span><span class="p">:</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">],</span> <span class="s1">&#39;b&#39;</span><span class="p">:</span> <span class="p">[</span><span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">],</span> <span class="s1">&#39;c&#39;</span><span class="p">:</span> <span class="p">[</span><span class="mi">5</span><span class="p">,</span> <span class="mi">6</span><span class="p">]})</span>

<span class="gp">In [48]: </span><span class="n">pd</span><span class="o">.</span><span class="n">get_dummies</span><span class="p">(</span><span class="n">df</span><span class="p">,</span> <span class="n">columns</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;c&#39;</span><span class="p">])</span><span class="o">.</span><span class="n">dtypes</span>
<span class="gh">Out[48]: </span>
<span class="go">a      int64</span>
<span class="go">b      int64</span>
<span class="go">c_5     bool</span>
<span class="go">c_6     bool</span>
<span class="go">Length: 4, dtype: object</span>

<span class="gp">In [49]: </span><span class="n">pd</span><span class="o">.</span><span class="n">get_dummies</span><span class="p">(</span><span class="n">df</span><span class="p">,</span> <span class="n">columns</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;c&#39;</span><span class="p">],</span> <span class="n">dtype</span><span class="o">=</span><span class="nb">bool</span><span class="p">)</span><span class="o">.</span><span class="n">dtypes</span>
<span class="gh">Out[49]: </span>
<span class="go">a      int64</span>
<span class="go">b      int64</span>
<span class="go">c_5     bool</span>
<span class="go">c_6     bool</span>
<span class="go">Length: 4, dtype: object</span>
</pre></div>
</div>
</section>
<section id="timedelta-mod-method">
<span id="whatsnew-0230-enhancements-timedelta-mod"></span><h3>Timedelta mod method<a class="headerlink" href="#timedelta-mod-method" title="Link to this heading">#</a></h3>
<p><code class="docutils literal notranslate"><span class="pre">mod</span></code> (%) and <code class="docutils literal notranslate"><span class="pre">divmod</span></code> operations are now defined on <code class="docutils literal notranslate"><span class="pre">Timedelta</span></code> objects
when operating with either timedelta-like or with numeric arguments.
See the <a class="reference internal" href="../user_guide/timedeltas.html#timedeltas-mod-divmod"><span class="std std-ref">documentation here</span></a>. (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/19365">GH 19365</a>)</p>
<div class="highlight-ipython notranslate"><div class="highlight"><pre><span></span><span class="gp">In [50]: </span><span class="n">td</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">Timedelta</span><span class="p">(</span><span class="n">hours</span><span class="o">=</span><span class="mi">37</span><span class="p">)</span>

<span class="gp">In [51]: </span><span class="n">td</span> <span class="o">%</span> <span class="n">pd</span><span class="o">.</span><span class="n">Timedelta</span><span class="p">(</span><span class="n">minutes</span><span class="o">=</span><span class="mi">45</span><span class="p">)</span>
<span class="gh">Out[51]: </span><span class="go">Timedelta(&#39;0 days 00:15:00&#39;)</span>
</pre></div>
</div>
</section>
<section id="method-rank-handles-inf-values-when-nan-are-present">
<span id="whatsnew-0230-enhancements-ran-inf"></span><h3>Method <code class="docutils literal notranslate"><span class="pre">.rank()</span></code> handles <code class="docutils literal notranslate"><span class="pre">inf</span></code> values when <code class="docutils literal notranslate"><span class="pre">NaN</span></code> are present<a class="headerlink" href="#method-rank-handles-inf-values-when-nan-are-present" title="Link to this heading">#</a></h3>
<p>In previous versions, <code class="docutils literal notranslate"><span class="pre">.rank()</span></code> would assign <code class="docutils literal notranslate"><span class="pre">inf</span></code> elements <code class="docutils literal notranslate"><span class="pre">NaN</span></code> as their ranks. Now ranks are calculated properly. (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/6945">GH 6945</a>)</p>
<div class="highlight-ipython notranslate"><div class="highlight"><pre><span></span><span class="gp">In [52]: </span><span class="n">s</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">Series</span><span class="p">([</span><span class="o">-</span><span class="n">np</span><span class="o">.</span><span class="n">inf</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="n">np</span><span class="o">.</span><span class="n">nan</span><span class="p">,</span> <span class="n">np</span><span class="o">.</span><span class="n">inf</span><span class="p">])</span>

<span class="gp">In [53]: </span><span class="n">s</span>
<span class="gh">Out[53]: </span>
<span class="go">0   -inf</span>
<span class="go">1    0.0</span>
<span class="go">2    1.0</span>
<span class="go">3    NaN</span>
<span class="go">4    inf</span>
<span class="go">Length: 5, dtype: float64</span>
</pre></div>
</div>
<p>Previous behavior:</p>
<div class="highlight-ipython notranslate"><div class="highlight"><pre><span></span><span class="gp">In [11]: </span><span class="n">s</span><span class="o">.</span><span class="n">rank</span><span class="p">()</span>
<span class="gh">Out[11]:</span>
<span class="go">0    1.0</span>
<span class="go">1    2.0</span>
<span class="go">2    3.0</span>
<span class="go">3    NaN</span>
<span class="go">4    NaN</span>
<span class="go">dtype: float64</span>
</pre></div>
</div>
<p>Current behavior:</p>
<div class="highlight-ipython notranslate"><div class="highlight"><pre><span></span><span class="gp">In [54]: </span><span class="n">s</span><span class="o">.</span><span class="n">rank</span><span class="p">()</span>
<span class="gh">Out[54]: </span>
<span class="go">0    1.0</span>
<span class="go">1    2.0</span>
<span class="go">2    3.0</span>
<span class="go">3    NaN</span>
<span class="go">4    4.0</span>
<span class="go">Length: 5, dtype: float64</span>
</pre></div>
</div>
<p>Furthermore, previously if you rank <code class="docutils literal notranslate"><span class="pre">inf</span></code> or <code class="docutils literal notranslate"><span class="pre">-inf</span></code> values together with <code class="docutils literal notranslate"><span class="pre">NaN</span></code> values, the calculation won’t distinguish <code class="docutils literal notranslate"><span class="pre">NaN</span></code> from infinity when using ‘top’ or ‘bottom’ argument.</p>
<div class="highlight-ipython notranslate"><div class="highlight"><pre><span></span><span class="gp">In [55]: </span><span class="n">s</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">Series</span><span class="p">([</span><span class="n">np</span><span class="o">.</span><span class="n">nan</span><span class="p">,</span> <span class="n">np</span><span class="o">.</span><span class="n">nan</span><span class="p">,</span> <span class="o">-</span><span class="n">np</span><span class="o">.</span><span class="n">inf</span><span class="p">,</span> <span class="o">-</span><span class="n">np</span><span class="o">.</span><span class="n">inf</span><span class="p">])</span>

<span class="gp">In [56]: </span><span class="n">s</span>
<span class="gh">Out[56]: </span>
<span class="go">0    NaN</span>
<span class="go">1    NaN</span>
<span class="go">2   -inf</span>
<span class="go">3   -inf</span>
<span class="go">Length: 4, dtype: float64</span>
</pre></div>
</div>
<p>Previous behavior:</p>
<div class="highlight-ipython notranslate"><div class="highlight"><pre><span></span><span class="gp">In [15]: </span><span class="n">s</span><span class="o">.</span><span class="n">rank</span><span class="p">(</span><span class="n">na_option</span><span class="o">=</span><span class="s1">&#39;top&#39;</span><span class="p">)</span>
<span class="gh">Out[15]:</span>
<span class="go">0    2.5</span>
<span class="go">1    2.5</span>
<span class="go">2    2.5</span>
<span class="go">3    2.5</span>
<span class="go">dtype: float64</span>
</pre></div>
</div>
<p>Current behavior:</p>
<div class="highlight-ipython notranslate"><div class="highlight"><pre><span></span><span class="gp">In [57]: </span><span class="n">s</span><span class="o">.</span><span class="n">rank</span><span class="p">(</span><span class="n">na_option</span><span class="o">=</span><span class="s1">&#39;top&#39;</span><span class="p">)</span>
<span class="gh">Out[57]: </span>
<span class="go">0    1.5</span>
<span class="go">1    1.5</span>
<span class="go">2    3.5</span>
<span class="go">3    3.5</span>
<span class="go">Length: 4, dtype: float64</span>
</pre></div>
</div>
<p>These bugs were squashed:</p>
<ul class="simple">
<li><p>Bug in <a class="reference internal" href="../reference/api/pandas.DataFrame.rank.html#pandas.DataFrame.rank" title="pandas.DataFrame.rank"><code class="xref py py-meth docutils literal notranslate"><span class="pre">DataFrame.rank()</span></code></a> and <a class="reference internal" href="../reference/api/pandas.Series.rank.html#pandas.Series.rank" title="pandas.Series.rank"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Series.rank()</span></code></a> when <code class="docutils literal notranslate"><span class="pre">method='dense'</span></code> and <code class="docutils literal notranslate"><span class="pre">pct=True</span></code> in which percentile ranks were not being used with the number of distinct observations (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/15630">GH 15630</a>)</p></li>
<li><p>Bug in <a class="reference internal" href="../reference/api/pandas.Series.rank.html#pandas.Series.rank" title="pandas.Series.rank"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Series.rank()</span></code></a> and <a class="reference internal" href="../reference/api/pandas.DataFrame.rank.html#pandas.DataFrame.rank" title="pandas.DataFrame.rank"><code class="xref py py-meth docutils literal notranslate"><span class="pre">DataFrame.rank()</span></code></a> when <code class="docutils literal notranslate"><span class="pre">ascending='False'</span></code> failed to return correct ranks for infinity if <code class="docutils literal notranslate"><span class="pre">NaN</span></code> were present (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/19538">GH 19538</a>)</p></li>
<li><p>Bug in <code class="xref py py-func docutils literal notranslate"><span class="pre">DataFrameGroupBy.rank()</span></code> where ranks were incorrect when both infinity and <code class="docutils literal notranslate"><span class="pre">NaN</span></code> were present (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/20561">GH 20561</a>)</p></li>
</ul>
</section>
<section id="series-str-cat-has-gained-the-join-kwarg">
<span id="whatsnew-0230-enhancements-str-cat-align"></span><h3><code class="docutils literal notranslate"><span class="pre">Series.str.cat</span></code> has gained the <code class="docutils literal notranslate"><span class="pre">join</span></code> kwarg<a class="headerlink" href="#series-str-cat-has-gained-the-join-kwarg" title="Link to this heading">#</a></h3>
<p>Previously, <a class="reference internal" href="../reference/api/pandas.Series.str.cat.html#pandas.Series.str.cat" title="pandas.Series.str.cat"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Series.str.cat()</span></code></a> did not – in contrast to most of <code class="docutils literal notranslate"><span class="pre">pandas</span></code> – align <a class="reference internal" href="../reference/api/pandas.Series.html#pandas.Series" title="pandas.Series"><code class="xref py py-class docutils literal notranslate"><span class="pre">Series</span></code></a> on their index before concatenation (see <a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/18657">GH 18657</a>).
The method has now gained a keyword <code class="docutils literal notranslate"><span class="pre">join</span></code> to control the manner of alignment, see examples below and <a class="reference internal" href="../user_guide/text.html#text-concatenate"><span class="std std-ref">here</span></a>.</p>
<p>In v.0.23 <code class="docutils literal notranslate"><span class="pre">join</span></code> will default to None (meaning no alignment), but this default will change to <code class="docutils literal notranslate"><span class="pre">'left'</span></code> in a future version of pandas.</p>
<div class="highlight-ipython notranslate"><div class="highlight"><pre><span></span><span class="gp">In [58]: </span><span class="n">s</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">Series</span><span class="p">([</span><span class="s1">&#39;a&#39;</span><span class="p">,</span> <span class="s1">&#39;b&#39;</span><span class="p">,</span> <span class="s1">&#39;c&#39;</span><span class="p">,</span> <span class="s1">&#39;d&#39;</span><span class="p">])</span>

<span class="gp">In [59]: </span><span class="n">t</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">Series</span><span class="p">([</span><span class="s1">&#39;b&#39;</span><span class="p">,</span> <span class="s1">&#39;d&#39;</span><span class="p">,</span> <span class="s1">&#39;e&#39;</span><span class="p">,</span> <span class="s1">&#39;c&#39;</span><span class="p">],</span> <span class="n">index</span><span class="o">=</span><span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">2</span><span class="p">])</span>

<span class="gp">In [60]: </span><span class="n">s</span><span class="o">.</span><span class="n">str</span><span class="o">.</span><span class="n">cat</span><span class="p">(</span><span class="n">t</span><span class="p">)</span>
<span class="gh">Out[60]: </span>
<span class="go">0    NaN</span>
<span class="go">1     bb</span>
<span class="go">2     cc</span>
<span class="go">3     dd</span>
<span class="go">Length: 4, dtype: object</span>

<span class="gp">In [61]: </span><span class="n">s</span><span class="o">.</span><span class="n">str</span><span class="o">.</span><span class="n">cat</span><span class="p">(</span><span class="n">t</span><span class="p">,</span> <span class="n">join</span><span class="o">=</span><span class="s1">&#39;left&#39;</span><span class="p">,</span> <span class="n">na_rep</span><span class="o">=</span><span class="s1">&#39;-&#39;</span><span class="p">)</span>
<span class="gh">Out[61]: </span>
<span class="go">0    a-</span>
<span class="go">1    bb</span>
<span class="go">2    cc</span>
<span class="go">3    dd</span>
<span class="go">Length: 4, dtype: object</span>
</pre></div>
</div>
<p>Furthermore, <a class="reference internal" href="../reference/api/pandas.Series.str.cat.html#pandas.Series.str.cat" title="pandas.Series.str.cat"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Series.str.cat()</span></code></a> now works for <code class="docutils literal notranslate"><span class="pre">CategoricalIndex</span></code> as well (previously raised a <code class="docutils literal notranslate"><span class="pre">ValueError</span></code>; see <a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/20842">GH 20842</a>).</p>
</section>
<section id="dataframe-astype-performs-column-wise-conversion-to-categorical">
<span id="whatsnew-0230-enhancements-astype-category"></span><h3><code class="docutils literal notranslate"><span class="pre">DataFrame.astype</span></code> performs column-wise conversion to <code class="docutils literal notranslate"><span class="pre">Categorical</span></code><a class="headerlink" href="#dataframe-astype-performs-column-wise-conversion-to-categorical" title="Link to this heading">#</a></h3>
<p><a class="reference internal" href="../reference/api/pandas.DataFrame.astype.html#pandas.DataFrame.astype" title="pandas.DataFrame.astype"><code class="xref py py-meth docutils literal notranslate"><span class="pre">DataFrame.astype()</span></code></a> can now perform column-wise conversion to <code class="docutils literal notranslate"><span class="pre">Categorical</span></code> by supplying the string <code class="docutils literal notranslate"><span class="pre">'category'</span></code> or
a <code class="xref py py-class docutils literal notranslate"><span class="pre">CategoricalDtype</span></code>. Previously, attempting this would raise a <code class="docutils literal notranslate"><span class="pre">NotImplementedError</span></code>. See the
<a class="reference internal" href="../user_guide/categorical.html#categorical-objectcreation"><span class="std std-ref">Object creation</span></a> section of the documentation for more details and examples. (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/12860">GH 12860</a>, <a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/18099">GH 18099</a>)</p>
<p>Supplying the string <code class="docutils literal notranslate"><span class="pre">'category'</span></code> performs column-wise conversion, with only labels appearing in a given column set as categories:</p>
<div class="highlight-ipython notranslate"><div class="highlight"><pre><span></span><span class="gp">In [62]: </span><span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">({</span><span class="s1">&#39;A&#39;</span><span class="p">:</span> <span class="nb">list</span><span class="p">(</span><span class="s1">&#39;abca&#39;</span><span class="p">),</span> <span class="s1">&#39;B&#39;</span><span class="p">:</span> <span class="nb">list</span><span class="p">(</span><span class="s1">&#39;bccd&#39;</span><span class="p">)})</span>

<span class="gp">In [63]: </span><span class="n">df</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="s1">&#39;category&#39;</span><span class="p">)</span>

<span class="gp">In [64]: </span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;A&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">dtype</span>
<span class="gh">Out[64]: </span><span class="go">CategoricalDtype(categories=[&#39;a&#39;, &#39;b&#39;, &#39;c&#39;], ordered=False, categories_dtype=object)</span>

<span class="gp">In [65]: </span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;B&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">dtype</span>
<span class="gh">Out[65]: </span><span class="go">CategoricalDtype(categories=[&#39;b&#39;, &#39;c&#39;, &#39;d&#39;], ordered=False, categories_dtype=object)</span>
</pre></div>
</div>
<p>Supplying a <code class="docutils literal notranslate"><span class="pre">CategoricalDtype</span></code> will make the categories in each column consistent with the supplied dtype:</p>
<div class="highlight-ipython notranslate"><div class="highlight"><pre><span></span><span class="gp">In [66]: </span><span class="kn">from</span> <span class="nn">pandas.api.types</span> <span class="kn">import</span> <span class="n">CategoricalDtype</span>

<span class="gp">In [67]: </span><span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">({</span><span class="s1">&#39;A&#39;</span><span class="p">:</span> <span class="nb">list</span><span class="p">(</span><span class="s1">&#39;abca&#39;</span><span class="p">),</span> <span class="s1">&#39;B&#39;</span><span class="p">:</span> <span class="nb">list</span><span class="p">(</span><span class="s1">&#39;bccd&#39;</span><span class="p">)})</span>

<span class="gp">In [68]: </span><span class="n">cdt</span> <span class="o">=</span> <span class="n">CategoricalDtype</span><span class="p">(</span><span class="n">categories</span><span class="o">=</span><span class="nb">list</span><span class="p">(</span><span class="s1">&#39;abcd&#39;</span><span class="p">),</span> <span class="n">ordered</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>

<span class="gp">In [69]: </span><span class="n">df</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="n">cdt</span><span class="p">)</span>

<span class="gp">In [70]: </span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;A&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">dtype</span>
<span class="gh">Out[70]: </span><span class="go">CategoricalDtype(categories=[&#39;a&#39;, &#39;b&#39;, &#39;c&#39;, &#39;d&#39;], ordered=True, categories_dtype=object)</span>

<span class="gp">In [71]: </span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;B&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">dtype</span>
<span class="gh">Out[71]: </span><span class="go">CategoricalDtype(categories=[&#39;a&#39;, &#39;b&#39;, &#39;c&#39;, &#39;d&#39;], ordered=True, categories_dtype=object)</span>
</pre></div>
</div>
</section>
<section id="other-enhancements">
<span id="whatsnew-0230-enhancements-other"></span><h3>Other enhancements<a class="headerlink" href="#other-enhancements" title="Link to this heading">#</a></h3>
<ul class="simple">
<li><p>Unary <code class="docutils literal notranslate"><span class="pre">+</span></code> now permitted for <code class="docutils literal notranslate"><span class="pre">Series</span></code> and <code class="docutils literal notranslate"><span class="pre">DataFrame</span></code> as  numeric operator (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/16073">GH 16073</a>)</p></li>
<li><p>Better support for <a class="reference internal" href="../reference/api/pandas.io.formats.style.Styler.to_excel.html#pandas.io.formats.style.Styler.to_excel" title="pandas.io.formats.style.Styler.to_excel"><code class="xref py py-meth docutils literal notranslate"><span class="pre">to_excel()</span></code></a> output with the <code class="docutils literal notranslate"><span class="pre">xlsxwriter</span></code> engine. (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/16149">GH 16149</a>)</p></li>
<li><p><a class="reference internal" href="../reference/api/pandas.tseries.frequencies.to_offset.html#pandas.tseries.frequencies.to_offset" title="pandas.tseries.frequencies.to_offset"><code class="xref py py-func docutils literal notranslate"><span class="pre">pandas.tseries.frequencies.to_offset()</span></code></a> now accepts leading ‘+’ signs e.g. ‘+1h’. (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/18171">GH 18171</a>)</p></li>
<li><p><code class="xref py py-func docutils literal notranslate"><span class="pre">MultiIndex.unique()</span></code> now supports the <code class="docutils literal notranslate"><span class="pre">level=</span></code> argument, to get unique values from a specific index level (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/17896">GH 17896</a>)</p></li>
<li><p><a class="reference internal" href="../reference/api/pandas.io.formats.style.Styler.html#pandas.io.formats.style.Styler" title="pandas.io.formats.style.Styler"><code class="xref py py-class docutils literal notranslate"><span class="pre">pandas.io.formats.style.Styler</span></code></a> now has method <code class="docutils literal notranslate"><span class="pre">hide_index()</span></code> to determine whether the index will be rendered in output (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/14194">GH 14194</a>)</p></li>
<li><p><a class="reference internal" href="../reference/api/pandas.io.formats.style.Styler.html#pandas.io.formats.style.Styler" title="pandas.io.formats.style.Styler"><code class="xref py py-class docutils literal notranslate"><span class="pre">pandas.io.formats.style.Styler</span></code></a> now has method <code class="docutils literal notranslate"><span class="pre">hide_columns()</span></code> to determine whether columns will be hidden in output (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/14194">GH 14194</a>)</p></li>
<li><p>Improved wording of <code class="docutils literal notranslate"><span class="pre">ValueError</span></code> raised in <a class="reference internal" href="../reference/api/pandas.to_datetime.html#pandas.to_datetime" title="pandas.to_datetime"><code class="xref py py-func docutils literal notranslate"><span class="pre">to_datetime()</span></code></a> when <code class="docutils literal notranslate"><span class="pre">unit=</span></code> is passed with a non-convertible value (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/14350">GH 14350</a>)</p></li>
<li><p><a class="reference internal" href="../reference/api/pandas.Series.fillna.html#pandas.Series.fillna" title="pandas.Series.fillna"><code class="xref py py-func docutils literal notranslate"><span class="pre">Series.fillna()</span></code></a> now accepts a Series or a dict as a <code class="docutils literal notranslate"><span class="pre">value</span></code> for a categorical dtype (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/17033">GH 17033</a>)</p></li>
<li><p><a class="reference internal" href="../reference/api/pandas.read_clipboard.html#pandas.read_clipboard" title="pandas.read_clipboard"><code class="xref py py-func docutils literal notranslate"><span class="pre">pandas.read_clipboard()</span></code></a> updated to use qtpy, falling back to PyQt5 and then PyQt4, adding compatibility with Python3 and multiple python-qt bindings (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/17722">GH 17722</a>)</p></li>
<li><p>Improved wording of <code class="docutils literal notranslate"><span class="pre">ValueError</span></code> raised in <a class="reference internal" href="../reference/api/pandas.read_csv.html#pandas.read_csv" title="pandas.read_csv"><code class="xref py py-func docutils literal notranslate"><span class="pre">read_csv()</span></code></a> when the <code class="docutils literal notranslate"><span class="pre">usecols</span></code> argument cannot match all columns. (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/17301">GH 17301</a>)</p></li>
<li><p><a class="reference internal" href="../reference/api/pandas.DataFrame.corrwith.html#pandas.DataFrame.corrwith" title="pandas.DataFrame.corrwith"><code class="xref py py-func docutils literal notranslate"><span class="pre">DataFrame.corrwith()</span></code></a> now silently drops non-numeric columns when passed a Series. Before, an exception was raised (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/18570">GH 18570</a>).</p></li>
<li><p><a class="reference internal" href="../reference/api/pandas.IntervalIndex.html#pandas.IntervalIndex" title="pandas.IntervalIndex"><code class="xref py py-class docutils literal notranslate"><span class="pre">IntervalIndex</span></code></a> now supports time zone aware <code class="docutils literal notranslate"><span class="pre">Interval</span></code> objects (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/18537">GH 18537</a>, <a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/18538">GH 18538</a>)</p></li>
<li><p><a class="reference internal" href="../reference/api/pandas.Series.html#pandas.Series" title="pandas.Series"><code class="xref py py-func docutils literal notranslate"><span class="pre">Series()</span></code></a> / <a class="reference internal" href="../reference/api/pandas.DataFrame.html#pandas.DataFrame" title="pandas.DataFrame"><code class="xref py py-func docutils literal notranslate"><span class="pre">DataFrame()</span></code></a> tab completion also returns identifiers in the first level of a <a class="reference internal" href="../reference/api/pandas.MultiIndex.html#pandas.MultiIndex" title="pandas.MultiIndex"><code class="xref py py-func docutils literal notranslate"><span class="pre">MultiIndex()</span></code></a>. (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/16326">GH 16326</a>)</p></li>
<li><p><a class="reference internal" href="../reference/api/pandas.read_excel.html#pandas.read_excel" title="pandas.read_excel"><code class="xref py py-func docutils literal notranslate"><span class="pre">read_excel()</span></code></a> has gained the <code class="docutils literal notranslate"><span class="pre">nrows</span></code> parameter (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/16645">GH 16645</a>)</p></li>
<li><p><code class="xref py py-meth docutils literal notranslate"><span class="pre">DataFrame.append()</span></code> can now in more cases preserve the type of the calling dataframe’s columns (e.g. if both are <code class="docutils literal notranslate"><span class="pre">CategoricalIndex</span></code>) (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/18359">GH 18359</a>)</p></li>
<li><p><a class="reference internal" href="../reference/api/pandas.DataFrame.to_json.html#pandas.DataFrame.to_json" title="pandas.DataFrame.to_json"><code class="xref py py-meth docutils literal notranslate"><span class="pre">DataFrame.to_json()</span></code></a> and <a class="reference internal" href="../reference/api/pandas.Series.to_json.html#pandas.Series.to_json" title="pandas.Series.to_json"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Series.to_json()</span></code></a> now accept an <code class="docutils literal notranslate"><span class="pre">index</span></code> argument which allows the user to exclude the index from the JSON output (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/17394">GH 17394</a>)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">IntervalIndex.to_tuples()</span></code> has gained the <code class="docutils literal notranslate"><span class="pre">na_tuple</span></code> parameter to control whether NA is returned as a tuple of NA, or NA itself (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/18756">GH 18756</a>)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">Categorical.rename_categories</span></code>, <code class="docutils literal notranslate"><span class="pre">CategoricalIndex.rename_categories</span></code> and <a class="reference internal" href="../reference/api/pandas.Series.cat.rename_categories.html#pandas.Series.cat.rename_categories" title="pandas.Series.cat.rename_categories"><code class="xref py py-attr docutils literal notranslate"><span class="pre">Series.cat.rename_categories</span></code></a>
can now take a callable as their argument (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/18862">GH 18862</a>)</p></li>
<li><p><a class="reference internal" href="../reference/api/pandas.Interval.html#pandas.Interval" title="pandas.Interval"><code class="xref py py-class docutils literal notranslate"><span class="pre">Interval</span></code></a> and <a class="reference internal" href="../reference/api/pandas.IntervalIndex.html#pandas.IntervalIndex" title="pandas.IntervalIndex"><code class="xref py py-class docutils literal notranslate"><span class="pre">IntervalIndex</span></code></a> have gained a <code class="docutils literal notranslate"><span class="pre">length</span></code> attribute (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/18789">GH 18789</a>)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">Resampler</span></code> objects now have a functioning <a class="reference internal" href="../reference/api/pandas.core.resample.Resampler.pipe.html#pandas.core.resample.Resampler.pipe" title="pandas.core.resample.Resampler.pipe"><code class="xref py py-attr docutils literal notranslate"><span class="pre">Resampler.pipe</span></code></a> method.
Previously, calls to <code class="docutils literal notranslate"><span class="pre">pipe</span></code> were diverted to  the <code class="docutils literal notranslate"><span class="pre">mean</span></code> method (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/17905">GH 17905</a>).</p></li>
<li><p><a class="reference internal" href="../reference/api/pandas.api.types.is_scalar.html#pandas.api.types.is_scalar" title="pandas.api.types.is_scalar"><code class="xref py py-func docutils literal notranslate"><span class="pre">is_scalar()</span></code></a> now returns <code class="docutils literal notranslate"><span class="pre">True</span></code> for <code class="docutils literal notranslate"><span class="pre">DateOffset</span></code> objects (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/18943">GH 18943</a>).</p></li>
<li><p><a class="reference internal" href="../reference/api/pandas.DataFrame.pivot.html#pandas.DataFrame.pivot" title="pandas.DataFrame.pivot"><code class="xref py py-func docutils literal notranslate"><span class="pre">DataFrame.pivot()</span></code></a> now accepts a list for the <code class="docutils literal notranslate"><span class="pre">values=</span></code> kwarg (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/17160">GH 17160</a>).</p></li>
<li><p>Added <a class="reference internal" href="../reference/api/pandas.api.extensions.register_dataframe_accessor.html#pandas.api.extensions.register_dataframe_accessor" title="pandas.api.extensions.register_dataframe_accessor"><code class="xref py py-func docutils literal notranslate"><span class="pre">pandas.api.extensions.register_dataframe_accessor()</span></code></a>,
<a class="reference internal" href="../reference/api/pandas.api.extensions.register_series_accessor.html#pandas.api.extensions.register_series_accessor" title="pandas.api.extensions.register_series_accessor"><code class="xref py py-func docutils literal notranslate"><span class="pre">pandas.api.extensions.register_series_accessor()</span></code></a>, and
<a class="reference internal" href="../reference/api/pandas.api.extensions.register_index_accessor.html#pandas.api.extensions.register_index_accessor" title="pandas.api.extensions.register_index_accessor"><code class="xref py py-func docutils literal notranslate"><span class="pre">pandas.api.extensions.register_index_accessor()</span></code></a>, accessor for libraries downstream of pandas
to register custom accessors like <code class="docutils literal notranslate"><span class="pre">.cat</span></code> on pandas objects. See
<a class="reference internal" href="../development/extending.html#extending-register-accessors"><span class="std std-ref">Registering Custom Accessors</span></a> for more (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/14781">GH 14781</a>).</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">IntervalIndex.astype</span></code> now supports conversions between subtypes when passed an <code class="docutils literal notranslate"><span class="pre">IntervalDtype</span></code> (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/19197">GH 19197</a>)</p></li>
<li><p><a class="reference internal" href="../reference/api/pandas.IntervalIndex.html#pandas.IntervalIndex" title="pandas.IntervalIndex"><code class="xref py py-class docutils literal notranslate"><span class="pre">IntervalIndex</span></code></a> and its associated constructor methods (<code class="docutils literal notranslate"><span class="pre">from_arrays</span></code>, <code class="docutils literal notranslate"><span class="pre">from_breaks</span></code>, <code class="docutils literal notranslate"><span class="pre">from_tuples</span></code>) have gained a <code class="docutils literal notranslate"><span class="pre">dtype</span></code> parameter (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/19262">GH 19262</a>)</p></li>
<li><p>Added <code class="xref py py-func docutils literal notranslate"><span class="pre">SeriesGroupBy.is_monotonic_increasing()</span></code> and <code class="xref py py-func docutils literal notranslate"><span class="pre">SeriesGroupBy.is_monotonic_decreasing()</span></code> (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/17015">GH 17015</a>)</p></li>
<li><p>For subclassed <code class="docutils literal notranslate"><span class="pre">DataFrames</span></code>, <a class="reference internal" href="../reference/api/pandas.DataFrame.apply.html#pandas.DataFrame.apply" title="pandas.DataFrame.apply"><code class="xref py py-func docutils literal notranslate"><span class="pre">DataFrame.apply()</span></code></a> will now preserve the <code class="docutils literal notranslate"><span class="pre">Series</span></code> subclass (if defined) when passing the data to the applied function (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/19822">GH 19822</a>)</p></li>
<li><p><a class="reference internal" href="../reference/api/pandas.DataFrame.from_dict.html#pandas.DataFrame.from_dict" title="pandas.DataFrame.from_dict"><code class="xref py py-func docutils literal notranslate"><span class="pre">DataFrame.from_dict()</span></code></a> now accepts a <code class="docutils literal notranslate"><span class="pre">columns</span></code> argument that can be used to specify the column names when <code class="docutils literal notranslate"><span class="pre">orient='index'</span></code> is used (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/18529">GH 18529</a>)</p></li>
<li><p>Added option <code class="docutils literal notranslate"><span class="pre">display.html.use_mathjax</span></code> so <a class="reference external" href="https://www.mathjax.org/">MathJax</a> can be disabled when rendering tables in <code class="docutils literal notranslate"><span class="pre">Jupyter</span></code> notebooks (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/19856">GH 19856</a>, <a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/19824">GH 19824</a>)</p></li>
<li><p><a class="reference internal" href="../reference/api/pandas.DataFrame.replace.html#pandas.DataFrame.replace" title="pandas.DataFrame.replace"><code class="xref py py-func docutils literal notranslate"><span class="pre">DataFrame.replace()</span></code></a> now supports the <code class="docutils literal notranslate"><span class="pre">method</span></code> parameter, which can be used to specify the replacement method when <code class="docutils literal notranslate"><span class="pre">to_replace</span></code> is a scalar, list or tuple and <code class="docutils literal notranslate"><span class="pre">value</span></code> is <code class="docutils literal notranslate"><span class="pre">None</span></code> (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/19632">GH 19632</a>)</p></li>
<li><p><a class="reference internal" href="../reference/api/pandas.Timestamp.month_name.html#pandas.Timestamp.month_name" title="pandas.Timestamp.month_name"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Timestamp.month_name()</span></code></a>, <a class="reference internal" href="../reference/api/pandas.DatetimeIndex.month_name.html#pandas.DatetimeIndex.month_name" title="pandas.DatetimeIndex.month_name"><code class="xref py py-meth docutils literal notranslate"><span class="pre">DatetimeIndex.month_name()</span></code></a>, and <a class="reference internal" href="../reference/api/pandas.Series.dt.month_name.html#pandas.Series.dt.month_name" title="pandas.Series.dt.month_name"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Series.dt.month_name()</span></code></a> are now available (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/12805">GH 12805</a>)</p></li>
<li><p><a class="reference internal" href="../reference/api/pandas.Timestamp.day_name.html#pandas.Timestamp.day_name" title="pandas.Timestamp.day_name"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Timestamp.day_name()</span></code></a> and <a class="reference internal" href="../reference/api/pandas.DatetimeIndex.day_name.html#pandas.DatetimeIndex.day_name" title="pandas.DatetimeIndex.day_name"><code class="xref py py-meth docutils literal notranslate"><span class="pre">DatetimeIndex.day_name()</span></code></a> are now available to return day names with a specified locale (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/12806">GH 12806</a>)</p></li>
<li><p><a class="reference internal" href="../reference/api/pandas.DataFrame.to_sql.html#pandas.DataFrame.to_sql" title="pandas.DataFrame.to_sql"><code class="xref py py-meth docutils literal notranslate"><span class="pre">DataFrame.to_sql()</span></code></a> now performs a multi-value insert if the underlying connection supports itk rather than inserting row by row.
<code class="docutils literal notranslate"><span class="pre">SQLAlchemy</span></code> dialects supporting multi-value inserts include: <code class="docutils literal notranslate"><span class="pre">mysql</span></code>, <code class="docutils literal notranslate"><span class="pre">postgresql</span></code>, <code class="docutils literal notranslate"><span class="pre">sqlite</span></code> and any dialect with <code class="docutils literal notranslate"><span class="pre">supports_multivalues_insert</span></code>. (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/14315">GH 14315</a>, <a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/8953">GH 8953</a>)</p></li>
<li><p><a class="reference internal" href="../reference/api/pandas.read_html.html#pandas.read_html" title="pandas.read_html"><code class="xref py py-func docutils literal notranslate"><span class="pre">read_html()</span></code></a> now accepts a <code class="docutils literal notranslate"><span class="pre">displayed_only</span></code> keyword argument to controls whether or not hidden elements are parsed (<code class="docutils literal notranslate"><span class="pre">True</span></code> by default) (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/20027">GH 20027</a>)</p></li>
<li><p><a class="reference internal" href="../reference/api/pandas.read_html.html#pandas.read_html" title="pandas.read_html"><code class="xref py py-func docutils literal notranslate"><span class="pre">read_html()</span></code></a> now reads all <code class="docutils literal notranslate"><span class="pre">&lt;tbody&gt;</span></code> elements in a <code class="docutils literal notranslate"><span class="pre">&lt;table&gt;</span></code>, not just the first. (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/20690">GH 20690</a>)</p></li>
<li><p><a class="reference internal" href="../reference/api/pandas.core.window.rolling.Rolling.quantile.html#pandas.core.window.rolling.Rolling.quantile" title="pandas.core.window.rolling.Rolling.quantile"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Rolling.quantile()</span></code></a> and <a class="reference internal" href="../reference/api/pandas.core.window.expanding.Expanding.quantile.html#pandas.core.window.expanding.Expanding.quantile" title="pandas.core.window.expanding.Expanding.quantile"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Expanding.quantile()</span></code></a> now accept the <code class="docutils literal notranslate"><span class="pre">interpolation</span></code> keyword, <code class="docutils literal notranslate"><span class="pre">linear</span></code> by default (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/20497">GH 20497</a>)</p></li>
<li><p>zip compression is supported via <code class="docutils literal notranslate"><span class="pre">compression=zip</span></code> in <a class="reference internal" href="../reference/api/pandas.DataFrame.to_pickle.html#pandas.DataFrame.to_pickle" title="pandas.DataFrame.to_pickle"><code class="xref py py-func docutils literal notranslate"><span class="pre">DataFrame.to_pickle()</span></code></a>, <a class="reference internal" href="../reference/api/pandas.Series.to_pickle.html#pandas.Series.to_pickle" title="pandas.Series.to_pickle"><code class="xref py py-func docutils literal notranslate"><span class="pre">Series.to_pickle()</span></code></a>, <a class="reference internal" href="../reference/api/pandas.DataFrame.to_csv.html#pandas.DataFrame.to_csv" title="pandas.DataFrame.to_csv"><code class="xref py py-func docutils literal notranslate"><span class="pre">DataFrame.to_csv()</span></code></a>, <a class="reference internal" href="../reference/api/pandas.Series.to_csv.html#pandas.Series.to_csv" title="pandas.Series.to_csv"><code class="xref py py-func docutils literal notranslate"><span class="pre">Series.to_csv()</span></code></a>, <a class="reference internal" href="../reference/api/pandas.DataFrame.to_json.html#pandas.DataFrame.to_json" title="pandas.DataFrame.to_json"><code class="xref py py-func docutils literal notranslate"><span class="pre">DataFrame.to_json()</span></code></a>, <a class="reference internal" href="../reference/api/pandas.Series.to_json.html#pandas.Series.to_json" title="pandas.Series.to_json"><code class="xref py py-func docutils literal notranslate"><span class="pre">Series.to_json()</span></code></a>. (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/17778">GH 17778</a>)</p></li>
<li><p><a class="reference internal" href="../reference/api/pandas.tseries.offsets.WeekOfMonth.html#pandas.tseries.offsets.WeekOfMonth" title="pandas.tseries.offsets.WeekOfMonth"><code class="xref py py-class docutils literal notranslate"><span class="pre">WeekOfMonth</span></code></a> constructor now supports <code class="docutils literal notranslate"><span class="pre">n=0</span></code> (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/20517">GH 20517</a>).</p></li>
<li><p><a class="reference internal" href="../reference/api/pandas.DataFrame.html#pandas.DataFrame" title="pandas.DataFrame"><code class="xref py py-class docutils literal notranslate"><span class="pre">DataFrame</span></code></a> and <a class="reference internal" href="../reference/api/pandas.Series.html#pandas.Series" title="pandas.Series"><code class="xref py py-class docutils literal notranslate"><span class="pre">Series</span></code></a> now support matrix multiplication (<code class="docutils literal notranslate"><span class="pre">&#64;</span></code>) operator (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/10259">GH 10259</a>) for Python&gt;=3.5</p></li>
<li><p>Updated <a class="reference internal" href="../reference/api/pandas.DataFrame.to_gbq.html#pandas.DataFrame.to_gbq" title="pandas.DataFrame.to_gbq"><code class="xref py py-meth docutils literal notranslate"><span class="pre">DataFrame.to_gbq()</span></code></a> and <a class="reference internal" href="../reference/api/pandas.read_gbq.html#pandas.read_gbq" title="pandas.read_gbq"><code class="xref py py-meth docutils literal notranslate"><span class="pre">pandas.read_gbq()</span></code></a> signature and documentation to reflect changes from
the pandas-gbq library version 0.4.0. Adds intersphinx mapping to pandas-gbq
library. (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/20564">GH 20564</a>)</p></li>
<li><p>Added new writer for exporting Stata dta files in version 117, <code class="docutils literal notranslate"><span class="pre">StataWriter117</span></code>.  This format supports exporting strings with lengths up to 2,000,000 characters (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/16450">GH 16450</a>)</p></li>
<li><p><code class="xref py py-func docutils literal notranslate"><span class="pre">to_hdf()</span></code> and <a class="reference internal" href="../reference/api/pandas.read_hdf.html#pandas.read_hdf" title="pandas.read_hdf"><code class="xref py py-func docutils literal notranslate"><span class="pre">read_hdf()</span></code></a> now accept an <code class="docutils literal notranslate"><span class="pre">errors</span></code> keyword argument to control encoding error handling (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/20835">GH 20835</a>)</p></li>
<li><p><a class="reference internal" href="../reference/api/pandas.cut.html#pandas.cut" title="pandas.cut"><code class="xref py py-func docutils literal notranslate"><span class="pre">cut()</span></code></a> has gained the <code class="docutils literal notranslate"><span class="pre">duplicates='raise'|'drop'</span></code> option to control whether to raise on duplicated edges (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/20947">GH 20947</a>)</p></li>
<li><p><a class="reference internal" href="../reference/api/pandas.date_range.html#pandas.date_range" title="pandas.date_range"><code class="xref py py-func docutils literal notranslate"><span class="pre">date_range()</span></code></a>, <a class="reference internal" href="../reference/api/pandas.timedelta_range.html#pandas.timedelta_range" title="pandas.timedelta_range"><code class="xref py py-func docutils literal notranslate"><span class="pre">timedelta_range()</span></code></a>, and <a class="reference internal" href="../reference/api/pandas.interval_range.html#pandas.interval_range" title="pandas.interval_range"><code class="xref py py-func docutils literal notranslate"><span class="pre">interval_range()</span></code></a> now return a linearly spaced index if <code class="docutils literal notranslate"><span class="pre">start</span></code>, <code class="docutils literal notranslate"><span class="pre">stop</span></code>, and <code class="docutils literal notranslate"><span class="pre">periods</span></code> are specified, but <code class="docutils literal notranslate"><span class="pre">freq</span></code> is not. (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/20808">GH 20808</a>, <a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/20983">GH 20983</a>, <a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/20976">GH 20976</a>)</p></li>
</ul>
</section>
</section>
<section id="backwards-incompatible-api-changes">
<span id="whatsnew-0230-api-breaking"></span><h2>Backwards incompatible API changes<a class="headerlink" href="#backwards-incompatible-api-changes" title="Link to this heading">#</a></h2>
<section id="dependencies-have-increased-minimum-versions">
<span id="whatsnew-0230-api-breaking-deps"></span><h3>Dependencies have increased minimum versions<a class="headerlink" href="#dependencies-have-increased-minimum-versions" title="Link to this heading">#</a></h3>
<p>We have updated our minimum supported versions of dependencies (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/15184">GH 15184</a>).
If installed, we now require:</p>
<table class="table">
<thead>
<tr class="row-odd"><th class="head"><p>Package</p></th>
<th class="head"><p>Minimum Version</p></th>
<th class="head"><p>Required</p></th>
<th class="head"><p>Issue</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>python-dateutil</p></td>
<td><p>2.5.0</p></td>
<td><p>X</p></td>
<td><p><a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/15184">GH 15184</a></p></td>
</tr>
<tr class="row-odd"><td><p>openpyxl</p></td>
<td><p>2.4.0</p></td>
<td></td>
<td><p><a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/15184">GH 15184</a></p></td>
</tr>
<tr class="row-even"><td><p>beautifulsoup4</p></td>
<td><p>4.2.1</p></td>
<td></td>
<td><p><a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/20082">GH 20082</a></p></td>
</tr>
<tr class="row-odd"><td><p>setuptools</p></td>
<td><p>24.2.0</p></td>
<td></td>
<td><p><a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/20698">GH 20698</a></p></td>
</tr>
</tbody>
</table>
</section>
<section id="instantiation-from-dicts-preserves-dict-insertion-order-for-python-3-6">
<span id="whatsnew-0230-api-breaking-dict-insertion-order"></span><h3>Instantiation from dicts preserves dict insertion order for Python 3.6+<a class="headerlink" href="#instantiation-from-dicts-preserves-dict-insertion-order-for-python-3-6" title="Link to this heading">#</a></h3>
<p>Until Python 3.6, dicts in Python had no formally defined ordering. For Python
version 3.6 and later, dicts are ordered by insertion order, see
<a class="reference external" href="https://www.python.org/dev/peps/pep-0468/">PEP 468</a>.
pandas will use the dict’s insertion order, when creating a <code class="docutils literal notranslate"><span class="pre">Series</span></code> or
<code class="docutils literal notranslate"><span class="pre">DataFrame</span></code> from a dict and you’re using Python version 3.6 or
higher. (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/19884">GH 19884</a>)</p>
<p>Previous behavior (and current behavior if on Python &lt; 3.6):</p>
<div class="highlight-ipython notranslate"><div class="highlight"><pre><span></span><span class="gp">In [16]: </span><span class="n">pd</span><span class="o">.</span><span class="n">Series</span><span class="p">({</span><span class="s1">&#39;Income&#39;</span><span class="p">:</span> <span class="mi">2000</span><span class="p">,</span>
<span class="gp">   ....: </span>           <span class="s1">&#39;Expenses&#39;</span><span class="p">:</span> <span class="o">-</span><span class="mi">1500</span><span class="p">,</span>
<span class="gp">   ....: </span>           <span class="s1">&#39;Taxes&#39;</span><span class="p">:</span> <span class="o">-</span><span class="mi">200</span><span class="p">,</span>
<span class="gp">   ....: </span>           <span class="s1">&#39;Net result&#39;</span><span class="p">:</span> <span class="mi">300</span><span class="p">})</span>
<span class="gh">Out[16]:</span>
<span class="go">Expenses     -1500</span>
<span class="go">Income        2000</span>
<span class="go">Net result     300</span>
<span class="go">Taxes         -200</span>
<span class="go">dtype: int64</span>
</pre></div>
</div>
<p>Note the Series above is ordered alphabetically by the index values.</p>
<p>New behavior (for Python &gt;= 3.6):</p>
<div class="highlight-ipython notranslate"><div class="highlight"><pre><span></span><span class="gp">In [72]: </span><span class="n">pd</span><span class="o">.</span><span class="n">Series</span><span class="p">({</span><span class="s1">&#39;Income&#39;</span><span class="p">:</span> <span class="mi">2000</span><span class="p">,</span>
<span class="gp">   ....: </span>           <span class="s1">&#39;Expenses&#39;</span><span class="p">:</span> <span class="o">-</span><span class="mi">1500</span><span class="p">,</span>
<span class="gp">   ....: </span>           <span class="s1">&#39;Taxes&#39;</span><span class="p">:</span> <span class="o">-</span><span class="mi">200</span><span class="p">,</span>
<span class="gp">   ....: </span>           <span class="s1">&#39;Net result&#39;</span><span class="p">:</span> <span class="mi">300</span><span class="p">})</span>
<span class="gp">   ....: </span>
<span class="gh">Out[72]: </span>
<span class="go">Income        2000</span>
<span class="go">Expenses     -1500</span>
<span class="go">Taxes         -200</span>
<span class="go">Net result     300</span>
<span class="go">Length: 4, dtype: int64</span>
</pre></div>
</div>
<p>Notice that the Series is now ordered by insertion order. This new behavior is
used for all relevant pandas types (<code class="docutils literal notranslate"><span class="pre">Series</span></code>, <code class="docutils literal notranslate"><span class="pre">DataFrame</span></code>, <code class="docutils literal notranslate"><span class="pre">SparseSeries</span></code>
and <code class="docutils literal notranslate"><span class="pre">SparseDataFrame</span></code>).</p>
<p>If you wish to retain the old behavior while using Python &gt;= 3.6, you can use
<code class="docutils literal notranslate"><span class="pre">.sort_index()</span></code>:</p>
<div class="highlight-ipython notranslate"><div class="highlight"><pre><span></span><span class="gp">In [73]: </span><span class="n">pd</span><span class="o">.</span><span class="n">Series</span><span class="p">({</span><span class="s1">&#39;Income&#39;</span><span class="p">:</span> <span class="mi">2000</span><span class="p">,</span>
<span class="gp">   ....: </span>           <span class="s1">&#39;Expenses&#39;</span><span class="p">:</span> <span class="o">-</span><span class="mi">1500</span><span class="p">,</span>
<span class="gp">   ....: </span>           <span class="s1">&#39;Taxes&#39;</span><span class="p">:</span> <span class="o">-</span><span class="mi">200</span><span class="p">,</span>
<span class="gp">   ....: </span>           <span class="s1">&#39;Net result&#39;</span><span class="p">:</span> <span class="mi">300</span><span class="p">})</span><span class="o">.</span><span class="n">sort_index</span><span class="p">()</span>
<span class="gp">   ....: </span>
<span class="gh">Out[73]: </span>
<span class="go">Expenses     -1500</span>
<span class="go">Income        2000</span>
<span class="go">Net result     300</span>
<span class="go">Taxes         -200</span>
<span class="go">Length: 4, dtype: int64</span>
</pre></div>
</div>
</section>
<section id="deprecate-panel">
<span id="whatsnew-0230-api-breaking-deprecate-panel"></span><h3>Deprecate Panel<a class="headerlink" href="#deprecate-panel" title="Link to this heading">#</a></h3>
<p><code class="docutils literal notranslate"><span class="pre">Panel</span></code> was deprecated in the 0.20.x release, showing as a <code class="docutils literal notranslate"><span class="pre">DeprecationWarning</span></code>. Using <code class="docutils literal notranslate"><span class="pre">Panel</span></code> will now show a <code class="docutils literal notranslate"><span class="pre">FutureWarning</span></code>. The recommended way to represent 3-D data are
with a <code class="docutils literal notranslate"><span class="pre">MultiIndex</span></code> on a <code class="docutils literal notranslate"><span class="pre">DataFrame</span></code> via the <code class="xref py py-meth docutils literal notranslate"><span class="pre">to_frame()</span></code> or with the <a class="reference external" href="http://xarray.pydata.org/en/stable/">xarray package</a>. pandas
provides a <code class="xref py py-meth docutils literal notranslate"><span class="pre">to_xarray()</span></code> method to automate this conversion (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/13563">GH 13563</a>, <a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/18324">GH 18324</a>).</p>
<div class="highlight-ipython notranslate"><div class="highlight"><pre><span></span><span class="gp">In [75]: </span><span class="kn">import</span> <span class="nn">pandas._testing</span> <span class="k">as</span> <span class="nn">tm</span>

<span class="gp">In [76]: </span><span class="n">p</span> <span class="o">=</span> <span class="n">tm</span><span class="o">.</span><span class="n">makePanel</span><span class="p">()</span>

<span class="gp">In [77]: </span><span class="n">p</span>
<span class="gh">Out[77]:</span>
<span class="go">&lt;class &#39;pandas.core.panel.Panel&#39;&gt;</span>
<span class="go">Dimensions: 3 (items) x 3 (major_axis) x 4 (minor_axis)</span>
<span class="go">Items axis: ItemA to ItemC</span>
<span class="go">Major_axis axis: 2000-01-03 00:00:00 to 2000-01-05 00:00:00</span>
<span class="go">Minor_axis axis: A to D</span>
</pre></div>
</div>
<p>Convert to a MultiIndex DataFrame</p>
<div class="highlight-ipython notranslate"><div class="highlight"><pre><span></span><span class="gp">In [78]: </span><span class="n">p</span><span class="o">.</span><span class="n">to_frame</span><span class="p">()</span>
<span class="gh">Out[78]:</span>
<span class="go">                     ItemA     ItemB     ItemC</span>
<span class="go">major      minor</span>
<span class="go">2000-01-03 A      0.469112  0.721555  0.404705</span>
<span class="go">           B     -1.135632  0.271860 -1.039268</span>
<span class="go">           C      0.119209  0.276232 -1.344312</span>
<span class="go">           D     -2.104569  0.113648 -0.109050</span>
<span class="go">2000-01-04 A     -0.282863 -0.706771  0.577046</span>
<span class="go">           B      1.212112 -0.424972 -0.370647</span>
<span class="go">           C     -1.044236 -1.087401  0.844885</span>
<span class="go">           D     -0.494929 -1.478427  1.643563</span>
<span class="go">2000-01-05 A     -1.509059 -1.039575 -1.715002</span>
<span class="go">           B     -0.173215  0.567020 -1.157892</span>
<span class="go">           C     -0.861849 -0.673690  1.075770</span>
<span class="go">           D      1.071804  0.524988 -1.469388</span>

<span class="go">[12 rows x 3 columns]</span>
</pre></div>
</div>
<p>Convert to an xarray DataArray</p>
<div class="highlight-ipython notranslate"><div class="highlight"><pre><span></span><span class="gp">In [79]: </span><span class="n">p</span><span class="o">.</span><span class="n">to_xarray</span><span class="p">()</span>
<span class="gh">Out[79]:</span>
<span class="go">&lt;xarray.DataArray (items: 3, major_axis: 3, minor_axis: 4)&gt;</span>
<span class="go">array([[[ 0.469112, -1.135632,  0.119209, -2.104569],</span>
<span class="go">        [-0.282863,  1.212112, -1.044236, -0.494929],</span>
<span class="go">        [-1.509059, -0.173215, -0.861849,  1.071804]],</span>

<span class="go">       [[ 0.721555,  0.27186 ,  0.276232,  0.113648],</span>
<span class="go">        [-0.706771, -0.424972, -1.087401, -1.478427],</span>
<span class="go">        [-1.039575,  0.56702 , -0.67369 ,  0.524988]],</span>

<span class="go">       [[ 0.404705, -1.039268, -1.344312, -0.10905 ],</span>
<span class="go">        [ 0.577046, -0.370647,  0.844885,  1.643563],</span>
<span class="go">        [-1.715002, -1.157892,  1.07577 , -1.469388]]])</span>
<span class="go">Coordinates:</span>
<span class="go">  * items       (items) object &#39;ItemA&#39; &#39;ItemB&#39; &#39;ItemC&#39;</span>
<span class="go">  * major_axis  (major_axis) datetime64[ns] 2000-01-03 2000-01-04 2000-01-05</span>
<span class="go">  * minor_axis  (minor_axis) object &#39;A&#39; &#39;B&#39; &#39;C&#39; &#39;D&#39;</span>
</pre></div>
</div>
</section>
<section id="pandas-core-common-removals">
<span id="whatsnew-0230-api-breaking-core-common"></span><h3>pandas.core.common removals<a class="headerlink" href="#pandas-core-common-removals" title="Link to this heading">#</a></h3>
<p>The following error &amp; warning messages are removed from <code class="docutils literal notranslate"><span class="pre">pandas.core.common</span></code> (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/13634">GH 13634</a>, <a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/19769">GH 19769</a>):</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">PerformanceWarning</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">UnsupportedFunctionCall</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">UnsortedIndexError</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">AbstractMethodError</span></code></p></li>
</ul>
<p>These are available from import from <code class="docutils literal notranslate"><span class="pre">pandas.errors</span></code> (since 0.19.0).</p>
</section>
<section id="changes-to-make-output-of-dataframe-apply-consistent">
<span id="whatsnew-0230-api-breaking-apply"></span><h3>Changes to make output of <code class="docutils literal notranslate"><span class="pre">DataFrame.apply</span></code> consistent<a class="headerlink" href="#changes-to-make-output-of-dataframe-apply-consistent" title="Link to this heading">#</a></h3>
<p><a class="reference internal" href="../reference/api/pandas.DataFrame.apply.html#pandas.DataFrame.apply" title="pandas.DataFrame.apply"><code class="xref py py-func docutils literal notranslate"><span class="pre">DataFrame.apply()</span></code></a> was inconsistent when applying an arbitrary user-defined-function that returned a list-like with <code class="docutils literal notranslate"><span class="pre">axis=1</span></code>. Several bugs and inconsistencies
are resolved. If the applied function returns a Series, then pandas will return a DataFrame; otherwise a Series will be returned, this includes the case
where a list-like (e.g. <code class="docutils literal notranslate"><span class="pre">tuple</span></code> or <code class="docutils literal notranslate"><span class="pre">list</span></code> is returned) (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/16353">GH 16353</a>, <a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/17437">GH 17437</a>, <a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/17970">GH 17970</a>, <a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/17348">GH 17348</a>, <a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/17892">GH 17892</a>, <a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/18573">GH 18573</a>,
<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/17602">GH 17602</a>, <a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/18775">GH 18775</a>, <a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/18901">GH 18901</a>, <a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/18919">GH 18919</a>).</p>
<div class="highlight-ipython notranslate"><div class="highlight"><pre><span></span><span class="gp">In [74]: </span><span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">tile</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="mi">3</span><span class="p">),</span> <span class="mi">6</span><span class="p">)</span><span class="o">.</span><span class="n">reshape</span><span class="p">(</span><span class="mi">6</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">)</span> <span class="o">+</span> <span class="mi">1</span><span class="p">,</span>
<span class="gp">   ....: </span>                  <span class="n">columns</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;A&#39;</span><span class="p">,</span> <span class="s1">&#39;B&#39;</span><span class="p">,</span> <span class="s1">&#39;C&#39;</span><span class="p">])</span>
<span class="gp">   ....: </span>

<span class="gp">In [75]: </span><span class="n">df</span>
<span class="gh">Out[75]: </span>
<span class="go">   A  B  C</span>
<span class="go">0  1  2  3</span>
<span class="go">1  1  2  3</span>
<span class="go">2  1  2  3</span>
<span class="go">3  1  2  3</span>
<span class="go">4  1  2  3</span>
<span class="go">5  1  2  3</span>

<span class="go">[6 rows x 3 columns]</span>
</pre></div>
</div>
<p>Previous behavior: if the returned shape happened to match the length of original columns, this would return a <code class="docutils literal notranslate"><span class="pre">DataFrame</span></code>.
If the return shape did not match, a <code class="docutils literal notranslate"><span class="pre">Series</span></code> with lists was returned.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">In</span> <span class="p">[</span><span class="mi">3</span><span class="p">]:</span> <span class="n">df</span><span class="o">.</span><span class="n">apply</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">],</span> <span class="n">axis</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
<span class="n">Out</span><span class="p">[</span><span class="mi">3</span><span class="p">]:</span>
   <span class="n">A</span>  <span class="n">B</span>  <span class="n">C</span>
<span class="mi">0</span>  <span class="mi">1</span>  <span class="mi">2</span>  <span class="mi">3</span>
<span class="mi">1</span>  <span class="mi">1</span>  <span class="mi">2</span>  <span class="mi">3</span>
<span class="mi">2</span>  <span class="mi">1</span>  <span class="mi">2</span>  <span class="mi">3</span>
<span class="mi">3</span>  <span class="mi">1</span>  <span class="mi">2</span>  <span class="mi">3</span>
<span class="mi">4</span>  <span class="mi">1</span>  <span class="mi">2</span>  <span class="mi">3</span>
<span class="mi">5</span>  <span class="mi">1</span>  <span class="mi">2</span>  <span class="mi">3</span>

<span class="n">In</span> <span class="p">[</span><span class="mi">4</span><span class="p">]:</span> <span class="n">df</span><span class="o">.</span><span class="n">apply</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">],</span> <span class="n">axis</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
<span class="n">Out</span><span class="p">[</span><span class="mi">4</span><span class="p">]:</span>
<span class="mi">0</span>    <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">]</span>
<span class="mi">1</span>    <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">]</span>
<span class="mi">2</span>    <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">]</span>
<span class="mi">3</span>    <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">]</span>
<span class="mi">4</span>    <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">]</span>
<span class="mi">5</span>    <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">]</span>
<span class="n">dtype</span><span class="p">:</span> <span class="nb">object</span>
</pre></div>
</div>
<p>New behavior: When the applied function returns a list-like, this will now <em>always</em> return a <code class="docutils literal notranslate"><span class="pre">Series</span></code>.</p>
<div class="highlight-ipython notranslate"><div class="highlight"><pre><span></span><span class="gp">In [76]: </span><span class="n">df</span><span class="o">.</span><span class="n">apply</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">],</span> <span class="n">axis</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
<span class="gh">Out[76]: </span>
<span class="go">0    [1, 2, 3]</span>
<span class="go">1    [1, 2, 3]</span>
<span class="go">2    [1, 2, 3]</span>
<span class="go">3    [1, 2, 3]</span>
<span class="go">4    [1, 2, 3]</span>
<span class="go">5    [1, 2, 3]</span>
<span class="go">Length: 6, dtype: object</span>

<span class="gp">In [77]: </span><span class="n">df</span><span class="o">.</span><span class="n">apply</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">],</span> <span class="n">axis</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
<span class="gh">Out[77]: </span>
<span class="go">0    [1, 2]</span>
<span class="go">1    [1, 2]</span>
<span class="go">2    [1, 2]</span>
<span class="go">3    [1, 2]</span>
<span class="go">4    [1, 2]</span>
<span class="go">5    [1, 2]</span>
<span class="go">Length: 6, dtype: object</span>
</pre></div>
</div>
<p>To have expanded columns, you can use <code class="docutils literal notranslate"><span class="pre">result_type='expand'</span></code></p>
<div class="highlight-ipython notranslate"><div class="highlight"><pre><span></span><span class="gp">In [78]: </span><span class="n">df</span><span class="o">.</span><span class="n">apply</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">],</span> <span class="n">axis</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">result_type</span><span class="o">=</span><span class="s1">&#39;expand&#39;</span><span class="p">)</span>
<span class="gh">Out[78]: </span>
<span class="go">   0  1  2</span>
<span class="go">0  1  2  3</span>
<span class="go">1  1  2  3</span>
<span class="go">2  1  2  3</span>
<span class="go">3  1  2  3</span>
<span class="go">4  1  2  3</span>
<span class="go">5  1  2  3</span>

<span class="go">[6 rows x 3 columns]</span>
</pre></div>
</div>
<p>To broadcast the result across the original columns (the old behaviour for
list-likes of the correct length), you can use <code class="docutils literal notranslate"><span class="pre">result_type='broadcast'</span></code>.
The shape must match the original columns.</p>
<div class="highlight-ipython notranslate"><div class="highlight"><pre><span></span><span class="gp">In [79]: </span><span class="n">df</span><span class="o">.</span><span class="n">apply</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">],</span> <span class="n">axis</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">result_type</span><span class="o">=</span><span class="s1">&#39;broadcast&#39;</span><span class="p">)</span>
<span class="gh">Out[79]: </span>
<span class="go">   A  B  C</span>
<span class="go">0  1  2  3</span>
<span class="go">1  1  2  3</span>
<span class="go">2  1  2  3</span>
<span class="go">3  1  2  3</span>
<span class="go">4  1  2  3</span>
<span class="go">5  1  2  3</span>

<span class="go">[6 rows x 3 columns]</span>
</pre></div>
</div>
<p>Returning a <code class="docutils literal notranslate"><span class="pre">Series</span></code> allows one to control the exact return structure and column names:</p>
<div class="highlight-ipython notranslate"><div class="highlight"><pre><span></span><span class="gp">In [80]: </span><span class="n">df</span><span class="o">.</span><span class="n">apply</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="n">pd</span><span class="o">.</span><span class="n">Series</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">],</span> <span class="n">index</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;D&#39;</span><span class="p">,</span> <span class="s1">&#39;E&#39;</span><span class="p">,</span> <span class="s1">&#39;F&#39;</span><span class="p">]),</span> <span class="n">axis</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
<span class="gh">Out[80]: </span>
<span class="go">   D  E  F</span>
<span class="go">0  1  2  3</span>
<span class="go">1  1  2  3</span>
<span class="go">2  1  2  3</span>
<span class="go">3  1  2  3</span>
<span class="go">4  1  2  3</span>
<span class="go">5  1  2  3</span>

<span class="go">[6 rows x 3 columns]</span>
</pre></div>
</div>
</section>
<section id="concatenation-will-no-longer-sort">
<span id="whatsnew-0230-api-breaking-concat"></span><h3>Concatenation will no longer sort<a class="headerlink" href="#concatenation-will-no-longer-sort" title="Link to this heading">#</a></h3>
<p>In a future version of pandas <a class="reference internal" href="../reference/api/pandas.concat.html#pandas.concat" title="pandas.concat"><code class="xref py py-func docutils literal notranslate"><span class="pre">pandas.concat()</span></code></a> will no longer sort the non-concatenation axis when it is not already aligned.
The current behavior is the same as the previous (sorting), but now a warning is issued when <code class="docutils literal notranslate"><span class="pre">sort</span></code> is not specified and the non-concatenation axis is not aligned (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/4588">GH 4588</a>).</p>
<div class="highlight-ipython notranslate"><div class="highlight"><pre><span></span><span class="gp">In [81]: </span><span class="n">df1</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">({</span><span class="s2">&quot;a&quot;</span><span class="p">:</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">],</span> <span class="s2">&quot;b&quot;</span><span class="p">:</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">]},</span> <span class="n">columns</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;b&#39;</span><span class="p">,</span> <span class="s1">&#39;a&#39;</span><span class="p">])</span>

<span class="gp">In [82]: </span><span class="n">df2</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">({</span><span class="s2">&quot;a&quot;</span><span class="p">:</span> <span class="p">[</span><span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">]})</span>

<span class="gp">In [83]: </span><span class="n">pd</span><span class="o">.</span><span class="n">concat</span><span class="p">([</span><span class="n">df1</span><span class="p">,</span> <span class="n">df2</span><span class="p">])</span>
<span class="gh">Out[83]: </span>
<span class="go">     b  a</span>
<span class="go">0  1.0  1</span>
<span class="go">1  2.0  2</span>
<span class="go">0  NaN  4</span>
<span class="go">1  NaN  5</span>

<span class="go">[4 rows x 2 columns]</span>
</pre></div>
</div>
<p>To keep the previous behavior (sorting) and silence the warning, pass <code class="docutils literal notranslate"><span class="pre">sort=True</span></code></p>
<div class="highlight-ipython notranslate"><div class="highlight"><pre><span></span><span class="gp">In [84]: </span><span class="n">pd</span><span class="o">.</span><span class="n">concat</span><span class="p">([</span><span class="n">df1</span><span class="p">,</span> <span class="n">df2</span><span class="p">],</span> <span class="n">sort</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="gh">Out[84]: </span>
<span class="go">   a    b</span>
<span class="go">0  1  1.0</span>
<span class="go">1  2  2.0</span>
<span class="go">0  4  NaN</span>
<span class="go">1  5  NaN</span>

<span class="go">[4 rows x 2 columns]</span>
</pre></div>
</div>
<p>To accept the future behavior (no sorting), pass <code class="docutils literal notranslate"><span class="pre">sort=False</span></code></p>
<p>Note that this change also applies to <code class="xref py py-meth docutils literal notranslate"><span class="pre">DataFrame.append()</span></code>, which has also received a <code class="docutils literal notranslate"><span class="pre">sort</span></code> keyword for controlling this behavior.</p>
</section>
<section id="build-changes">
<span id="whatsnew-0230-api-breaking-build-changes"></span><h3>Build changes<a class="headerlink" href="#build-changes" title="Link to this heading">#</a></h3>
<ul class="simple">
<li><p>Building pandas for development now requires <code class="docutils literal notranslate"><span class="pre">cython</span> <span class="pre">&gt;=</span> <span class="pre">0.24</span></code> (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/18613">GH 18613</a>)</p></li>
<li><p>Building from source now explicitly requires <code class="docutils literal notranslate"><span class="pre">setuptools</span></code> in <code class="docutils literal notranslate"><span class="pre">setup.py</span></code> (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/18113">GH 18113</a>)</p></li>
<li><p>Updated conda recipe to be in compliance with conda-build 3.0+ (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/18002">GH 18002</a>)</p></li>
</ul>
</section>
<section id="index-division-by-zero-fills-correctly">
<span id="whatsnew-0230-api-breaking-index-division-by-zero"></span><h3>Index division by zero fills correctly<a class="headerlink" href="#index-division-by-zero-fills-correctly" title="Link to this heading">#</a></h3>
<p>Division operations on <code class="docutils literal notranslate"><span class="pre">Index</span></code> and subclasses will now fill division of positive numbers by zero with <code class="docutils literal notranslate"><span class="pre">np.inf</span></code>, division of negative numbers by zero with <code class="docutils literal notranslate"><span class="pre">-np.inf</span></code> and <code class="docutils literal notranslate"><span class="pre">0</span> <span class="pre">/</span> <span class="pre">0</span></code> with <code class="docutils literal notranslate"><span class="pre">np.nan</span></code>.  This matches existing <code class="docutils literal notranslate"><span class="pre">Series</span></code> behavior. (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/19322">GH 19322</a>, <a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/19347">GH 19347</a>)</p>
<p>Previous behavior:</p>
<div class="highlight-ipython notranslate"><div class="highlight"><pre><span></span><span class="gp">In [6]: </span><span class="n">index</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">Int64Index</span><span class="p">([</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">])</span>

<span class="gp">In [7]: </span><span class="n">index</span> <span class="o">/</span> <span class="mi">0</span>
<span class="gh">Out[7]: </span><span class="go">Int64Index([0, 0, 0], dtype=&#39;int64&#39;)</span>

<span class="go"># Previous behavior yielded different results depending on the type of zero in the divisor</span>
<span class="gp">In [8]: </span><span class="n">index</span> <span class="o">/</span> <span class="mf">0.0</span>
<span class="gh">Out[8]: </span><span class="go">Float64Index([-inf, nan, inf], dtype=&#39;float64&#39;)</span>

<span class="gp">In [9]: </span><span class="n">index</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">UInt64Index</span><span class="p">([</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">])</span>

<span class="gp">In [10]: </span><span class="n">index</span> <span class="o">/</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">],</span> <span class="n">dtype</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">uint64</span><span class="p">)</span>
<span class="gh">Out[10]: </span><span class="go">UInt64Index([0, 0], dtype=&#39;uint64&#39;)</span>

<span class="gp">In [11]: </span><span class="n">pd</span><span class="o">.</span><span class="n">RangeIndex</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">5</span><span class="p">)</span> <span class="o">/</span> <span class="mi">0</span>
<span class="go">ZeroDivisionError: integer division or modulo by zero</span>
</pre></div>
</div>
<p>Current behavior:</p>
<div class="highlight-ipython notranslate"><div class="highlight"><pre><span></span><span class="gp">In [12]: </span><span class="n">index</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">Int64Index</span><span class="p">([</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">])</span>
<span class="go"># division by zero gives -infinity where negative,</span>
<span class="go"># +infinity where positive, and NaN for 0 / 0</span>
<span class="gp">In [13]: </span><span class="n">index</span> <span class="o">/</span> <span class="mi">0</span>

<span class="go"># The result of division by zero should not depend on</span>
<span class="go"># whether the zero is int or float</span>
<span class="gp">In [14]: </span><span class="n">index</span> <span class="o">/</span> <span class="mf">0.0</span>

<span class="gp">In [15]: </span><span class="n">index</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">UInt64Index</span><span class="p">([</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">])</span>
<span class="gp">In [16]: </span><span class="n">index</span> <span class="o">/</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">],</span> <span class="n">dtype</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">uint64</span><span class="p">)</span>

<span class="gp">In [17]: </span><span class="n">pd</span><span class="o">.</span><span class="n">RangeIndex</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">5</span><span class="p">)</span> <span class="o">/</span> <span class="mi">0</span>
</pre></div>
</div>
</section>
<section id="extraction-of-matching-patterns-from-strings">
<span id="whatsnew-0230-api-breaking-extract"></span><h3>Extraction of matching patterns from strings<a class="headerlink" href="#extraction-of-matching-patterns-from-strings" title="Link to this heading">#</a></h3>
<p>By default, extracting matching patterns from strings with <code class="xref py py-func docutils literal notranslate"><span class="pre">str.extract()</span></code> used to return a
<code class="docutils literal notranslate"><span class="pre">Series</span></code> if a single group was being extracted (a <code class="docutils literal notranslate"><span class="pre">DataFrame</span></code> if more than one group was
extracted). As of pandas 0.23.0 <code class="xref py py-func docutils literal notranslate"><span class="pre">str.extract()</span></code> always returns a <code class="docutils literal notranslate"><span class="pre">DataFrame</span></code>, unless
<code class="docutils literal notranslate"><span class="pre">expand</span></code> is set to <code class="docutils literal notranslate"><span class="pre">False</span></code>. Finally, <code class="docutils literal notranslate"><span class="pre">None</span></code> was an accepted value for
the <code class="docutils literal notranslate"><span class="pre">expand</span></code> parameter (which was equivalent to <code class="docutils literal notranslate"><span class="pre">False</span></code>), but now raises a <code class="docutils literal notranslate"><span class="pre">ValueError</span></code>. (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/11386">GH 11386</a>)</p>
<p>Previous behavior:</p>
<div class="highlight-ipython notranslate"><div class="highlight"><pre><span></span><span class="gp">In [1]: </span><span class="n">s</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">Series</span><span class="p">([</span><span class="s1">&#39;number 10&#39;</span><span class="p">,</span> <span class="s1">&#39;12 eggs&#39;</span><span class="p">])</span>

<span class="gp">In [2]: </span><span class="n">extracted</span> <span class="o">=</span> <span class="n">s</span><span class="o">.</span><span class="n">str</span><span class="o">.</span><span class="n">extract</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;.*(\d\d).*&#39;</span><span class="p">)</span>

<span class="gp">In [3]: </span><span class="n">extracted</span>
<span class="go">Out [3]:</span>
<span class="go">0    10</span>
<span class="go">1    12</span>
<span class="go">dtype: object</span>

<span class="gp">In [4]: </span><span class="nb">type</span><span class="p">(</span><span class="n">extracted</span><span class="p">)</span>
<span class="go">Out [4]:</span>
<span class="go">pandas.core.series.Series</span>
</pre></div>
</div>
<p>New behavior:</p>
<div class="highlight-ipython notranslate"><div class="highlight"><pre><span></span><span class="gp">In [85]: </span><span class="n">s</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">Series</span><span class="p">([</span><span class="s1">&#39;number 10&#39;</span><span class="p">,</span> <span class="s1">&#39;12 eggs&#39;</span><span class="p">])</span>

<span class="gp">In [86]: </span><span class="n">extracted</span> <span class="o">=</span> <span class="n">s</span><span class="o">.</span><span class="n">str</span><span class="o">.</span><span class="n">extract</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;.*(\d\d).*&#39;</span><span class="p">)</span>

<span class="gp">In [87]: </span><span class="n">extracted</span>
<span class="gh">Out[87]: </span>
<span class="go">    0</span>
<span class="go">0  10</span>
<span class="go">1  12</span>

<span class="go">[2 rows x 1 columns]</span>

<span class="gp">In [88]: </span><span class="nb">type</span><span class="p">(</span><span class="n">extracted</span><span class="p">)</span>
<span class="gh">Out[88]: </span><span class="go">pandas.core.frame.DataFrame</span>
</pre></div>
</div>
<p>To restore previous behavior, simply set <code class="docutils literal notranslate"><span class="pre">expand</span></code> to <code class="docutils literal notranslate"><span class="pre">False</span></code>:</p>
<div class="highlight-ipython notranslate"><div class="highlight"><pre><span></span><span class="gp">In [89]: </span><span class="n">s</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">Series</span><span class="p">([</span><span class="s1">&#39;number 10&#39;</span><span class="p">,</span> <span class="s1">&#39;12 eggs&#39;</span><span class="p">])</span>

<span class="gp">In [90]: </span><span class="n">extracted</span> <span class="o">=</span> <span class="n">s</span><span class="o">.</span><span class="n">str</span><span class="o">.</span><span class="n">extract</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;.*(\d\d).*&#39;</span><span class="p">,</span> <span class="n">expand</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>

<span class="gp">In [91]: </span><span class="n">extracted</span>
<span class="gh">Out[91]: </span>
<span class="go">0    10</span>
<span class="go">1    12</span>
<span class="go">Length: 2, dtype: object</span>

<span class="gp">In [92]: </span><span class="nb">type</span><span class="p">(</span><span class="n">extracted</span><span class="p">)</span>
<span class="gh">Out[92]: </span><span class="go">pandas.core.series.Series</span>
</pre></div>
</div>
</section>
<section id="default-value-for-the-ordered-parameter-of-categoricaldtype">
<span id="whatsnew-0230-api-breaking-cdt-ordered"></span><h3>Default value for the <code class="docutils literal notranslate"><span class="pre">ordered</span></code> parameter of <code class="docutils literal notranslate"><span class="pre">CategoricalDtype</span></code><a class="headerlink" href="#default-value-for-the-ordered-parameter-of-categoricaldtype" title="Link to this heading">#</a></h3>
<p>The default value of the <code class="docutils literal notranslate"><span class="pre">ordered</span></code> parameter for <code class="xref py py-class docutils literal notranslate"><span class="pre">CategoricalDtype</span></code> has changed from <code class="docutils literal notranslate"><span class="pre">False</span></code> to <code class="docutils literal notranslate"><span class="pre">None</span></code> to allow updating of <code class="docutils literal notranslate"><span class="pre">categories</span></code> without impacting <code class="docutils literal notranslate"><span class="pre">ordered</span></code>.  Behavior should remain consistent for downstream objects, such as <a class="reference internal" href="../reference/api/pandas.Categorical.html#pandas.Categorical" title="pandas.Categorical"><code class="xref py py-class docutils literal notranslate"><span class="pre">Categorical</span></code></a> (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/18790">GH 18790</a>)</p>
<p>In previous versions, the default value for the <code class="docutils literal notranslate"><span class="pre">ordered</span></code> parameter was <code class="docutils literal notranslate"><span class="pre">False</span></code>.  This could potentially lead to the <code class="docutils literal notranslate"><span class="pre">ordered</span></code> parameter unintentionally being changed from <code class="docutils literal notranslate"><span class="pre">True</span></code> to <code class="docutils literal notranslate"><span class="pre">False</span></code> when users attempt to update <code class="docutils literal notranslate"><span class="pre">categories</span></code> if <code class="docutils literal notranslate"><span class="pre">ordered</span></code> is not explicitly specified, as it would silently default to <code class="docutils literal notranslate"><span class="pre">False</span></code>.  The new behavior for <code class="docutils literal notranslate"><span class="pre">ordered=None</span></code> is to retain the existing value of <code class="docutils literal notranslate"><span class="pre">ordered</span></code>.</p>
<p>New behavior:</p>
<div class="highlight-ipython notranslate"><div class="highlight"><pre><span></span><span class="gp">In [2]: </span><span class="kn">from</span> <span class="nn">pandas.api.types</span> <span class="kn">import</span> <span class="n">CategoricalDtype</span>

<span class="gp">In [3]: </span><span class="n">cat</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">Categorical</span><span class="p">(</span><span class="nb">list</span><span class="p">(</span><span class="s1">&#39;abcaba&#39;</span><span class="p">),</span> <span class="n">ordered</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">categories</span><span class="o">=</span><span class="nb">list</span><span class="p">(</span><span class="s1">&#39;cba&#39;</span><span class="p">))</span>

<span class="gp">In [4]: </span><span class="n">cat</span>
<span class="gh">Out[4]:</span>
<span class="go">[a, b, c, a, b, a]</span>
<span class="go">Categories (3, object): [c &lt; b &lt; a]</span>

<span class="gp">In [5]: </span><span class="n">cdt</span> <span class="o">=</span> <span class="n">CategoricalDtype</span><span class="p">(</span><span class="n">categories</span><span class="o">=</span><span class="nb">list</span><span class="p">(</span><span class="s1">&#39;cbad&#39;</span><span class="p">))</span>

<span class="gp">In [6]: </span><span class="n">cat</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="n">cdt</span><span class="p">)</span>
<span class="gh">Out[6]:</span>
<span class="go">[a, b, c, a, b, a]</span>
<span class="go">Categories (4, object): [c &lt; b &lt; a &lt; d]</span>
</pre></div>
</div>
<p>Notice in the example above that the converted <code class="docutils literal notranslate"><span class="pre">Categorical</span></code> has retained <code class="docutils literal notranslate"><span class="pre">ordered=True</span></code>.  Had the default value for <code class="docutils literal notranslate"><span class="pre">ordered</span></code> remained as <code class="docutils literal notranslate"><span class="pre">False</span></code>, the converted <code class="docutils literal notranslate"><span class="pre">Categorical</span></code> would have become unordered, despite <code class="docutils literal notranslate"><span class="pre">ordered=False</span></code> never being explicitly specified.  To change the value of <code class="docutils literal notranslate"><span class="pre">ordered</span></code>, explicitly pass it to the new dtype, e.g. <code class="docutils literal notranslate"><span class="pre">CategoricalDtype(categories=list('cbad'),</span> <span class="pre">ordered=False)</span></code>.</p>
<p>Note that the unintentional conversion of <code class="docutils literal notranslate"><span class="pre">ordered</span></code> discussed above did not arise in previous versions due to separate bugs that prevented <code class="docutils literal notranslate"><span class="pre">astype</span></code> from doing any type of category to category conversion (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/10696">GH 10696</a>, <a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/18593">GH 18593</a>).  These bugs have been fixed in this release, and motivated changing the default value of <code class="docutils literal notranslate"><span class="pre">ordered</span></code>.</p>
</section>
<section id="better-pretty-printing-of-dataframes-in-a-terminal">
<span id="whatsnew-0230-api-breaking-pretty-printing"></span><h3>Better pretty-printing of DataFrames in a terminal<a class="headerlink" href="#better-pretty-printing-of-dataframes-in-a-terminal" title="Link to this heading">#</a></h3>
<p>Previously, the default value for the maximum number of columns was
<code class="docutils literal notranslate"><span class="pre">pd.options.display.max_columns=20</span></code>. This meant that relatively wide data
frames would not fit within the terminal width, and pandas would introduce line
breaks to display these 20 columns. This resulted in an output that was
relatively difficult to read:</p>
<img alt="../_images/print_df_old.png" src="../_images/print_df_old.png" />
<p>If Python runs in a terminal, the maximum number of columns is now determined
automatically so that the printed data frame fits within the current terminal
width (<code class="docutils literal notranslate"><span class="pre">pd.options.display.max_columns=0</span></code>) (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/17023">GH 17023</a>). If Python runs
as a Jupyter kernel (such as the Jupyter QtConsole or a Jupyter notebook, as
well as in many IDEs), this value cannot be inferred automatically and is thus
set to <code class="docutils literal notranslate"><span class="pre">20</span></code> as in previous versions. In a terminal, this results in a much
nicer output:</p>
<img alt="../_images/print_df_new.png" src="../_images/print_df_new.png" />
<p>Note that if you don’t like the new default, you can always set this option
yourself. To revert to the old setting, you can run this line:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">pd</span><span class="o">.</span><span class="n">options</span><span class="o">.</span><span class="n">display</span><span class="o">.</span><span class="n">max_columns</span> <span class="o">=</span> <span class="mi">20</span>
</pre></div>
</div>
</section>
<section id="datetimelike-api-changes">
<span id="whatsnew-0230-api-datetimelike"></span><h3>Datetimelike API changes<a class="headerlink" href="#datetimelike-api-changes" title="Link to this heading">#</a></h3>
<ul class="simple">
<li><p>The default <code class="docutils literal notranslate"><span class="pre">Timedelta</span></code> constructor now accepts an <code class="docutils literal notranslate"><span class="pre">ISO</span> <span class="pre">8601</span> <span class="pre">Duration</span></code> string as an argument (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/19040">GH 19040</a>)</p></li>
<li><p>Subtracting <code class="docutils literal notranslate"><span class="pre">NaT</span></code> from a <a class="reference internal" href="../reference/api/pandas.Series.html#pandas.Series" title="pandas.Series"><code class="xref py py-class docutils literal notranslate"><span class="pre">Series</span></code></a> with <code class="docutils literal notranslate"><span class="pre">dtype='datetime64[ns]'</span></code> returns a <code class="docutils literal notranslate"><span class="pre">Series</span></code> with <code class="docutils literal notranslate"><span class="pre">dtype='timedelta64[ns]'</span></code> instead of <code class="docutils literal notranslate"><span class="pre">dtype='datetime64[ns]'</span></code> (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/18808">GH 18808</a>)</p></li>
<li><p>Addition or subtraction of <code class="docutils literal notranslate"><span class="pre">NaT</span></code> from <a class="reference internal" href="../reference/api/pandas.TimedeltaIndex.html#pandas.TimedeltaIndex" title="pandas.TimedeltaIndex"><code class="xref py py-class docutils literal notranslate"><span class="pre">TimedeltaIndex</span></code></a> will return <code class="docutils literal notranslate"><span class="pre">TimedeltaIndex</span></code> instead of <code class="docutils literal notranslate"><span class="pre">DatetimeIndex</span></code> (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/19124">GH 19124</a>)</p></li>
<li><p><code class="xref py py-func docutils literal notranslate"><span class="pre">DatetimeIndex.shift()</span></code> and <code class="xref py py-func docutils literal notranslate"><span class="pre">TimedeltaIndex.shift()</span></code> will now raise <code class="docutils literal notranslate"><span class="pre">NullFrequencyError</span></code> (which subclasses <code class="docutils literal notranslate"><span class="pre">ValueError</span></code>, which was raised in older versions) when the index object frequency is <code class="docutils literal notranslate"><span class="pre">None</span></code> (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/19147">GH 19147</a>)</p></li>
<li><p>Addition and subtraction of <code class="docutils literal notranslate"><span class="pre">NaN</span></code> from a <a class="reference internal" href="../reference/api/pandas.Series.html#pandas.Series" title="pandas.Series"><code class="xref py py-class docutils literal notranslate"><span class="pre">Series</span></code></a> with <code class="docutils literal notranslate"><span class="pre">dtype='timedelta64[ns]'</span></code> will raise a <code class="docutils literal notranslate"><span class="pre">TypeError</span></code> instead of treating the <code class="docutils literal notranslate"><span class="pre">NaN</span></code> as <code class="docutils literal notranslate"><span class="pre">NaT</span></code> (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/19274">GH 19274</a>)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">NaT</span></code> division with <a class="reference external" href="https://docs.python.org/3/library/datetime.html#datetime.timedelta" title="(in Python v3.12)"><code class="xref py py-class docutils literal notranslate"><span class="pre">datetime.timedelta</span></code></a> will now return <code class="docutils literal notranslate"><span class="pre">NaN</span></code> instead of raising (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/17876">GH 17876</a>)</p></li>
<li><p>Operations between a <a class="reference internal" href="../reference/api/pandas.Series.html#pandas.Series" title="pandas.Series"><code class="xref py py-class docutils literal notranslate"><span class="pre">Series</span></code></a> with dtype <code class="docutils literal notranslate"><span class="pre">dtype='datetime64[ns]'</span></code> and a <a class="reference internal" href="../reference/api/pandas.PeriodIndex.html#pandas.PeriodIndex" title="pandas.PeriodIndex"><code class="xref py py-class docutils literal notranslate"><span class="pre">PeriodIndex</span></code></a> will correctly raises <code class="docutils literal notranslate"><span class="pre">TypeError</span></code> (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/18850">GH 18850</a>)</p></li>
<li><p>Subtraction of <a class="reference internal" href="../reference/api/pandas.Series.html#pandas.Series" title="pandas.Series"><code class="xref py py-class docutils literal notranslate"><span class="pre">Series</span></code></a> with timezone-aware <code class="docutils literal notranslate"><span class="pre">dtype='datetime64[ns]'</span></code> with mismatched timezones will raise <code class="docutils literal notranslate"><span class="pre">TypeError</span></code> instead of <code class="docutils literal notranslate"><span class="pre">ValueError</span></code> (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/18817">GH 18817</a>)</p></li>
<li><p><a class="reference internal" href="../reference/api/pandas.Timestamp.html#pandas.Timestamp" title="pandas.Timestamp"><code class="xref py py-class docutils literal notranslate"><span class="pre">Timestamp</span></code></a> will no longer silently ignore unused or invalid <code class="docutils literal notranslate"><span class="pre">tz</span></code> or <code class="docutils literal notranslate"><span class="pre">tzinfo</span></code> keyword arguments (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/17690">GH 17690</a>)</p></li>
<li><p><a class="reference internal" href="../reference/api/pandas.Timestamp.html#pandas.Timestamp" title="pandas.Timestamp"><code class="xref py py-class docutils literal notranslate"><span class="pre">Timestamp</span></code></a> will no longer silently ignore invalid <code class="docutils literal notranslate"><span class="pre">freq</span></code> arguments (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/5168">GH 5168</a>)</p></li>
<li><p><code class="xref py py-class docutils literal notranslate"><span class="pre">CacheableOffset</span></code> and <code class="xref py py-class docutils literal notranslate"><span class="pre">WeekDay</span></code> are no longer available in the <code class="docutils literal notranslate"><span class="pre">pandas.tseries.offsets</span></code> module (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/17830">GH 17830</a>)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">pandas.tseries.frequencies.get_freq_group()</span></code> and <code class="docutils literal notranslate"><span class="pre">pandas.tseries.frequencies.DAYS</span></code> are removed from the public API (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/18034">GH 18034</a>)</p></li>
<li><p><a class="reference internal" href="../reference/api/pandas.Series.truncate.html#pandas.Series.truncate" title="pandas.Series.truncate"><code class="xref py py-func docutils literal notranslate"><span class="pre">Series.truncate()</span></code></a> and <a class="reference internal" href="../reference/api/pandas.DataFrame.truncate.html#pandas.DataFrame.truncate" title="pandas.DataFrame.truncate"><code class="xref py py-func docutils literal notranslate"><span class="pre">DataFrame.truncate()</span></code></a> will raise a <code class="docutils literal notranslate"><span class="pre">ValueError</span></code> if the index is not sorted instead of an unhelpful <code class="docutils literal notranslate"><span class="pre">KeyError</span></code> (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/17935">GH 17935</a>)</p></li>
<li><p><a class="reference internal" href="../reference/api/pandas.Series.first.html#pandas.Series.first" title="pandas.Series.first"><code class="xref py py-attr docutils literal notranslate"><span class="pre">Series.first</span></code></a> and <a class="reference internal" href="../reference/api/pandas.DataFrame.first.html#pandas.DataFrame.first" title="pandas.DataFrame.first"><code class="xref py py-attr docutils literal notranslate"><span class="pre">DataFrame.first</span></code></a> will now raise a <code class="docutils literal notranslate"><span class="pre">TypeError</span></code>
rather than <code class="docutils literal notranslate"><span class="pre">NotImplementedError</span></code> when index is not a <a class="reference internal" href="../reference/api/pandas.DatetimeIndex.html#pandas.DatetimeIndex" title="pandas.DatetimeIndex"><code class="xref py py-class docutils literal notranslate"><span class="pre">DatetimeIndex</span></code></a> (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/20725">GH 20725</a>).</p></li>
<li><p><a class="reference internal" href="../reference/api/pandas.Series.last.html#pandas.Series.last" title="pandas.Series.last"><code class="xref py py-attr docutils literal notranslate"><span class="pre">Series.last</span></code></a> and <a class="reference internal" href="../reference/api/pandas.DataFrame.last.html#pandas.DataFrame.last" title="pandas.DataFrame.last"><code class="xref py py-attr docutils literal notranslate"><span class="pre">DataFrame.last</span></code></a> will now raise a <code class="docutils literal notranslate"><span class="pre">TypeError</span></code>
rather than <code class="docutils literal notranslate"><span class="pre">NotImplementedError</span></code> when index is not a <a class="reference internal" href="../reference/api/pandas.DatetimeIndex.html#pandas.DatetimeIndex" title="pandas.DatetimeIndex"><code class="xref py py-class docutils literal notranslate"><span class="pre">DatetimeIndex</span></code></a> (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/20725">GH 20725</a>).</p></li>
<li><p>Restricted <code class="docutils literal notranslate"><span class="pre">DateOffset</span></code> keyword arguments. Previously, <code class="docutils literal notranslate"><span class="pre">DateOffset</span></code> subclasses allowed arbitrary keyword arguments which could lead to unexpected behavior. Now, only valid arguments will be accepted. (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/17176">GH 17176</a>, <a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/18226">GH 18226</a>).</p></li>
<li><p><a class="reference internal" href="../reference/api/pandas.merge.html#pandas.merge" title="pandas.merge"><code class="xref py py-func docutils literal notranslate"><span class="pre">pandas.merge()</span></code></a> provides a more informative error message when trying to merge on timezone-aware and timezone-naive columns (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/15800">GH 15800</a>)</p></li>
<li><p>For <a class="reference internal" href="../reference/api/pandas.DatetimeIndex.html#pandas.DatetimeIndex" title="pandas.DatetimeIndex"><code class="xref py py-class docutils literal notranslate"><span class="pre">DatetimeIndex</span></code></a> and <a class="reference internal" href="../reference/api/pandas.TimedeltaIndex.html#pandas.TimedeltaIndex" title="pandas.TimedeltaIndex"><code class="xref py py-class docutils literal notranslate"><span class="pre">TimedeltaIndex</span></code></a> with <code class="docutils literal notranslate"><span class="pre">freq=None</span></code>, addition or subtraction of integer-dtyped array or <code class="docutils literal notranslate"><span class="pre">Index</span></code> will raise <code class="docutils literal notranslate"><span class="pre">NullFrequencyError</span></code> instead of <code class="docutils literal notranslate"><span class="pre">TypeError</span></code> (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/19895">GH 19895</a>)</p></li>
<li><p><a class="reference internal" href="../reference/api/pandas.Timestamp.html#pandas.Timestamp" title="pandas.Timestamp"><code class="xref py py-class docutils literal notranslate"><span class="pre">Timestamp</span></code></a> constructor now accepts a <code class="docutils literal notranslate"><span class="pre">nanosecond</span></code> keyword or positional argument (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/18898">GH 18898</a>)</p></li>
<li><p><a class="reference internal" href="../reference/api/pandas.DatetimeIndex.html#pandas.DatetimeIndex" title="pandas.DatetimeIndex"><code class="xref py py-class docutils literal notranslate"><span class="pre">DatetimeIndex</span></code></a> will now raise an <code class="docutils literal notranslate"><span class="pre">AttributeError</span></code> when the <code class="docutils literal notranslate"><span class="pre">tz</span></code> attribute is set after instantiation (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/3746">GH 3746</a>)</p></li>
<li><p><a class="reference internal" href="../reference/api/pandas.DatetimeIndex.html#pandas.DatetimeIndex" title="pandas.DatetimeIndex"><code class="xref py py-class docutils literal notranslate"><span class="pre">DatetimeIndex</span></code></a> with a <code class="docutils literal notranslate"><span class="pre">pytz</span></code> timezone will now return a consistent <code class="docutils literal notranslate"><span class="pre">pytz</span></code> timezone (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/18595">GH 18595</a>)</p></li>
</ul>
</section>
<section id="other-api-changes">
<span id="whatsnew-0230-api-other"></span><h3>Other API changes<a class="headerlink" href="#other-api-changes" title="Link to this heading">#</a></h3>
<ul class="simple">
<li><p><a class="reference internal" href="../reference/api/pandas.Series.astype.html#pandas.Series.astype" title="pandas.Series.astype"><code class="xref py py-func docutils literal notranslate"><span class="pre">Series.astype()</span></code></a> and <a class="reference internal" href="../reference/api/pandas.Index.astype.html#pandas.Index.astype" title="pandas.Index.astype"><code class="xref py py-func docutils literal notranslate"><span class="pre">Index.astype()</span></code></a> with an incompatible dtype will now raise a <code class="docutils literal notranslate"><span class="pre">TypeError</span></code> rather than a <code class="docutils literal notranslate"><span class="pre">ValueError</span></code> (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/18231">GH 18231</a>)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">Series</span></code> construction with an <code class="docutils literal notranslate"><span class="pre">object</span></code> dtyped tz-aware datetime and <code class="docutils literal notranslate"><span class="pre">dtype=object</span></code> specified, will now return an <code class="docutils literal notranslate"><span class="pre">object</span></code> dtyped <code class="docutils literal notranslate"><span class="pre">Series</span></code>, previously this would infer the datetime dtype (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/18231">GH 18231</a>)</p></li>
<li><p>A <a class="reference internal" href="../reference/api/pandas.Series.html#pandas.Series" title="pandas.Series"><code class="xref py py-class docutils literal notranslate"><span class="pre">Series</span></code></a> of <code class="docutils literal notranslate"><span class="pre">dtype=category</span></code> constructed from an empty <code class="docutils literal notranslate"><span class="pre">dict</span></code> will now have categories of <code class="docutils literal notranslate"><span class="pre">dtype=object</span></code> rather than <code class="docutils literal notranslate"><span class="pre">dtype=float64</span></code>, consistently with the case in which an empty list is passed (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/18515">GH 18515</a>)</p></li>
<li><p>All-NaN levels in a <code class="docutils literal notranslate"><span class="pre">MultiIndex</span></code> are now assigned <code class="docutils literal notranslate"><span class="pre">float</span></code> rather than <code class="docutils literal notranslate"><span class="pre">object</span></code> dtype, promoting consistency with <code class="docutils literal notranslate"><span class="pre">Index</span></code> (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/17929">GH 17929</a>).</p></li>
<li><p>Levels names of a <code class="docutils literal notranslate"><span class="pre">MultiIndex</span></code> (when not None) are now required to be unique: trying to create a <code class="docutils literal notranslate"><span class="pre">MultiIndex</span></code> with repeated names will raise a <code class="docutils literal notranslate"><span class="pre">ValueError</span></code> (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/18872">GH 18872</a>)</p></li>
<li><p>Both construction and renaming of <code class="docutils literal notranslate"><span class="pre">Index</span></code>/<code class="docutils literal notranslate"><span class="pre">MultiIndex</span></code> with non-hashable <code class="docutils literal notranslate"><span class="pre">name</span></code>/<code class="docutils literal notranslate"><span class="pre">names</span></code> will now raise <code class="docutils literal notranslate"><span class="pre">TypeError</span></code> (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/20527">GH 20527</a>)</p></li>
<li><p><a class="reference internal" href="../reference/api/pandas.Index.map.html#pandas.Index.map" title="pandas.Index.map"><code class="xref py py-func docutils literal notranslate"><span class="pre">Index.map()</span></code></a> can now accept <code class="docutils literal notranslate"><span class="pre">Series</span></code> and dictionary input objects (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/12756">GH 12756</a>, <a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/18482">GH 18482</a>, <a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/18509">GH 18509</a>).</p></li>
<li><p><a class="reference internal" href="../reference/api/pandas.DataFrame.unstack.html#pandas.DataFrame.unstack" title="pandas.DataFrame.unstack"><code class="xref py py-func docutils literal notranslate"><span class="pre">DataFrame.unstack()</span></code></a> will now default to filling with <code class="docutils literal notranslate"><span class="pre">np.nan</span></code> for <code class="docutils literal notranslate"><span class="pre">object</span></code> columns. (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/12815">GH 12815</a>)</p></li>
<li><p><a class="reference internal" href="../reference/api/pandas.IntervalIndex.html#pandas.IntervalIndex" title="pandas.IntervalIndex"><code class="xref py py-class docutils literal notranslate"><span class="pre">IntervalIndex</span></code></a> constructor will raise if the <code class="docutils literal notranslate"><span class="pre">closed</span></code> parameter conflicts with how the input data is inferred to be closed (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/18421">GH 18421</a>)</p></li>
<li><p>Inserting missing values into indexes will work for all types of indexes and automatically insert the correct type of missing value (<code class="docutils literal notranslate"><span class="pre">NaN</span></code>, <code class="docutils literal notranslate"><span class="pre">NaT</span></code>, etc.) regardless of the type passed in (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/18295">GH 18295</a>)</p></li>
<li><p>When created with duplicate labels, <code class="docutils literal notranslate"><span class="pre">MultiIndex</span></code> now raises a <code class="docutils literal notranslate"><span class="pre">ValueError</span></code>. (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/17464">GH 17464</a>)</p></li>
<li><p><a class="reference internal" href="../reference/api/pandas.Series.fillna.html#pandas.Series.fillna" title="pandas.Series.fillna"><code class="xref py py-func docutils literal notranslate"><span class="pre">Series.fillna()</span></code></a> now raises a <code class="docutils literal notranslate"><span class="pre">TypeError</span></code> instead of a <code class="docutils literal notranslate"><span class="pre">ValueError</span></code> when passed a list, tuple or DataFrame as a <code class="docutils literal notranslate"><span class="pre">value</span></code> (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/18293">GH 18293</a>)</p></li>
<li><p><a class="reference internal" href="../reference/api/pandas.DataFrame.merge.html#pandas.DataFrame.merge" title="pandas.DataFrame.merge"><code class="xref py py-func docutils literal notranslate"><span class="pre">pandas.DataFrame.merge()</span></code></a> no longer casts a <code class="docutils literal notranslate"><span class="pre">float</span></code> column to <code class="docutils literal notranslate"><span class="pre">object</span></code> when merging on <code class="docutils literal notranslate"><span class="pre">int</span></code> and <code class="docutils literal notranslate"><span class="pre">float</span></code> columns (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/16572">GH 16572</a>)</p></li>
<li><p><a class="reference internal" href="../reference/api/pandas.merge.html#pandas.merge" title="pandas.merge"><code class="xref py py-func docutils literal notranslate"><span class="pre">pandas.merge()</span></code></a> now raises a <code class="docutils literal notranslate"><span class="pre">ValueError</span></code> when trying to merge on incompatible data types (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/9780">GH 9780</a>)</p></li>
<li><p>The default NA value for <code class="xref py py-class docutils literal notranslate"><span class="pre">UInt64Index</span></code> has changed from 0 to <code class="docutils literal notranslate"><span class="pre">NaN</span></code>, which impacts methods that mask with NA, such as <code class="docutils literal notranslate"><span class="pre">UInt64Index.where()</span></code> (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/18398">GH 18398</a>)</p></li>
<li><p>Refactored <code class="docutils literal notranslate"><span class="pre">setup.py</span></code> to use <code class="docutils literal notranslate"><span class="pre">find_packages</span></code> instead of explicitly listing out all subpackages (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/18535">GH 18535</a>)</p></li>
<li><p>Rearranged the order of keyword arguments in <a class="reference internal" href="../reference/api/pandas.read_excel.html#pandas.read_excel" title="pandas.read_excel"><code class="xref py py-func docutils literal notranslate"><span class="pre">read_excel()</span></code></a> to align with <a class="reference internal" href="../reference/api/pandas.read_csv.html#pandas.read_csv" title="pandas.read_csv"><code class="xref py py-func docutils literal notranslate"><span class="pre">read_csv()</span></code></a> (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/16672">GH 16672</a>)</p></li>
<li><p><a class="reference internal" href="../reference/api/pandas.wide_to_long.html#pandas.wide_to_long" title="pandas.wide_to_long"><code class="xref py py-func docutils literal notranslate"><span class="pre">wide_to_long()</span></code></a> previously kept numeric-like suffixes as <code class="docutils literal notranslate"><span class="pre">object</span></code> dtype. Now they are cast to numeric if possible (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/17627">GH 17627</a>)</p></li>
<li><p>In <a class="reference internal" href="../reference/api/pandas.read_excel.html#pandas.read_excel" title="pandas.read_excel"><code class="xref py py-func docutils literal notranslate"><span class="pre">read_excel()</span></code></a>, the <code class="docutils literal notranslate"><span class="pre">comment</span></code> argument is now exposed as a named parameter (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/18735">GH 18735</a>)</p></li>
<li><p>Rearranged the order of keyword arguments in <a class="reference internal" href="../reference/api/pandas.read_excel.html#pandas.read_excel" title="pandas.read_excel"><code class="xref py py-func docutils literal notranslate"><span class="pre">read_excel()</span></code></a> to align with <a class="reference internal" href="../reference/api/pandas.read_csv.html#pandas.read_csv" title="pandas.read_csv"><code class="xref py py-func docutils literal notranslate"><span class="pre">read_csv()</span></code></a> (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/16672">GH 16672</a>)</p></li>
<li><p>The options <code class="docutils literal notranslate"><span class="pre">html.border</span></code> and <code class="docutils literal notranslate"><span class="pre">mode.use_inf_as_null</span></code> were deprecated in prior versions, these will now show <code class="docutils literal notranslate"><span class="pre">FutureWarning</span></code> rather than a <code class="docutils literal notranslate"><span class="pre">DeprecationWarning</span></code> (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/19003">GH 19003</a>)</p></li>
<li><p><a class="reference internal" href="../reference/api/pandas.IntervalIndex.html#pandas.IntervalIndex" title="pandas.IntervalIndex"><code class="xref py py-class docutils literal notranslate"><span class="pre">IntervalIndex</span></code></a> and <code class="docutils literal notranslate"><span class="pre">IntervalDtype</span></code> no longer support categorical, object, and string subtypes (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/19016">GH 19016</a>)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">IntervalDtype</span></code> now returns <code class="docutils literal notranslate"><span class="pre">True</span></code> when compared against <code class="docutils literal notranslate"><span class="pre">'interval'</span></code> regardless of subtype, and <code class="docutils literal notranslate"><span class="pre">IntervalDtype.name</span></code> now returns <code class="docutils literal notranslate"><span class="pre">'interval'</span></code> regardless of subtype (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/18980">GH 18980</a>)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">KeyError</span></code> now raises instead of <code class="docutils literal notranslate"><span class="pre">ValueError</span></code> in <a class="reference internal" href="../reference/api/pandas.DataFrame.drop.html#pandas.DataFrame.drop" title="pandas.DataFrame.drop"><code class="xref py py-meth docutils literal notranslate"><span class="pre">drop()</span></code></a>, <code class="xref py py-meth docutils literal notranslate"><span class="pre">drop()</span></code>, <a class="reference internal" href="../reference/api/pandas.Series.drop.html#pandas.Series.drop" title="pandas.Series.drop"><code class="xref py py-meth docutils literal notranslate"><span class="pre">drop()</span></code></a>, <a class="reference internal" href="../reference/api/pandas.Index.drop.html#pandas.Index.drop" title="pandas.Index.drop"><code class="xref py py-meth docutils literal notranslate"><span class="pre">drop()</span></code></a> when dropping a non-existent element in an axis with duplicates (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/19186">GH 19186</a>)</p></li>
<li><p><a class="reference internal" href="../reference/api/pandas.Series.to_csv.html#pandas.Series.to_csv" title="pandas.Series.to_csv"><code class="xref py py-func docutils literal notranslate"><span class="pre">Series.to_csv()</span></code></a> now accepts a <code class="docutils literal notranslate"><span class="pre">compression</span></code> argument that works in the same way as the <code class="docutils literal notranslate"><span class="pre">compression</span></code> argument in <a class="reference internal" href="../reference/api/pandas.DataFrame.to_csv.html#pandas.DataFrame.to_csv" title="pandas.DataFrame.to_csv"><code class="xref py py-func docutils literal notranslate"><span class="pre">DataFrame.to_csv()</span></code></a> (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/18958">GH 18958</a>)</p></li>
<li><p>Set operations (union, difference…) on <a class="reference internal" href="../reference/api/pandas.IntervalIndex.html#pandas.IntervalIndex" title="pandas.IntervalIndex"><code class="xref py py-class docutils literal notranslate"><span class="pre">IntervalIndex</span></code></a> with incompatible index types will now raise a <code class="docutils literal notranslate"><span class="pre">TypeError</span></code> rather than a <code class="docutils literal notranslate"><span class="pre">ValueError</span></code> (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/19329">GH 19329</a>)</p></li>
<li><p><code class="xref py py-class docutils literal notranslate"><span class="pre">DateOffset</span></code> objects render more simply, e.g. <code class="docutils literal notranslate"><span class="pre">&lt;DateOffset:</span> <span class="pre">days=1&gt;</span></code> instead of <code class="docutils literal notranslate"><span class="pre">&lt;DateOffset:</span> <span class="pre">kwds={'days':</span> <span class="pre">1}&gt;</span></code> (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/19403">GH 19403</a>)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">Categorical.fillna</span></code> now validates its <code class="docutils literal notranslate"><span class="pre">value</span></code> and <code class="docutils literal notranslate"><span class="pre">method</span></code> keyword arguments. It now raises when both or none are specified, matching the behavior of <a class="reference internal" href="../reference/api/pandas.Series.fillna.html#pandas.Series.fillna" title="pandas.Series.fillna"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Series.fillna()</span></code></a> (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/19682">GH 19682</a>)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">pd.to_datetime('today')</span></code> now returns a datetime, consistent with <code class="docutils literal notranslate"><span class="pre">pd.Timestamp('today')</span></code>; previously <code class="docutils literal notranslate"><span class="pre">pd.to_datetime('today')</span></code> returned a <code class="docutils literal notranslate"><span class="pre">.normalized()</span></code> datetime (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/19935">GH 19935</a>)</p></li>
<li><p><a class="reference internal" href="../reference/api/pandas.Series.str.replace.html#pandas.Series.str.replace" title="pandas.Series.str.replace"><code class="xref py py-func docutils literal notranslate"><span class="pre">Series.str.replace()</span></code></a> now takes an optional <code class="docutils literal notranslate"><span class="pre">regex</span></code> keyword which, when set to <code class="docutils literal notranslate"><span class="pre">False</span></code>, uses literal string replacement rather than regex replacement (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/16808">GH 16808</a>)</p></li>
<li><p><a class="reference internal" href="../reference/api/pandas.DatetimeIndex.strftime.html#pandas.DatetimeIndex.strftime" title="pandas.DatetimeIndex.strftime"><code class="xref py py-func docutils literal notranslate"><span class="pre">DatetimeIndex.strftime()</span></code></a> and <a class="reference internal" href="../reference/api/pandas.PeriodIndex.strftime.html#pandas.PeriodIndex.strftime" title="pandas.PeriodIndex.strftime"><code class="xref py py-func docutils literal notranslate"><span class="pre">PeriodIndex.strftime()</span></code></a> now return an <code class="docutils literal notranslate"><span class="pre">Index</span></code> instead of a numpy array to be consistent with similar accessors (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/20127">GH 20127</a>)</p></li>
<li><p>Constructing a Series from a list of length 1 no longer broadcasts this list when a longer index is specified (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/19714">GH 19714</a>, <a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/20391">GH 20391</a>).</p></li>
<li><p><a class="reference internal" href="../reference/api/pandas.DataFrame.to_dict.html#pandas.DataFrame.to_dict" title="pandas.DataFrame.to_dict"><code class="xref py py-func docutils literal notranslate"><span class="pre">DataFrame.to_dict()</span></code></a> with <code class="docutils literal notranslate"><span class="pre">orient='index'</span></code> no longer casts int columns to float for a DataFrame with only int and float columns (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/18580">GH 18580</a>)</p></li>
<li><p>A user-defined-function that is passed to <code class="xref py py-func docutils literal notranslate"><span class="pre">Series.rolling().aggregate()</span></code>, <code class="xref py py-func docutils literal notranslate"><span class="pre">DataFrame.rolling().aggregate()</span></code>, or its expanding cousins, will now <em>always</em> be passed a <code class="docutils literal notranslate"><span class="pre">Series</span></code>, rather than a <code class="docutils literal notranslate"><span class="pre">np.array</span></code>; <code class="docutils literal notranslate"><span class="pre">.apply()</span></code> only has the <code class="docutils literal notranslate"><span class="pre">raw</span></code> keyword, see <a class="reference internal" href="#whatsnew-0230-enhancements-window-raw"><span class="std std-ref">here</span></a>. This is consistent with the signatures of <code class="docutils literal notranslate"><span class="pre">.aggregate()</span></code> across pandas (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/20584">GH 20584</a>)</p></li>
<li><p>Rolling and Expanding types raise <code class="docutils literal notranslate"><span class="pre">NotImplementedError</span></code> upon iteration (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/11704">GH 11704</a>).</p></li>
</ul>
</section>
</section>
<section id="deprecations">
<span id="whatsnew-0230-deprecations"></span><h2>Deprecations<a class="headerlink" href="#deprecations" title="Link to this heading">#</a></h2>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">Series.from_array</span></code> and <code class="docutils literal notranslate"><span class="pre">SparseSeries.from_array</span></code> are deprecated. Use the normal constructor <code class="docutils literal notranslate"><span class="pre">Series(..)</span></code> and <code class="docutils literal notranslate"><span class="pre">SparseSeries(..)</span></code> instead (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/18213">GH 18213</a>).</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">DataFrame.as_matrix</span></code> is deprecated. Use <code class="docutils literal notranslate"><span class="pre">DataFrame.values</span></code> instead (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/18458">GH 18458</a>).</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">Series.asobject</span></code>, <code class="docutils literal notranslate"><span class="pre">DatetimeIndex.asobject</span></code>, <code class="docutils literal notranslate"><span class="pre">PeriodIndex.asobject</span></code> and <code class="docutils literal notranslate"><span class="pre">TimeDeltaIndex.asobject</span></code> have been deprecated. Use <code class="docutils literal notranslate"><span class="pre">.astype(object)</span></code> instead (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/18572">GH 18572</a>)</p></li>
<li><p>Grouping by a tuple of keys now emits a <code class="docutils literal notranslate"><span class="pre">FutureWarning</span></code> and is deprecated.
In the future, a tuple passed to <code class="docutils literal notranslate"><span class="pre">'by'</span></code> will always refer to a single key
that is the actual tuple, instead of treating the tuple as multiple keys. To
retain the previous behavior, use a list instead of a tuple (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/18314">GH 18314</a>)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">Series.valid</span></code> is deprecated. Use <a class="reference internal" href="../reference/api/pandas.Series.dropna.html#pandas.Series.dropna" title="pandas.Series.dropna"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Series.dropna()</span></code></a> instead (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/18800">GH 18800</a>).</p></li>
<li><p><a class="reference internal" href="../reference/api/pandas.read_excel.html#pandas.read_excel" title="pandas.read_excel"><code class="xref py py-func docutils literal notranslate"><span class="pre">read_excel()</span></code></a> has deprecated the <code class="docutils literal notranslate"><span class="pre">skip_footer</span></code> parameter. Use <code class="docutils literal notranslate"><span class="pre">skipfooter</span></code> instead (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/18836">GH 18836</a>)</p></li>
<li><p><a class="reference internal" href="../reference/api/pandas.ExcelFile.parse.html#pandas.ExcelFile.parse" title="pandas.ExcelFile.parse"><code class="xref py py-meth docutils literal notranslate"><span class="pre">ExcelFile.parse()</span></code></a> has deprecated <code class="docutils literal notranslate"><span class="pre">sheetname</span></code> in favor of <code class="docutils literal notranslate"><span class="pre">sheet_name</span></code> for consistency with <a class="reference internal" href="../reference/api/pandas.read_excel.html#pandas.read_excel" title="pandas.read_excel"><code class="xref py py-func docutils literal notranslate"><span class="pre">read_excel()</span></code></a> (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/20920">GH 20920</a>).</p></li>
<li><p>The <code class="docutils literal notranslate"><span class="pre">is_copy</span></code> attribute is deprecated and will be removed in a future version (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/18801">GH 18801</a>).</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">IntervalIndex.from_intervals</span></code> is deprecated in favor of the <a class="reference internal" href="../reference/api/pandas.IntervalIndex.html#pandas.IntervalIndex" title="pandas.IntervalIndex"><code class="xref py py-class docutils literal notranslate"><span class="pre">IntervalIndex</span></code></a> constructor (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/19263">GH 19263</a>)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">DataFrame.from_items</span></code> is deprecated. Use <a class="reference internal" href="../reference/api/pandas.DataFrame.from_dict.html#pandas.DataFrame.from_dict" title="pandas.DataFrame.from_dict"><code class="xref py py-func docutils literal notranslate"><span class="pre">DataFrame.from_dict()</span></code></a> instead, or <code class="docutils literal notranslate"><span class="pre">DataFrame.from_dict(OrderedDict())</span></code> if you wish to preserve the key order (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/17320">GH 17320</a>, <a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/17312">GH 17312</a>)</p></li>
<li><p>Indexing a <a class="reference internal" href="../reference/api/pandas.MultiIndex.html#pandas.MultiIndex" title="pandas.MultiIndex"><code class="xref py py-class docutils literal notranslate"><span class="pre">MultiIndex</span></code></a> or a <code class="xref py py-class docutils literal notranslate"><span class="pre">FloatIndex</span></code> with a list containing some missing keys will now show a <a class="reference external" href="https://docs.python.org/3/library/exceptions.html#FutureWarning" title="(in Python v3.12)"><code class="xref py py-class docutils literal notranslate"><span class="pre">FutureWarning</span></code></a>, which is consistent with other types of indexes (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/17758">GH 17758</a>).</p></li>
<li><p>The <code class="docutils literal notranslate"><span class="pre">broadcast</span></code> parameter of <code class="docutils literal notranslate"><span class="pre">.apply()</span></code> is deprecated in favor of <code class="docutils literal notranslate"><span class="pre">result_type='broadcast'</span></code> (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/18577">GH 18577</a>)</p></li>
<li><p>The <code class="docutils literal notranslate"><span class="pre">reduce</span></code> parameter of <code class="docutils literal notranslate"><span class="pre">.apply()</span></code> is deprecated in favor of <code class="docutils literal notranslate"><span class="pre">result_type='reduce'</span></code> (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/18577">GH 18577</a>)</p></li>
<li><p>The <code class="docutils literal notranslate"><span class="pre">order</span></code> parameter of <a class="reference internal" href="../reference/api/pandas.factorize.html#pandas.factorize" title="pandas.factorize"><code class="xref py py-func docutils literal notranslate"><span class="pre">factorize()</span></code></a> is deprecated and will be removed in a future release (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/19727">GH 19727</a>)</p></li>
<li><p><code class="xref py py-attr docutils literal notranslate"><span class="pre">Timestamp.weekday_name</span></code>, <code class="xref py py-attr docutils literal notranslate"><span class="pre">DatetimeIndex.weekday_name</span></code>, and <code class="xref py py-attr docutils literal notranslate"><span class="pre">Series.dt.weekday_name</span></code> are deprecated in favor of <a class="reference internal" href="../reference/api/pandas.Timestamp.day_name.html#pandas.Timestamp.day_name" title="pandas.Timestamp.day_name"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Timestamp.day_name()</span></code></a>, <a class="reference internal" href="../reference/api/pandas.DatetimeIndex.day_name.html#pandas.DatetimeIndex.day_name" title="pandas.DatetimeIndex.day_name"><code class="xref py py-meth docutils literal notranslate"><span class="pre">DatetimeIndex.day_name()</span></code></a>, and <a class="reference internal" href="../reference/api/pandas.Series.dt.day_name.html#pandas.Series.dt.day_name" title="pandas.Series.dt.day_name"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Series.dt.day_name()</span></code></a> (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/12806">GH 12806</a>)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">pandas.tseries.plotting.tsplot</span></code> is deprecated. Use <a class="reference internal" href="../reference/api/pandas.Series.plot.html#pandas.Series.plot" title="pandas.Series.plot"><code class="xref py py-func docutils literal notranslate"><span class="pre">Series.plot()</span></code></a> instead (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/18627">GH 18627</a>)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">Index.summary()</span></code> is deprecated and will be removed in a future version (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/18217">GH 18217</a>)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">NDFrame.get_ftype_counts()</span></code> is deprecated and will be removed in a future version (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/18243">GH 18243</a>)</p></li>
<li><p>The <code class="docutils literal notranslate"><span class="pre">convert_datetime64</span></code> parameter in <a class="reference internal" href="../reference/api/pandas.DataFrame.to_records.html#pandas.DataFrame.to_records" title="pandas.DataFrame.to_records"><code class="xref py py-func docutils literal notranslate"><span class="pre">DataFrame.to_records()</span></code></a> has been deprecated and will be removed in a future version. The NumPy bug motivating this parameter has been resolved. The default value for this parameter has also changed from <code class="docutils literal notranslate"><span class="pre">True</span></code> to <code class="docutils literal notranslate"><span class="pre">None</span></code> (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/18160">GH 18160</a>).</p></li>
<li><p><code class="xref py py-func docutils literal notranslate"><span class="pre">Series.rolling().apply()</span></code>, <code class="xref py py-func docutils literal notranslate"><span class="pre">DataFrame.rolling().apply()</span></code>, <code class="xref py py-func docutils literal notranslate"><span class="pre">Series.expanding().apply()</span></code>, and <code class="xref py py-func docutils literal notranslate"><span class="pre">DataFrame.expanding().apply()</span></code> have deprecated passing an <code class="docutils literal notranslate"><span class="pre">np.array</span></code> by default. One will need to pass the new <code class="docutils literal notranslate"><span class="pre">raw</span></code> parameter to be explicit about what is passed (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/20584">GH 20584</a>)</p></li>
<li><p>The <code class="docutils literal notranslate"><span class="pre">data</span></code>, <code class="docutils literal notranslate"><span class="pre">base</span></code>, <code class="docutils literal notranslate"><span class="pre">strides</span></code>, <code class="docutils literal notranslate"><span class="pre">flags</span></code> and <code class="docutils literal notranslate"><span class="pre">itemsize</span></code> properties
of the <code class="docutils literal notranslate"><span class="pre">Series</span></code> and <code class="docutils literal notranslate"><span class="pre">Index</span></code> classes have been deprecated and will be
removed in a future version (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/20419">GH 20419</a>).</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">DatetimeIndex.offset</span></code> is deprecated. Use <code class="docutils literal notranslate"><span class="pre">DatetimeIndex.freq</span></code> instead (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/20716">GH 20716</a>)</p></li>
<li><p>Floor division between an integer ndarray and a <a class="reference internal" href="../reference/api/pandas.Timedelta.html#pandas.Timedelta" title="pandas.Timedelta"><code class="xref py py-class docutils literal notranslate"><span class="pre">Timedelta</span></code></a> is deprecated. Divide by <a class="reference internal" href="../reference/api/pandas.Timedelta.value.html#pandas.Timedelta.value" title="pandas.Timedelta.value"><code class="xref py py-attr docutils literal notranslate"><span class="pre">Timedelta.value</span></code></a> instead (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/19761">GH 19761</a>)</p></li>
<li><p>Setting <code class="docutils literal notranslate"><span class="pre">PeriodIndex.freq</span></code> (which was not guaranteed to work correctly) is deprecated. Use <a class="reference internal" href="../reference/api/pandas.PeriodIndex.asfreq.html#pandas.PeriodIndex.asfreq" title="pandas.PeriodIndex.asfreq"><code class="xref py py-meth docutils literal notranslate"><span class="pre">PeriodIndex.asfreq()</span></code></a> instead (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/20678">GH 20678</a>)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">Index.get_duplicates()</span></code> is deprecated and will be removed in a future version (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/20239">GH 20239</a>)</p></li>
<li><p>The previous default behavior of negative indices in <code class="docutils literal notranslate"><span class="pre">Categorical.take</span></code> is deprecated. In a future version it will change from meaning missing values to meaning positional indices from the right. The future behavior is consistent with <a class="reference internal" href="../reference/api/pandas.Series.take.html#pandas.Series.take" title="pandas.Series.take"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Series.take()</span></code></a> (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/20664">GH 20664</a>).</p></li>
<li><p>Passing multiple axes to the <code class="docutils literal notranslate"><span class="pre">axis</span></code> parameter in <a class="reference internal" href="../reference/api/pandas.DataFrame.dropna.html#pandas.DataFrame.dropna" title="pandas.DataFrame.dropna"><code class="xref py py-func docutils literal notranslate"><span class="pre">DataFrame.dropna()</span></code></a> has been deprecated and will be removed in a future version (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/20987">GH 20987</a>)</p></li>
</ul>
</section>
<section id="removal-of-prior-version-deprecations-changes">
<span id="whatsnew-0230-prior-deprecations"></span><h2>Removal of prior version deprecations/changes<a class="headerlink" href="#removal-of-prior-version-deprecations-changes" title="Link to this heading">#</a></h2>
<ul class="simple">
<li><p>Warnings against the obsolete usage <code class="docutils literal notranslate"><span class="pre">Categorical(codes,</span> <span class="pre">categories)</span></code>, which were emitted for instance when the first two arguments to <code class="docutils literal notranslate"><span class="pre">Categorical()</span></code> had different dtypes, and recommended the use of <code class="docutils literal notranslate"><span class="pre">Categorical.from_codes</span></code>, have now been removed (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/8074">GH 8074</a>)</p></li>
<li><p>The <code class="docutils literal notranslate"><span class="pre">levels</span></code> and <code class="docutils literal notranslate"><span class="pre">labels</span></code> attributes of a <code class="docutils literal notranslate"><span class="pre">MultiIndex</span></code> can no longer be set directly (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/4039">GH 4039</a>).</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">pd.tseries.util.pivot_annual</span></code> has been removed (deprecated since v0.19). Use <code class="docutils literal notranslate"><span class="pre">pivot_table</span></code> instead (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/18370">GH 18370</a>)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">pd.tseries.util.isleapyear</span></code> has been removed (deprecated since v0.19). Use <code class="docutils literal notranslate"><span class="pre">.is_leap_year</span></code> property in Datetime-likes instead (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/18370">GH 18370</a>)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">pd.ordered_merge</span></code> has been removed (deprecated since v0.19). Use <code class="docutils literal notranslate"><span class="pre">pd.merge_ordered</span></code> instead (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/18459">GH 18459</a>)</p></li>
<li><p>The <code class="docutils literal notranslate"><span class="pre">SparseList</span></code> class has been removed (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/14007">GH 14007</a>)</p></li>
<li><p>The <code class="docutils literal notranslate"><span class="pre">pandas.io.wb</span></code> and <code class="docutils literal notranslate"><span class="pre">pandas.io.data</span></code> stub modules have been removed (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/13735">GH 13735</a>)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">Categorical.from_array</span></code> has been removed (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/13854">GH 13854</a>)</p></li>
<li><p>The <code class="docutils literal notranslate"><span class="pre">freq</span></code> and <code class="docutils literal notranslate"><span class="pre">how</span></code> parameters have been removed from the <code class="docutils literal notranslate"><span class="pre">rolling</span></code>/<code class="docutils literal notranslate"><span class="pre">expanding</span></code>/<code class="docutils literal notranslate"><span class="pre">ewm</span></code> methods of DataFrame
and Series (deprecated since v0.18). Instead, resample before calling the methods. (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/18601">GH 18601</a> &amp; <a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/18668">GH 18668</a>)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">DatetimeIndex.to_datetime</span></code>, <code class="docutils literal notranslate"><span class="pre">Timestamp.to_datetime</span></code>, <code class="docutils literal notranslate"><span class="pre">PeriodIndex.to_datetime</span></code>, and <code class="docutils literal notranslate"><span class="pre">Index.to_datetime</span></code> have been removed (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/8254">GH 8254</a>, <a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/14096">GH 14096</a>, <a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/14113">GH 14113</a>)</p></li>
<li><p><a class="reference internal" href="../reference/api/pandas.read_csv.html#pandas.read_csv" title="pandas.read_csv"><code class="xref py py-func docutils literal notranslate"><span class="pre">read_csv()</span></code></a> has dropped the <code class="docutils literal notranslate"><span class="pre">skip_footer</span></code> parameter (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/13386">GH 13386</a>)</p></li>
<li><p><a class="reference internal" href="../reference/api/pandas.read_csv.html#pandas.read_csv" title="pandas.read_csv"><code class="xref py py-func docutils literal notranslate"><span class="pre">read_csv()</span></code></a> has dropped the <code class="docutils literal notranslate"><span class="pre">as_recarray</span></code> parameter (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/13373">GH 13373</a>)</p></li>
<li><p><a class="reference internal" href="../reference/api/pandas.read_csv.html#pandas.read_csv" title="pandas.read_csv"><code class="xref py py-func docutils literal notranslate"><span class="pre">read_csv()</span></code></a> has dropped the <code class="docutils literal notranslate"><span class="pre">buffer_lines</span></code> parameter (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/13360">GH 13360</a>)</p></li>
<li><p><a class="reference internal" href="../reference/api/pandas.read_csv.html#pandas.read_csv" title="pandas.read_csv"><code class="xref py py-func docutils literal notranslate"><span class="pre">read_csv()</span></code></a> has dropped the <code class="docutils literal notranslate"><span class="pre">compact_ints</span></code> and <code class="docutils literal notranslate"><span class="pre">use_unsigned</span></code> parameters (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/13323">GH 13323</a>)</p></li>
<li><p>The <code class="docutils literal notranslate"><span class="pre">Timestamp</span></code> class has dropped the <code class="docutils literal notranslate"><span class="pre">offset</span></code> attribute in favor of <code class="docutils literal notranslate"><span class="pre">freq</span></code> (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/13593">GH 13593</a>)</p></li>
<li><p>The <code class="docutils literal notranslate"><span class="pre">Series</span></code>, <code class="docutils literal notranslate"><span class="pre">Categorical</span></code>, and <code class="docutils literal notranslate"><span class="pre">Index</span></code> classes have dropped the <code class="docutils literal notranslate"><span class="pre">reshape</span></code> method (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/13012">GH 13012</a>)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">pandas.tseries.frequencies.get_standard_freq</span></code> has been removed in favor of <code class="docutils literal notranslate"><span class="pre">pandas.tseries.frequencies.to_offset(freq).rule_code</span></code> (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/13874">GH 13874</a>)</p></li>
<li><p>The <code class="docutils literal notranslate"><span class="pre">freqstr</span></code> keyword has been removed from <code class="docutils literal notranslate"><span class="pre">pandas.tseries.frequencies.to_offset</span></code> in favor of <code class="docutils literal notranslate"><span class="pre">freq</span></code> (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/13874">GH 13874</a>)</p></li>
<li><p>The <code class="docutils literal notranslate"><span class="pre">Panel4D</span></code> and <code class="docutils literal notranslate"><span class="pre">PanelND</span></code> classes have been removed (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/13776">GH 13776</a>)</p></li>
<li><p>The <code class="docutils literal notranslate"><span class="pre">Panel</span></code> class has dropped the <code class="docutils literal notranslate"><span class="pre">to_long</span></code> and <code class="docutils literal notranslate"><span class="pre">toLong</span></code> methods (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/19077">GH 19077</a>)</p></li>
<li><p>The options <code class="docutils literal notranslate"><span class="pre">display.line_with</span></code> and <code class="docutils literal notranslate"><span class="pre">display.height</span></code> are removed in favor of <code class="docutils literal notranslate"><span class="pre">display.width</span></code> and <code class="docutils literal notranslate"><span class="pre">display.max_rows</span></code> respectively (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/4391">GH 4391</a>, <a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/19107">GH 19107</a>)</p></li>
<li><p>The <code class="docutils literal notranslate"><span class="pre">labels</span></code> attribute of the <code class="docutils literal notranslate"><span class="pre">Categorical</span></code> class has been removed in favor of <a class="reference internal" href="../reference/api/pandas.Categorical.codes.html#pandas.Categorical.codes" title="pandas.Categorical.codes"><code class="xref py py-attr docutils literal notranslate"><span class="pre">Categorical.codes</span></code></a> (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/7768">GH 7768</a>)</p></li>
<li><p>The <code class="docutils literal notranslate"><span class="pre">flavor</span></code> parameter have been removed from <code class="xref py py-func docutils literal notranslate"><span class="pre">to_sql()</span></code> method (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/13611">GH 13611</a>)</p></li>
<li><p>The modules <code class="docutils literal notranslate"><span class="pre">pandas.tools.hashing</span></code> and <code class="docutils literal notranslate"><span class="pre">pandas.util.hashing</span></code> have been removed (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/16223">GH 16223</a>)</p></li>
<li><p>The top-level functions <code class="docutils literal notranslate"><span class="pre">pd.rolling_*</span></code>, <code class="docutils literal notranslate"><span class="pre">pd.expanding_*</span></code> and <code class="docutils literal notranslate"><span class="pre">pd.ewm*</span></code> have been removed (Deprecated since v0.18).
Instead, use the DataFrame/Series methods <a class="reference internal" href="../reference/api/pandas.DataFrame.rolling.html#pandas.DataFrame.rolling" title="pandas.DataFrame.rolling"><code class="xref py py-attr docutils literal notranslate"><span class="pre">rolling</span></code></a>, <a class="reference internal" href="../reference/api/pandas.DataFrame.expanding.html#pandas.DataFrame.expanding" title="pandas.DataFrame.expanding"><code class="xref py py-attr docutils literal notranslate"><span class="pre">expanding</span></code></a> and <a class="reference internal" href="../reference/api/pandas.DataFrame.ewm.html#pandas.DataFrame.ewm" title="pandas.DataFrame.ewm"><code class="xref py py-attr docutils literal notranslate"><span class="pre">ewm</span></code></a> (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/18723">GH 18723</a>)</p></li>
<li><p>Imports from <code class="docutils literal notranslate"><span class="pre">pandas.core.common</span></code> for functions such as <code class="docutils literal notranslate"><span class="pre">is_datetime64_dtype</span></code> are now removed. These are located in <code class="docutils literal notranslate"><span class="pre">pandas.api.types</span></code>. (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/13634">GH 13634</a>, <a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/19769">GH 19769</a>)</p></li>
<li><p>The <code class="docutils literal notranslate"><span class="pre">infer_dst</span></code> keyword in <a class="reference internal" href="../reference/api/pandas.Series.tz_localize.html#pandas.Series.tz_localize" title="pandas.Series.tz_localize"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Series.tz_localize()</span></code></a>, <a class="reference internal" href="../reference/api/pandas.DatetimeIndex.tz_localize.html#pandas.DatetimeIndex.tz_localize" title="pandas.DatetimeIndex.tz_localize"><code class="xref py py-meth docutils literal notranslate"><span class="pre">DatetimeIndex.tz_localize()</span></code></a>
and <a class="reference internal" href="../reference/api/pandas.DatetimeIndex.html#pandas.DatetimeIndex" title="pandas.DatetimeIndex"><code class="xref py py-class docutils literal notranslate"><span class="pre">DatetimeIndex</span></code></a> have been removed. <code class="docutils literal notranslate"><span class="pre">infer_dst=True</span></code> is equivalent to
<code class="docutils literal notranslate"><span class="pre">ambiguous='infer'</span></code>, and <code class="docutils literal notranslate"><span class="pre">infer_dst=False</span></code> to <code class="docutils literal notranslate"><span class="pre">ambiguous='raise'</span></code> (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/7963">GH 7963</a>).</p></li>
<li><p>When <code class="docutils literal notranslate"><span class="pre">.resample()</span></code> was changed from an eager to a lazy operation, like <code class="docutils literal notranslate"><span class="pre">.groupby()</span></code> in v0.18.0, we put in place compatibility (with a <code class="docutils literal notranslate"><span class="pre">FutureWarning</span></code>),
so operations would continue to work. This is now fully removed, so a <code class="docutils literal notranslate"><span class="pre">Resampler</span></code> will no longer forward compat operations (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/20554">GH 20554</a>)</p></li>
<li><p>Remove long deprecated <code class="docutils literal notranslate"><span class="pre">axis=None</span></code> parameter from <code class="docutils literal notranslate"><span class="pre">.replace()</span></code> (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/20271">GH 20271</a>)</p></li>
</ul>
</section>
<section id="performance-improvements">
<span id="whatsnew-0230-performance"></span><h2>Performance improvements<a class="headerlink" href="#performance-improvements" title="Link to this heading">#</a></h2>
<ul class="simple">
<li><p>Indexers on <code class="docutils literal notranslate"><span class="pre">Series</span></code> or <code class="docutils literal notranslate"><span class="pre">DataFrame</span></code> no longer create a reference cycle (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/17956">GH 17956</a>)</p></li>
<li><p>Added a keyword argument, <code class="docutils literal notranslate"><span class="pre">cache</span></code>, to <a class="reference internal" href="../reference/api/pandas.to_datetime.html#pandas.to_datetime" title="pandas.to_datetime"><code class="xref py py-func docutils literal notranslate"><span class="pre">to_datetime()</span></code></a> that improved the performance of converting duplicate datetime arguments (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/11665">GH 11665</a>)</p></li>
<li><p><code class="xref py py-class docutils literal notranslate"><span class="pre">DateOffset</span></code> arithmetic performance is improved (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/18218">GH 18218</a>)</p></li>
<li><p>Converting a <code class="docutils literal notranslate"><span class="pre">Series</span></code> of <code class="docutils literal notranslate"><span class="pre">Timedelta</span></code> objects to days, seconds, etc… sped up through vectorization of underlying methods (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/18092">GH 18092</a>)</p></li>
<li><p>Improved performance of <code class="docutils literal notranslate"><span class="pre">.map()</span></code> with a <code class="docutils literal notranslate"><span class="pre">Series/dict</span></code> input (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/15081">GH 15081</a>)</p></li>
<li><p>The overridden <code class="docutils literal notranslate"><span class="pre">Timedelta</span></code> properties of days, seconds and microseconds have been removed, leveraging their built-in Python versions instead (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/18242">GH 18242</a>)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">Series</span></code> construction will reduce the number of copies made of the input data in certain cases (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/17449">GH 17449</a>)</p></li>
<li><p>Improved performance of <a class="reference internal" href="../reference/api/pandas.Series.dt.date.html#pandas.Series.dt.date" title="pandas.Series.dt.date"><code class="xref py py-func docutils literal notranslate"><span class="pre">Series.dt.date()</span></code></a> and <a class="reference internal" href="../reference/api/pandas.DatetimeIndex.date.html#pandas.DatetimeIndex.date" title="pandas.DatetimeIndex.date"><code class="xref py py-func docutils literal notranslate"><span class="pre">DatetimeIndex.date()</span></code></a> (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/18058">GH 18058</a>)</p></li>
<li><p>Improved performance of <a class="reference internal" href="../reference/api/pandas.Series.dt.time.html#pandas.Series.dt.time" title="pandas.Series.dt.time"><code class="xref py py-func docutils literal notranslate"><span class="pre">Series.dt.time()</span></code></a> and <a class="reference internal" href="../reference/api/pandas.DatetimeIndex.time.html#pandas.DatetimeIndex.time" title="pandas.DatetimeIndex.time"><code class="xref py py-func docutils literal notranslate"><span class="pre">DatetimeIndex.time()</span></code></a> (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/18461">GH 18461</a>)</p></li>
<li><p>Improved performance of <code class="xref py py-func docutils literal notranslate"><span class="pre">IntervalIndex.symmetric_difference()</span></code> (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/18475">GH 18475</a>)</p></li>
<li><p>Improved performance of <code class="docutils literal notranslate"><span class="pre">DatetimeIndex</span></code> and <code class="docutils literal notranslate"><span class="pre">Series</span></code> arithmetic operations with Business-Month and Business-Quarter frequencies (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/18489">GH 18489</a>)</p></li>
<li><p><a class="reference internal" href="../reference/api/pandas.Series.html#pandas.Series" title="pandas.Series"><code class="xref py py-func docutils literal notranslate"><span class="pre">Series()</span></code></a> / <a class="reference internal" href="../reference/api/pandas.DataFrame.html#pandas.DataFrame" title="pandas.DataFrame"><code class="xref py py-func docutils literal notranslate"><span class="pre">DataFrame()</span></code></a> tab completion limits to 100 values, for better performance. (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/18587">GH 18587</a>)</p></li>
<li><p>Improved performance of <a class="reference internal" href="../reference/api/pandas.DataFrame.median.html#pandas.DataFrame.median" title="pandas.DataFrame.median"><code class="xref py py-func docutils literal notranslate"><span class="pre">DataFrame.median()</span></code></a> with <code class="docutils literal notranslate"><span class="pre">axis=1</span></code> when bottleneck is not installed (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/16468">GH 16468</a>)</p></li>
<li><p>Improved performance of <a class="reference internal" href="../reference/api/pandas.MultiIndex.get_loc.html#pandas.MultiIndex.get_loc" title="pandas.MultiIndex.get_loc"><code class="xref py py-func docutils literal notranslate"><span class="pre">MultiIndex.get_loc()</span></code></a> for large indexes, at the cost of a reduction in performance for small ones (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/18519">GH 18519</a>)</p></li>
<li><p>Improved performance of <a class="reference internal" href="../reference/api/pandas.MultiIndex.remove_unused_levels.html#pandas.MultiIndex.remove_unused_levels" title="pandas.MultiIndex.remove_unused_levels"><code class="xref py py-func docutils literal notranslate"><span class="pre">MultiIndex.remove_unused_levels()</span></code></a> when there are no unused levels, at the cost of a reduction in performance when there are (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/19289">GH 19289</a>)</p></li>
<li><p>Improved performance of <a class="reference internal" href="../reference/api/pandas.Index.get_loc.html#pandas.Index.get_loc" title="pandas.Index.get_loc"><code class="xref py py-func docutils literal notranslate"><span class="pre">Index.get_loc()</span></code></a> for non-unique indexes (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/19478">GH 19478</a>)</p></li>
<li><p>Improved performance of pairwise <code class="docutils literal notranslate"><span class="pre">.rolling()</span></code> and <code class="docutils literal notranslate"><span class="pre">.expanding()</span></code> with <code class="docutils literal notranslate"><span class="pre">.cov()</span></code> and <code class="docutils literal notranslate"><span class="pre">.corr()</span></code> operations (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/17917">GH 17917</a>)</p></li>
<li><p>Improved performance of <code class="xref py py-func docutils literal notranslate"><span class="pre">GroupBy.rank()</span></code> (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/15779">GH 15779</a>)</p></li>
<li><p>Improved performance of variable <code class="docutils literal notranslate"><span class="pre">.rolling()</span></code> on <code class="docutils literal notranslate"><span class="pre">.min()</span></code> and <code class="docutils literal notranslate"><span class="pre">.max()</span></code> (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/19521">GH 19521</a>)</p></li>
<li><p>Improved performance of <code class="xref py py-func docutils literal notranslate"><span class="pre">GroupBy.ffill()</span></code> and <code class="xref py py-func docutils literal notranslate"><span class="pre">GroupBy.bfill()</span></code> (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/11296">GH 11296</a>)</p></li>
<li><p>Improved performance of <code class="xref py py-func docutils literal notranslate"><span class="pre">GroupBy.any()</span></code> and <code class="xref py py-func docutils literal notranslate"><span class="pre">GroupBy.all()</span></code> (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/15435">GH 15435</a>)</p></li>
<li><p>Improved performance of <code class="xref py py-func docutils literal notranslate"><span class="pre">GroupBy.pct_change()</span></code> (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/19165">GH 19165</a>)</p></li>
<li><p>Improved performance of <a class="reference internal" href="../reference/api/pandas.Series.isin.html#pandas.Series.isin" title="pandas.Series.isin"><code class="xref py py-func docutils literal notranslate"><span class="pre">Series.isin()</span></code></a> in the case of categorical dtypes (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/20003">GH 20003</a>)</p></li>
<li><p>Improved performance of <code class="docutils literal notranslate"><span class="pre">getattr(Series,</span> <span class="pre">attr)</span></code> when the Series has certain index types. This manifested in slow printing of large Series with a <code class="docutils literal notranslate"><span class="pre">DatetimeIndex</span></code> (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/19764">GH 19764</a>)</p></li>
<li><p>Fixed a performance regression for <code class="xref py py-func docutils literal notranslate"><span class="pre">GroupBy.nth()</span></code> and <code class="xref py py-func docutils literal notranslate"><span class="pre">GroupBy.last()</span></code> with some object columns (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/19283">GH 19283</a>)</p></li>
<li><p>Improved performance of <code class="xref py py-func docutils literal notranslate"><span class="pre">Categorical.from_codes()</span></code> (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/18501">GH 18501</a>)</p></li>
</ul>
</section>
<section id="documentation-changes">
<span id="whatsnew-0230-docs"></span><h2>Documentation changes<a class="headerlink" href="#documentation-changes" title="Link to this heading">#</a></h2>
<p>Thanks to all of the contributors who participated in the pandas Documentation
Sprint, which took place on March 10th. We had about 500 participants from over
30 locations across the world. You should notice that many of the
<a class="reference internal" href="../reference/index.html#api"><span class="std std-ref">API docstrings</span></a> have greatly improved.</p>
<p>There were too many simultaneous contributions to include a release note for each
improvement, but this <a class="reference external" href="https://github.com/pandas-dev/pandas/pulls?utf8=%E2%9C%93&amp;q=is%3Apr+label%3ADocs+created%3A2018-03-10..2018-03-15+">GitHub search</a> should give you an idea of how many docstrings
were improved.</p>
<p>Special thanks to <a class="reference external" href="https://github.com/datapythonista">Marc Garcia</a> for organizing the sprint. For more information,
read the <a class="reference external" href="https://www.numfocus.org/blog/worldwide-pandas-sprint/">NumFOCUS blogpost</a> recapping the sprint.</p>
<ul class="simple">
<li><p>Changed spelling of “numpy” to “NumPy”, and “python” to “Python”. (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/19017">GH 19017</a>)</p></li>
<li><p>Consistency when introducing code samples, using either colon or period.
Rewrote some sentences for greater clarity, added more dynamic references
to functions, methods and classes.
(<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/18941">GH 18941</a>, <a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/18948">GH 18948</a>, <a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/18973">GH 18973</a>, <a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/19017">GH 19017</a>)</p></li>
<li><p>Added a reference to <a class="reference internal" href="../reference/api/pandas.DataFrame.assign.html#pandas.DataFrame.assign" title="pandas.DataFrame.assign"><code class="xref py py-func docutils literal notranslate"><span class="pre">DataFrame.assign()</span></code></a> in the concatenate section of the merging documentation (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/18665">GH 18665</a>)</p></li>
</ul>
</section>
<section id="bug-fixes">
<span id="whatsnew-0230-bug-fixes"></span><h2>Bug fixes<a class="headerlink" href="#bug-fixes" title="Link to this heading">#</a></h2>
<section id="categorical">
<h3>Categorical<a class="headerlink" href="#categorical" title="Link to this heading">#</a></h3>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>A class of bugs were introduced in pandas 0.21 with <code class="docutils literal notranslate"><span class="pre">CategoricalDtype</span></code> that
affects the correctness of operations like <code class="docutils literal notranslate"><span class="pre">merge</span></code>, <code class="docutils literal notranslate"><span class="pre">concat</span></code>, and
indexing when comparing multiple unordered <code class="docutils literal notranslate"><span class="pre">Categorical</span></code> arrays that have
the same categories, but in a different order. We highly recommend upgrading
or manually aligning your categories before doing these operations.</p>
</div>
<ul class="simple">
<li><p>Bug in <code class="docutils literal notranslate"><span class="pre">Categorical.equals</span></code> returning the wrong result when comparing two
unordered <code class="docutils literal notranslate"><span class="pre">Categorical</span></code> arrays with the same categories, but in a different
order (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/16603">GH 16603</a>)</p></li>
<li><p>Bug in <a class="reference internal" href="../reference/api/pandas.api.types.union_categoricals.html#pandas.api.types.union_categoricals" title="pandas.api.types.union_categoricals"><code class="xref py py-func docutils literal notranslate"><span class="pre">pandas.api.types.union_categoricals()</span></code></a> returning the wrong result
when for unordered categoricals with the categories in a different order.
This affected <a class="reference internal" href="../reference/api/pandas.concat.html#pandas.concat" title="pandas.concat"><code class="xref py py-func docutils literal notranslate"><span class="pre">pandas.concat()</span></code></a> with Categorical data (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/19096">GH 19096</a>).</p></li>
<li><p>Bug in <a class="reference internal" href="../reference/api/pandas.merge.html#pandas.merge" title="pandas.merge"><code class="xref py py-func docutils literal notranslate"><span class="pre">pandas.merge()</span></code></a> returning the wrong result when joining on an
unordered <code class="docutils literal notranslate"><span class="pre">Categorical</span></code> that had the same categories but in a different
order (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/19551">GH 19551</a>)</p></li>
<li><p>Bug in <code class="xref py py-meth docutils literal notranslate"><span class="pre">CategoricalIndex.get_indexer()</span></code> returning the wrong result when
<code class="docutils literal notranslate"><span class="pre">target</span></code> was an unordered <code class="docutils literal notranslate"><span class="pre">Categorical</span></code> that had the same categories as
<code class="docutils literal notranslate"><span class="pre">self</span></code> but in a different order (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/19551">GH 19551</a>)</p></li>
<li><p>Bug in <a class="reference internal" href="../reference/api/pandas.Index.astype.html#pandas.Index.astype" title="pandas.Index.astype"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Index.astype()</span></code></a> with a categorical dtype where the resultant index is not converted to a <a class="reference internal" href="../reference/api/pandas.CategoricalIndex.html#pandas.CategoricalIndex" title="pandas.CategoricalIndex"><code class="xref py py-class docutils literal notranslate"><span class="pre">CategoricalIndex</span></code></a> for all types of index (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/18630">GH 18630</a>)</p></li>
<li><p>Bug in <a class="reference internal" href="../reference/api/pandas.Series.astype.html#pandas.Series.astype" title="pandas.Series.astype"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Series.astype()</span></code></a> and <code class="docutils literal notranslate"><span class="pre">Categorical.astype()</span></code> where an existing categorical data does not get updated (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/10696">GH 10696</a>, <a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/18593">GH 18593</a>)</p></li>
<li><p>Bug in <a class="reference internal" href="../reference/api/pandas.Series.str.split.html#pandas.Series.str.split" title="pandas.Series.str.split"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Series.str.split()</span></code></a> with <code class="docutils literal notranslate"><span class="pre">expand=True</span></code> incorrectly raising an IndexError on empty strings (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/20002">GH 20002</a>).</p></li>
<li><p>Bug in <a class="reference internal" href="../reference/api/pandas.Index.html#pandas.Index" title="pandas.Index"><code class="xref py py-class docutils literal notranslate"><span class="pre">Index</span></code></a> constructor with <code class="docutils literal notranslate"><span class="pre">dtype=CategoricalDtype(...)</span></code> where <code class="docutils literal notranslate"><span class="pre">categories</span></code> and <code class="docutils literal notranslate"><span class="pre">ordered</span></code> are not maintained (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/19032">GH 19032</a>)</p></li>
<li><p>Bug in <a class="reference internal" href="../reference/api/pandas.Series.html#pandas.Series" title="pandas.Series"><code class="xref py py-class docutils literal notranslate"><span class="pre">Series</span></code></a> constructor with scalar and <code class="docutils literal notranslate"><span class="pre">dtype=CategoricalDtype(...)</span></code> where <code class="docutils literal notranslate"><span class="pre">categories</span></code> and <code class="docutils literal notranslate"><span class="pre">ordered</span></code> are not maintained (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/19565">GH 19565</a>)</p></li>
<li><p>Bug in <code class="docutils literal notranslate"><span class="pre">Categorical.__iter__</span></code> not converting to Python types (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/19909">GH 19909</a>)</p></li>
<li><p>Bug in <a class="reference internal" href="../reference/api/pandas.factorize.html#pandas.factorize" title="pandas.factorize"><code class="xref py py-func docutils literal notranslate"><span class="pre">pandas.factorize()</span></code></a> returning the unique codes for the <code class="docutils literal notranslate"><span class="pre">uniques</span></code>. This now returns a <code class="docutils literal notranslate"><span class="pre">Categorical</span></code> with the same dtype as the input (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/19721">GH 19721</a>)</p></li>
<li><p>Bug in <a class="reference internal" href="../reference/api/pandas.factorize.html#pandas.factorize" title="pandas.factorize"><code class="xref py py-func docutils literal notranslate"><span class="pre">pandas.factorize()</span></code></a> including an item for missing values in the <code class="docutils literal notranslate"><span class="pre">uniques</span></code> return value (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/19721">GH 19721</a>)</p></li>
<li><p>Bug in <a class="reference internal" href="../reference/api/pandas.Series.take.html#pandas.Series.take" title="pandas.Series.take"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Series.take()</span></code></a> with categorical data interpreting <code class="docutils literal notranslate"><span class="pre">-1</span></code> in <code class="docutils literal notranslate"><span class="pre">indices</span></code> as missing value markers, rather than the last element of the Series (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/20664">GH 20664</a>)</p></li>
</ul>
</section>
<section id="datetimelike">
<h3>Datetimelike<a class="headerlink" href="#datetimelike" title="Link to this heading">#</a></h3>
<ul class="simple">
<li><p>Bug in <code class="xref py py-func docutils literal notranslate"><span class="pre">Series.__sub__()</span></code> subtracting a non-nanosecond <code class="docutils literal notranslate"><span class="pre">np.datetime64</span></code> object from a <code class="docutils literal notranslate"><span class="pre">Series</span></code> gave incorrect results (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/7996">GH 7996</a>)</p></li>
<li><p>Bug in <a class="reference internal" href="../reference/api/pandas.DatetimeIndex.html#pandas.DatetimeIndex" title="pandas.DatetimeIndex"><code class="xref py py-class docutils literal notranslate"><span class="pre">DatetimeIndex</span></code></a>, <a class="reference internal" href="../reference/api/pandas.TimedeltaIndex.html#pandas.TimedeltaIndex" title="pandas.TimedeltaIndex"><code class="xref py py-class docutils literal notranslate"><span class="pre">TimedeltaIndex</span></code></a> addition and subtraction of zero-dimensional integer arrays gave incorrect results (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/19012">GH 19012</a>)</p></li>
<li><p>Bug in <a class="reference internal" href="../reference/api/pandas.DatetimeIndex.html#pandas.DatetimeIndex" title="pandas.DatetimeIndex"><code class="xref py py-class docutils literal notranslate"><span class="pre">DatetimeIndex</span></code></a> and <a class="reference internal" href="../reference/api/pandas.TimedeltaIndex.html#pandas.TimedeltaIndex" title="pandas.TimedeltaIndex"><code class="xref py py-class docutils literal notranslate"><span class="pre">TimedeltaIndex</span></code></a> where adding or subtracting an array-like of <code class="docutils literal notranslate"><span class="pre">DateOffset</span></code> objects either raised (<code class="docutils literal notranslate"><span class="pre">np.array</span></code>, <code class="docutils literal notranslate"><span class="pre">pd.Index</span></code>) or broadcast incorrectly (<code class="docutils literal notranslate"><span class="pre">pd.Series</span></code>) (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/18849">GH 18849</a>)</p></li>
<li><p>Bug in <code class="xref py py-func docutils literal notranslate"><span class="pre">Series.__add__()</span></code> adding Series with dtype <code class="docutils literal notranslate"><span class="pre">timedelta64[ns]</span></code> to a timezone-aware <code class="docutils literal notranslate"><span class="pre">DatetimeIndex</span></code> incorrectly dropped timezone information (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/13905">GH 13905</a>)</p></li>
<li><p>Adding a <code class="docutils literal notranslate"><span class="pre">Period</span></code> object to a <code class="docutils literal notranslate"><span class="pre">datetime</span></code> or <code class="docutils literal notranslate"><span class="pre">Timestamp</span></code> object will now correctly raise a <code class="docutils literal notranslate"><span class="pre">TypeError</span></code> (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/17983">GH 17983</a>)</p></li>
<li><p>Bug in <a class="reference internal" href="../reference/api/pandas.Timestamp.html#pandas.Timestamp" title="pandas.Timestamp"><code class="xref py py-class docutils literal notranslate"><span class="pre">Timestamp</span></code></a> where comparison with an array of <code class="docutils literal notranslate"><span class="pre">Timestamp</span></code> objects would result in a <code class="docutils literal notranslate"><span class="pre">RecursionError</span></code> (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/15183">GH 15183</a>)</p></li>
<li><p>Bug in <a class="reference internal" href="../reference/api/pandas.Series.html#pandas.Series" title="pandas.Series"><code class="xref py py-class docutils literal notranslate"><span class="pre">Series</span></code></a> floor-division where operating on a scalar <code class="docutils literal notranslate"><span class="pre">timedelta</span></code> raises an exception (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/18846">GH 18846</a>)</p></li>
<li><p>Bug in <a class="reference internal" href="../reference/api/pandas.DatetimeIndex.html#pandas.DatetimeIndex" title="pandas.DatetimeIndex"><code class="xref py py-class docutils literal notranslate"><span class="pre">DatetimeIndex</span></code></a> where the repr was not showing high-precision time values at the end of a day (e.g., 23:59:59.999999999) (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/19030">GH 19030</a>)</p></li>
<li><p>Bug in <code class="docutils literal notranslate"><span class="pre">.astype()</span></code> to non-ns timedelta units would hold the incorrect dtype (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/19176">GH 19176</a>, <a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/19223">GH 19223</a>, <a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/12425">GH 12425</a>)</p></li>
<li><p>Bug in subtracting <a class="reference internal" href="../reference/api/pandas.Series.html#pandas.Series" title="pandas.Series"><code class="xref py py-class docutils literal notranslate"><span class="pre">Series</span></code></a> from <code class="docutils literal notranslate"><span class="pre">NaT</span></code> incorrectly returning <code class="docutils literal notranslate"><span class="pre">NaT</span></code> (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/19158">GH 19158</a>)</p></li>
<li><p>Bug in <a class="reference internal" href="../reference/api/pandas.Series.truncate.html#pandas.Series.truncate" title="pandas.Series.truncate"><code class="xref py py-func docutils literal notranslate"><span class="pre">Series.truncate()</span></code></a> which raises <code class="docutils literal notranslate"><span class="pre">TypeError</span></code> with a monotonic <code class="docutils literal notranslate"><span class="pre">PeriodIndex</span></code> (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/17717">GH 17717</a>)</p></li>
<li><p>Bug in <a class="reference internal" href="../reference/api/pandas.DataFrame.pct_change.html#pandas.DataFrame.pct_change" title="pandas.DataFrame.pct_change"><code class="xref py py-func docutils literal notranslate"><span class="pre">pct_change()</span></code></a> using <code class="docutils literal notranslate"><span class="pre">periods</span></code> and <code class="docutils literal notranslate"><span class="pre">freq</span></code> returned different length outputs (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/7292">GH 7292</a>)</p></li>
<li><p>Bug in comparison of <a class="reference internal" href="../reference/api/pandas.DatetimeIndex.html#pandas.DatetimeIndex" title="pandas.DatetimeIndex"><code class="xref py py-class docutils literal notranslate"><span class="pre">DatetimeIndex</span></code></a> against <code class="docutils literal notranslate"><span class="pre">None</span></code> or <code class="docutils literal notranslate"><span class="pre">datetime.date</span></code> objects raising <code class="docutils literal notranslate"><span class="pre">TypeError</span></code> for <code class="docutils literal notranslate"><span class="pre">==</span></code> and <code class="docutils literal notranslate"><span class="pre">!=</span></code> comparisons instead of all-<code class="docutils literal notranslate"><span class="pre">False</span></code> and all-<code class="docutils literal notranslate"><span class="pre">True</span></code>, respectively (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/19301">GH 19301</a>)</p></li>
<li><p>Bug in <a class="reference internal" href="../reference/api/pandas.Timestamp.html#pandas.Timestamp" title="pandas.Timestamp"><code class="xref py py-class docutils literal notranslate"><span class="pre">Timestamp</span></code></a> and <a class="reference internal" href="../reference/api/pandas.to_datetime.html#pandas.to_datetime" title="pandas.to_datetime"><code class="xref py py-func docutils literal notranslate"><span class="pre">to_datetime()</span></code></a> where a string representing a barely out-of-bounds timestamp would be incorrectly rounded down instead of raising <code class="docutils literal notranslate"><span class="pre">OutOfBoundsDatetime</span></code> (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/19382">GH 19382</a>)</p></li>
<li><p>Bug in <a class="reference internal" href="../reference/api/pandas.Timestamp.floor.html#pandas.Timestamp.floor" title="pandas.Timestamp.floor"><code class="xref py py-func docutils literal notranslate"><span class="pre">Timestamp.floor()</span></code></a> <a class="reference internal" href="../reference/api/pandas.DatetimeIndex.floor.html#pandas.DatetimeIndex.floor" title="pandas.DatetimeIndex.floor"><code class="xref py py-func docutils literal notranslate"><span class="pre">DatetimeIndex.floor()</span></code></a> where time stamps far in the future and past were not rounded correctly (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/19206">GH 19206</a>)</p></li>
<li><p>Bug in <a class="reference internal" href="../reference/api/pandas.to_datetime.html#pandas.to_datetime" title="pandas.to_datetime"><code class="xref py py-func docutils literal notranslate"><span class="pre">to_datetime()</span></code></a> where passing an out-of-bounds datetime with <code class="docutils literal notranslate"><span class="pre">errors='coerce'</span></code> and <code class="docutils literal notranslate"><span class="pre">utc=True</span></code> would raise <code class="docutils literal notranslate"><span class="pre">OutOfBoundsDatetime</span></code> instead of parsing to <code class="docutils literal notranslate"><span class="pre">NaT</span></code> (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/19612">GH 19612</a>)</p></li>
<li><p>Bug in <a class="reference internal" href="../reference/api/pandas.DatetimeIndex.html#pandas.DatetimeIndex" title="pandas.DatetimeIndex"><code class="xref py py-class docutils literal notranslate"><span class="pre">DatetimeIndex</span></code></a> and <a class="reference internal" href="../reference/api/pandas.TimedeltaIndex.html#pandas.TimedeltaIndex" title="pandas.TimedeltaIndex"><code class="xref py py-class docutils literal notranslate"><span class="pre">TimedeltaIndex</span></code></a> addition and subtraction where name of the returned object was not always set consistently. (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/19744">GH 19744</a>)</p></li>
<li><p>Bug in <a class="reference internal" href="../reference/api/pandas.DatetimeIndex.html#pandas.DatetimeIndex" title="pandas.DatetimeIndex"><code class="xref py py-class docutils literal notranslate"><span class="pre">DatetimeIndex</span></code></a> and <a class="reference internal" href="../reference/api/pandas.TimedeltaIndex.html#pandas.TimedeltaIndex" title="pandas.TimedeltaIndex"><code class="xref py py-class docutils literal notranslate"><span class="pre">TimedeltaIndex</span></code></a> addition and subtraction where operations with numpy arrays raised <code class="docutils literal notranslate"><span class="pre">TypeError</span></code> (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/19847">GH 19847</a>)</p></li>
<li><p>Bug in <a class="reference internal" href="../reference/api/pandas.DatetimeIndex.html#pandas.DatetimeIndex" title="pandas.DatetimeIndex"><code class="xref py py-class docutils literal notranslate"><span class="pre">DatetimeIndex</span></code></a> and <a class="reference internal" href="../reference/api/pandas.TimedeltaIndex.html#pandas.TimedeltaIndex" title="pandas.TimedeltaIndex"><code class="xref py py-class docutils literal notranslate"><span class="pre">TimedeltaIndex</span></code></a> where setting the <code class="docutils literal notranslate"><span class="pre">freq</span></code> attribute was not fully supported (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/20678">GH 20678</a>)</p></li>
</ul>
</section>
<section id="timedelta">
<h3>Timedelta<a class="headerlink" href="#timedelta" title="Link to this heading">#</a></h3>
<ul class="simple">
<li><p>Bug in <code class="xref py py-func docutils literal notranslate"><span class="pre">Timedelta.__mul__()</span></code> where multiplying by <code class="docutils literal notranslate"><span class="pre">NaT</span></code> returned <code class="docutils literal notranslate"><span class="pre">NaT</span></code> instead of raising a <code class="docutils literal notranslate"><span class="pre">TypeError</span></code> (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/19819">GH 19819</a>)</p></li>
<li><p>Bug in <a class="reference internal" href="../reference/api/pandas.Series.html#pandas.Series" title="pandas.Series"><code class="xref py py-class docutils literal notranslate"><span class="pre">Series</span></code></a> with <code class="docutils literal notranslate"><span class="pre">dtype='timedelta64[ns]'</span></code> where addition or subtraction of <code class="docutils literal notranslate"><span class="pre">TimedeltaIndex</span></code> had results cast to <code class="docutils literal notranslate"><span class="pre">dtype='int64'</span></code> (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/17250">GH 17250</a>)</p></li>
<li><p>Bug in <a class="reference internal" href="../reference/api/pandas.Series.html#pandas.Series" title="pandas.Series"><code class="xref py py-class docutils literal notranslate"><span class="pre">Series</span></code></a> with <code class="docutils literal notranslate"><span class="pre">dtype='timedelta64[ns]'</span></code> where addition or subtraction of <code class="docutils literal notranslate"><span class="pre">TimedeltaIndex</span></code> could return a <code class="docutils literal notranslate"><span class="pre">Series</span></code> with an incorrect name (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/19043">GH 19043</a>)</p></li>
<li><p>Bug in <code class="xref py py-func docutils literal notranslate"><span class="pre">Timedelta.__floordiv__()</span></code> and <code class="xref py py-func docutils literal notranslate"><span class="pre">Timedelta.__rfloordiv__()</span></code> dividing by many incompatible numpy objects was incorrectly allowed (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/18846">GH 18846</a>)</p></li>
<li><p>Bug where dividing a scalar timedelta-like object with <a class="reference internal" href="../reference/api/pandas.TimedeltaIndex.html#pandas.TimedeltaIndex" title="pandas.TimedeltaIndex"><code class="xref py py-class docutils literal notranslate"><span class="pre">TimedeltaIndex</span></code></a> performed the reciprocal operation (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/19125">GH 19125</a>)</p></li>
<li><p>Bug in <a class="reference internal" href="../reference/api/pandas.TimedeltaIndex.html#pandas.TimedeltaIndex" title="pandas.TimedeltaIndex"><code class="xref py py-class docutils literal notranslate"><span class="pre">TimedeltaIndex</span></code></a> where division by a <code class="docutils literal notranslate"><span class="pre">Series</span></code> would return a <code class="docutils literal notranslate"><span class="pre">TimedeltaIndex</span></code> instead of a <code class="docutils literal notranslate"><span class="pre">Series</span></code> (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/19042">GH 19042</a>)</p></li>
<li><p>Bug in <code class="xref py py-func docutils literal notranslate"><span class="pre">Timedelta.__add__()</span></code>, <code class="xref py py-func docutils literal notranslate"><span class="pre">Timedelta.__sub__()</span></code> where adding or subtracting a <code class="docutils literal notranslate"><span class="pre">np.timedelta64</span></code> object would return another <code class="docutils literal notranslate"><span class="pre">np.timedelta64</span></code> instead of a <code class="docutils literal notranslate"><span class="pre">Timedelta</span></code> (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/19738">GH 19738</a>)</p></li>
<li><p>Bug in <code class="xref py py-func docutils literal notranslate"><span class="pre">Timedelta.__floordiv__()</span></code>, <code class="xref py py-func docutils literal notranslate"><span class="pre">Timedelta.__rfloordiv__()</span></code> where operating with a <code class="docutils literal notranslate"><span class="pre">Tick</span></code> object would raise a <code class="docutils literal notranslate"><span class="pre">TypeError</span></code> instead of returning a numeric value (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/19738">GH 19738</a>)</p></li>
<li><p>Bug in <a class="reference internal" href="../reference/api/pandas.Period.asfreq.html#pandas.Period.asfreq" title="pandas.Period.asfreq"><code class="xref py py-func docutils literal notranslate"><span class="pre">Period.asfreq()</span></code></a> where periods near <code class="docutils literal notranslate"><span class="pre">datetime(1,</span> <span class="pre">1,</span> <span class="pre">1)</span></code> could be converted incorrectly (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/19643">GH 19643</a>, <a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/19834">GH 19834</a>)</p></li>
<li><p>Bug in <a class="reference internal" href="../reference/api/pandas.Timedelta.total_seconds.html#pandas.Timedelta.total_seconds" title="pandas.Timedelta.total_seconds"><code class="xref py py-func docutils literal notranslate"><span class="pre">Timedelta.total_seconds()</span></code></a> causing precision errors, for example <code class="docutils literal notranslate"><span class="pre">Timedelta('30S').total_seconds()==30.000000000000004</span></code> (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/19458">GH 19458</a>)</p></li>
<li><p>Bug in <code class="xref py py-func docutils literal notranslate"><span class="pre">Timedelta.__rmod__()</span></code> where operating with a <code class="docutils literal notranslate"><span class="pre">numpy.timedelta64</span></code> returned a <code class="docutils literal notranslate"><span class="pre">timedelta64</span></code> object instead of a <code class="docutils literal notranslate"><span class="pre">Timedelta</span></code> (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/19820">GH 19820</a>)</p></li>
<li><p>Multiplication of <a class="reference internal" href="../reference/api/pandas.TimedeltaIndex.html#pandas.TimedeltaIndex" title="pandas.TimedeltaIndex"><code class="xref py py-class docutils literal notranslate"><span class="pre">TimedeltaIndex</span></code></a> by <code class="docutils literal notranslate"><span class="pre">TimedeltaIndex</span></code> will now raise <code class="docutils literal notranslate"><span class="pre">TypeError</span></code> instead of raising <code class="docutils literal notranslate"><span class="pre">ValueError</span></code> in cases of length mismatch (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/19333">GH 19333</a>)</p></li>
<li><p>Bug in indexing a <a class="reference internal" href="../reference/api/pandas.TimedeltaIndex.html#pandas.TimedeltaIndex" title="pandas.TimedeltaIndex"><code class="xref py py-class docutils literal notranslate"><span class="pre">TimedeltaIndex</span></code></a> with a <code class="docutils literal notranslate"><span class="pre">np.timedelta64</span></code> object which was raising a <code class="docutils literal notranslate"><span class="pre">TypeError</span></code> (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/20393">GH 20393</a>)</p></li>
</ul>
</section>
<section id="timezones">
<h3>Timezones<a class="headerlink" href="#timezones" title="Link to this heading">#</a></h3>
<ul class="simple">
<li><p>Bug in creating a <code class="docutils literal notranslate"><span class="pre">Series</span></code> from an array that contains both tz-naive and tz-aware values will result in a <code class="docutils literal notranslate"><span class="pre">Series</span></code> whose dtype is tz-aware instead of object (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/16406">GH 16406</a>)</p></li>
<li><p>Bug in comparison of timezone-aware <a class="reference internal" href="../reference/api/pandas.DatetimeIndex.html#pandas.DatetimeIndex" title="pandas.DatetimeIndex"><code class="xref py py-class docutils literal notranslate"><span class="pre">DatetimeIndex</span></code></a> against <code class="docutils literal notranslate"><span class="pre">NaT</span></code> incorrectly raising <code class="docutils literal notranslate"><span class="pre">TypeError</span></code> (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/19276">GH 19276</a>)</p></li>
<li><p>Bug in <code class="xref py py-meth docutils literal notranslate"><span class="pre">DatetimeIndex.astype()</span></code> when converting between timezone aware dtypes, and converting from timezone aware to naive (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/18951">GH 18951</a>)</p></li>
<li><p>Bug in comparing <a class="reference internal" href="../reference/api/pandas.DatetimeIndex.html#pandas.DatetimeIndex" title="pandas.DatetimeIndex"><code class="xref py py-class docutils literal notranslate"><span class="pre">DatetimeIndex</span></code></a>, which failed to raise <code class="docutils literal notranslate"><span class="pre">TypeError</span></code> when attempting to compare timezone-aware and timezone-naive datetimelike objects (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/18162">GH 18162</a>)</p></li>
<li><p>Bug in localization of a naive, datetime string in a <code class="docutils literal notranslate"><span class="pre">Series</span></code> constructor with a <code class="docutils literal notranslate"><span class="pre">datetime64[ns,</span> <span class="pre">tz]</span></code> dtype (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/174151">GH 174151</a>)</p></li>
<li><p><a class="reference internal" href="../reference/api/pandas.Timestamp.replace.html#pandas.Timestamp.replace" title="pandas.Timestamp.replace"><code class="xref py py-func docutils literal notranslate"><span class="pre">Timestamp.replace()</span></code></a> will now handle Daylight Savings transitions gracefully (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/18319">GH 18319</a>)</p></li>
<li><p>Bug in tz-aware <a class="reference internal" href="../reference/api/pandas.DatetimeIndex.html#pandas.DatetimeIndex" title="pandas.DatetimeIndex"><code class="xref py py-class docutils literal notranslate"><span class="pre">DatetimeIndex</span></code></a> where addition/subtraction with a <a class="reference internal" href="../reference/api/pandas.TimedeltaIndex.html#pandas.TimedeltaIndex" title="pandas.TimedeltaIndex"><code class="xref py py-class docutils literal notranslate"><span class="pre">TimedeltaIndex</span></code></a> or array with <code class="docutils literal notranslate"><span class="pre">dtype='timedelta64[ns]'</span></code> was incorrect (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/17558">GH 17558</a>)</p></li>
<li><p>Bug in <code class="xref py py-func docutils literal notranslate"><span class="pre">DatetimeIndex.insert()</span></code> where inserting <code class="docutils literal notranslate"><span class="pre">NaT</span></code> into a timezone-aware index incorrectly raised (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/16357">GH 16357</a>)</p></li>
<li><p>Bug in <a class="reference internal" href="../reference/api/pandas.DataFrame.html#pandas.DataFrame" title="pandas.DataFrame"><code class="xref py py-class docutils literal notranslate"><span class="pre">DataFrame</span></code></a> constructor, where tz-aware Datetimeindex and a given column name will result in an empty <code class="docutils literal notranslate"><span class="pre">DataFrame</span></code> (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/19157">GH 19157</a>)</p></li>
<li><p>Bug in <a class="reference internal" href="../reference/api/pandas.Timestamp.tz_localize.html#pandas.Timestamp.tz_localize" title="pandas.Timestamp.tz_localize"><code class="xref py py-func docutils literal notranslate"><span class="pre">Timestamp.tz_localize()</span></code></a> where localizing a timestamp near the minimum or maximum valid values could overflow and return a timestamp with an incorrect nanosecond value (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/12677">GH 12677</a>)</p></li>
<li><p>Bug when iterating over <a class="reference internal" href="../reference/api/pandas.DatetimeIndex.html#pandas.DatetimeIndex" title="pandas.DatetimeIndex"><code class="xref py py-class docutils literal notranslate"><span class="pre">DatetimeIndex</span></code></a> that was localized with fixed timezone offset that rounded nanosecond precision to microseconds (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/19603">GH 19603</a>)</p></li>
<li><p>Bug in <a class="reference internal" href="../reference/api/pandas.DataFrame.diff.html#pandas.DataFrame.diff" title="pandas.DataFrame.diff"><code class="xref py py-func docutils literal notranslate"><span class="pre">DataFrame.diff()</span></code></a> that raised an <code class="docutils literal notranslate"><span class="pre">IndexError</span></code> with tz-aware values (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/18578">GH 18578</a>)</p></li>
<li><p>Bug in <a class="reference internal" href="../reference/api/pandas.melt.html#pandas.melt" title="pandas.melt"><code class="xref py py-func docutils literal notranslate"><span class="pre">melt()</span></code></a> that converted tz-aware dtypes to tz-naive (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/15785">GH 15785</a>)</p></li>
<li><p>Bug in <code class="xref py py-func docutils literal notranslate"><span class="pre">Dataframe.count()</span></code> that raised an <code class="docutils literal notranslate"><span class="pre">ValueError</span></code>, if <code class="xref py py-func docutils literal notranslate"><span class="pre">Dataframe.dropna()</span></code> was called for a single column with timezone-aware values. (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/13407">GH 13407</a>)</p></li>
</ul>
</section>
<section id="offsets">
<h3>Offsets<a class="headerlink" href="#offsets" title="Link to this heading">#</a></h3>
<ul class="simple">
<li><p>Bug in <code class="xref py py-class docutils literal notranslate"><span class="pre">WeekOfMonth</span></code> and <code class="xref py py-class docutils literal notranslate"><span class="pre">Week</span></code> where addition and subtraction did not roll correctly (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/18510">GH 18510</a>, <a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/18672">GH 18672</a>, <a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/18864">GH 18864</a>)</p></li>
<li><p>Bug in <code class="xref py py-class docutils literal notranslate"><span class="pre">WeekOfMonth</span></code> and <code class="xref py py-class docutils literal notranslate"><span class="pre">LastWeekOfMonth</span></code> where default keyword arguments for constructor raised <code class="docutils literal notranslate"><span class="pre">ValueError</span></code> (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/19142">GH 19142</a>)</p></li>
<li><p>Bug in <code class="xref py py-class docutils literal notranslate"><span class="pre">FY5253Quarter</span></code>, <code class="xref py py-class docutils literal notranslate"><span class="pre">LastWeekOfMonth</span></code> where rollback and rollforward behavior was inconsistent with addition and subtraction behavior (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/18854">GH 18854</a>)</p></li>
<li><p>Bug in <code class="xref py py-class docutils literal notranslate"><span class="pre">FY5253</span></code> where <code class="docutils literal notranslate"><span class="pre">datetime</span></code> addition and subtraction incremented incorrectly for dates on the year-end but not normalized to midnight (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/18854">GH 18854</a>)</p></li>
<li><p>Bug in <code class="xref py py-class docutils literal notranslate"><span class="pre">FY5253</span></code> where date offsets could incorrectly raise an <code class="docutils literal notranslate"><span class="pre">AssertionError</span></code> in arithmetic operations (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/14774">GH 14774</a>)</p></li>
</ul>
</section>
<section id="numeric">
<h3>Numeric<a class="headerlink" href="#numeric" title="Link to this heading">#</a></h3>
<ul class="simple">
<li><p>Bug in <a class="reference internal" href="../reference/api/pandas.Series.html#pandas.Series" title="pandas.Series"><code class="xref py py-class docutils literal notranslate"><span class="pre">Series</span></code></a> constructor with an int or float list where specifying <code class="docutils literal notranslate"><span class="pre">dtype=str</span></code>, <code class="docutils literal notranslate"><span class="pre">dtype='str'</span></code> or <code class="docutils literal notranslate"><span class="pre">dtype='U'</span></code> failed to convert the data elements to strings (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/16605">GH 16605</a>)</p></li>
<li><p>Bug in <a class="reference internal" href="../reference/api/pandas.Index.html#pandas.Index" title="pandas.Index"><code class="xref py py-class docutils literal notranslate"><span class="pre">Index</span></code></a> multiplication and division methods where operating with a <code class="docutils literal notranslate"><span class="pre">Series</span></code> would return an <code class="docutils literal notranslate"><span class="pre">Index</span></code> object instead of a <code class="docutils literal notranslate"><span class="pre">Series</span></code> object (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/19042">GH 19042</a>)</p></li>
<li><p>Bug in the <a class="reference internal" href="../reference/api/pandas.DataFrame.html#pandas.DataFrame" title="pandas.DataFrame"><code class="xref py py-class docutils literal notranslate"><span class="pre">DataFrame</span></code></a> constructor in which data containing very large positive or very large negative numbers was causing <code class="docutils literal notranslate"><span class="pre">OverflowError</span></code> (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/18584">GH 18584</a>)</p></li>
<li><p>Bug in <a class="reference internal" href="../reference/api/pandas.Index.html#pandas.Index" title="pandas.Index"><code class="xref py py-class docutils literal notranslate"><span class="pre">Index</span></code></a> constructor with <code class="docutils literal notranslate"><span class="pre">dtype='uint64'</span></code> where int-like floats were not coerced to <code class="xref py py-class docutils literal notranslate"><span class="pre">UInt64Index</span></code> (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/18400">GH 18400</a>)</p></li>
<li><p>Bug in <a class="reference internal" href="../reference/api/pandas.DataFrame.html#pandas.DataFrame" title="pandas.DataFrame"><code class="xref py py-class docutils literal notranslate"><span class="pre">DataFrame</span></code></a> flex arithmetic (e.g. <code class="docutils literal notranslate"><span class="pre">df.add(other,</span> <span class="pre">fill_value=foo)</span></code>) with a <code class="docutils literal notranslate"><span class="pre">fill_value</span></code> other than <code class="docutils literal notranslate"><span class="pre">None</span></code> failed to raise <code class="docutils literal notranslate"><span class="pre">NotImplementedError</span></code> in corner cases where either the frame or <code class="docutils literal notranslate"><span class="pre">other</span></code> has length zero (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/19522">GH 19522</a>)</p></li>
<li><p>Multiplication and division of numeric-dtyped <a class="reference internal" href="../reference/api/pandas.Index.html#pandas.Index" title="pandas.Index"><code class="xref py py-class docutils literal notranslate"><span class="pre">Index</span></code></a> objects with timedelta-like scalars returns <code class="docutils literal notranslate"><span class="pre">TimedeltaIndex</span></code> instead of raising <code class="docutils literal notranslate"><span class="pre">TypeError</span></code> (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/19333">GH 19333</a>)</p></li>
<li><p>Bug where <code class="docutils literal notranslate"><span class="pre">NaN</span></code> was returned instead of 0 by <a class="reference internal" href="../reference/api/pandas.Series.pct_change.html#pandas.Series.pct_change" title="pandas.Series.pct_change"><code class="xref py py-func docutils literal notranslate"><span class="pre">Series.pct_change()</span></code></a> and <a class="reference internal" href="../reference/api/pandas.DataFrame.pct_change.html#pandas.DataFrame.pct_change" title="pandas.DataFrame.pct_change"><code class="xref py py-func docutils literal notranslate"><span class="pre">DataFrame.pct_change()</span></code></a> when <code class="docutils literal notranslate"><span class="pre">fill_method</span></code> is not <code class="docutils literal notranslate"><span class="pre">None</span></code> (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/19873">GH 19873</a>)</p></li>
</ul>
</section>
<section id="strings">
<h3>Strings<a class="headerlink" href="#strings" title="Link to this heading">#</a></h3>
<ul class="simple">
<li><p>Bug in <a class="reference internal" href="../reference/api/pandas.Series.str.get.html#pandas.Series.str.get" title="pandas.Series.str.get"><code class="xref py py-func docutils literal notranslate"><span class="pre">Series.str.get()</span></code></a> with a dictionary in the values and the index not in the keys, raising <code class="docutils literal notranslate"><span class="pre">KeyError</span></code> (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/20671">GH 20671</a>)</p></li>
</ul>
</section>
<section id="indexing">
<h3>Indexing<a class="headerlink" href="#indexing" title="Link to this heading">#</a></h3>
<ul class="simple">
<li><p>Bug in <a class="reference internal" href="../reference/api/pandas.Index.html#pandas.Index" title="pandas.Index"><code class="xref py py-class docutils literal notranslate"><span class="pre">Index</span></code></a> construction from list of mixed type tuples (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/18505">GH 18505</a>)</p></li>
<li><p>Bug in <a class="reference internal" href="../reference/api/pandas.Index.drop.html#pandas.Index.drop" title="pandas.Index.drop"><code class="xref py py-func docutils literal notranslate"><span class="pre">Index.drop()</span></code></a> when passing a list of both tuples and non-tuples (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/18304">GH 18304</a>)</p></li>
<li><p>Bug in <a class="reference internal" href="../reference/api/pandas.DataFrame.drop.html#pandas.DataFrame.drop" title="pandas.DataFrame.drop"><code class="xref py py-func docutils literal notranslate"><span class="pre">DataFrame.drop()</span></code></a>, <code class="xref py py-meth docutils literal notranslate"><span class="pre">Panel.drop()</span></code>, <a class="reference internal" href="../reference/api/pandas.Series.drop.html#pandas.Series.drop" title="pandas.Series.drop"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Series.drop()</span></code></a>, <a class="reference internal" href="../reference/api/pandas.Index.drop.html#pandas.Index.drop" title="pandas.Index.drop"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Index.drop()</span></code></a> where no <code class="docutils literal notranslate"><span class="pre">KeyError</span></code> is raised when dropping a non-existent element from an axis that contains duplicates (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/19186">GH 19186</a>)</p></li>
<li><p>Bug in indexing a datetimelike <code class="docutils literal notranslate"><span class="pre">Index</span></code> that raised <code class="docutils literal notranslate"><span class="pre">ValueError</span></code> instead of <code class="docutils literal notranslate"><span class="pre">IndexError</span></code> (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/18386">GH 18386</a>).</p></li>
<li><p><a class="reference internal" href="../reference/api/pandas.Index.to_series.html#pandas.Index.to_series" title="pandas.Index.to_series"><code class="xref py py-func docutils literal notranslate"><span class="pre">Index.to_series()</span></code></a> now accepts <code class="docutils literal notranslate"><span class="pre">index</span></code> and <code class="docutils literal notranslate"><span class="pre">name</span></code> kwargs (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/18699">GH 18699</a>)</p></li>
<li><p><a class="reference internal" href="../reference/api/pandas.DatetimeIndex.to_series.html#pandas.DatetimeIndex.to_series" title="pandas.DatetimeIndex.to_series"><code class="xref py py-func docutils literal notranslate"><span class="pre">DatetimeIndex.to_series()</span></code></a> now accepts <code class="docutils literal notranslate"><span class="pre">index</span></code> and <code class="docutils literal notranslate"><span class="pre">name</span></code> kwargs (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/18699">GH 18699</a>)</p></li>
<li><p>Bug in indexing non-scalar value from <code class="docutils literal notranslate"><span class="pre">Series</span></code> having non-unique <code class="docutils literal notranslate"><span class="pre">Index</span></code> will return value flattened (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/17610">GH 17610</a>)</p></li>
<li><p>Bug in indexing with iterator containing only missing keys, which raised no error (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/20748">GH 20748</a>)</p></li>
<li><p>Fixed inconsistency in <code class="docutils literal notranslate"><span class="pre">.ix</span></code> between list and scalar keys when the index has integer dtype and does not include the desired keys (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/20753">GH 20753</a>)</p></li>
<li><p>Bug in <code class="docutils literal notranslate"><span class="pre">__setitem__</span></code> when indexing a <a class="reference internal" href="../reference/api/pandas.DataFrame.html#pandas.DataFrame" title="pandas.DataFrame"><code class="xref py py-class docutils literal notranslate"><span class="pre">DataFrame</span></code></a> with a 2-d boolean ndarray (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/18582">GH 18582</a>)</p></li>
<li><p>Bug in <code class="docutils literal notranslate"><span class="pre">str.extractall</span></code> when there were no matches empty <a class="reference internal" href="../reference/api/pandas.Index.html#pandas.Index" title="pandas.Index"><code class="xref py py-class docutils literal notranslate"><span class="pre">Index</span></code></a> was returned instead of appropriate <a class="reference internal" href="../reference/api/pandas.MultiIndex.html#pandas.MultiIndex" title="pandas.MultiIndex"><code class="xref py py-class docutils literal notranslate"><span class="pre">MultiIndex</span></code></a> (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/19034">GH 19034</a>)</p></li>
<li><p>Bug in <a class="reference internal" href="../reference/api/pandas.IntervalIndex.html#pandas.IntervalIndex" title="pandas.IntervalIndex"><code class="xref py py-class docutils literal notranslate"><span class="pre">IntervalIndex</span></code></a> where empty and purely NA data was constructed inconsistently depending on the construction method (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/18421">GH 18421</a>)</p></li>
<li><p>Bug in <code class="xref py py-func docutils literal notranslate"><span class="pre">IntervalIndex.symmetric_difference()</span></code> where the symmetric difference with a non-<code class="docutils literal notranslate"><span class="pre">IntervalIndex</span></code> did not raise (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/18475">GH 18475</a>)</p></li>
<li><p>Bug in <a class="reference internal" href="../reference/api/pandas.IntervalIndex.html#pandas.IntervalIndex" title="pandas.IntervalIndex"><code class="xref py py-class docutils literal notranslate"><span class="pre">IntervalIndex</span></code></a> where set operations that returned an empty <code class="docutils literal notranslate"><span class="pre">IntervalIndex</span></code> had the wrong dtype (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/19101">GH 19101</a>)</p></li>
<li><p>Bug in <a class="reference internal" href="../reference/api/pandas.DataFrame.drop_duplicates.html#pandas.DataFrame.drop_duplicates" title="pandas.DataFrame.drop_duplicates"><code class="xref py py-meth docutils literal notranslate"><span class="pre">DataFrame.drop_duplicates()</span></code></a> where no <code class="docutils literal notranslate"><span class="pre">KeyError</span></code> is raised when passing in columns that don’t exist on the <code class="docutils literal notranslate"><span class="pre">DataFrame</span></code> (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/19726">GH 19726</a>)</p></li>
<li><p>Bug in <code class="docutils literal notranslate"><span class="pre">Index</span></code> subclasses constructors that ignore unexpected keyword arguments (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/19348">GH 19348</a>)</p></li>
<li><p>Bug in <a class="reference internal" href="../reference/api/pandas.Index.difference.html#pandas.Index.difference" title="pandas.Index.difference"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Index.difference()</span></code></a> when taking difference of an <code class="docutils literal notranslate"><span class="pre">Index</span></code> with itself (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/20040">GH 20040</a>)</p></li>
<li><p>Bug in <a class="reference internal" href="../reference/api/pandas.DataFrame.first_valid_index.html#pandas.DataFrame.first_valid_index" title="pandas.DataFrame.first_valid_index"><code class="xref py py-meth docutils literal notranslate"><span class="pre">DataFrame.first_valid_index()</span></code></a> and <a class="reference internal" href="../reference/api/pandas.DataFrame.last_valid_index.html#pandas.DataFrame.last_valid_index" title="pandas.DataFrame.last_valid_index"><code class="xref py py-meth docutils literal notranslate"><span class="pre">DataFrame.last_valid_index()</span></code></a> in presence of entire rows of NaNs in the middle of values (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/20499">GH 20499</a>).</p></li>
<li><p>Bug in <a class="reference internal" href="../reference/api/pandas.IntervalIndex.html#pandas.IntervalIndex" title="pandas.IntervalIndex"><code class="xref py py-class docutils literal notranslate"><span class="pre">IntervalIndex</span></code></a> where some indexing operations were not supported for overlapping or non-monotonic <code class="docutils literal notranslate"><span class="pre">uint64</span></code> data (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/20636">GH 20636</a>)</p></li>
<li><p>Bug in <code class="docutils literal notranslate"><span class="pre">Series.is_unique</span></code> where extraneous output in stderr is shown if Series contains objects with <code class="docutils literal notranslate"><span class="pre">__ne__</span></code> defined (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/20661">GH 20661</a>)</p></li>
<li><p>Bug in <code class="docutils literal notranslate"><span class="pre">.loc</span></code> assignment with a single-element list-like incorrectly assigns as a list (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/19474">GH 19474</a>)</p></li>
<li><p>Bug in partial string indexing on a <code class="docutils literal notranslate"><span class="pre">Series/DataFrame</span></code> with a monotonic decreasing <code class="docutils literal notranslate"><span class="pre">DatetimeIndex</span></code> (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/19362">GH 19362</a>)</p></li>
<li><p>Bug in performing in-place operations on a <code class="docutils literal notranslate"><span class="pre">DataFrame</span></code> with a duplicate <code class="docutils literal notranslate"><span class="pre">Index</span></code> (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/17105">GH 17105</a>)</p></li>
<li><p>Bug in <a class="reference internal" href="../reference/api/pandas.IntervalIndex.get_loc.html#pandas.IntervalIndex.get_loc" title="pandas.IntervalIndex.get_loc"><code class="xref py py-meth docutils literal notranslate"><span class="pre">IntervalIndex.get_loc()</span></code></a> and <a class="reference internal" href="../reference/api/pandas.IntervalIndex.get_indexer.html#pandas.IntervalIndex.get_indexer" title="pandas.IntervalIndex.get_indexer"><code class="xref py py-meth docutils literal notranslate"><span class="pre">IntervalIndex.get_indexer()</span></code></a> when used with an <a class="reference internal" href="../reference/api/pandas.IntervalIndex.html#pandas.IntervalIndex" title="pandas.IntervalIndex"><code class="xref py py-class docutils literal notranslate"><span class="pre">IntervalIndex</span></code></a> containing a single interval (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/17284">GH 17284</a>, <a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/20921">GH 20921</a>)</p></li>
<li><p>Bug in <code class="docutils literal notranslate"><span class="pre">.loc</span></code> with a <code class="docutils literal notranslate"><span class="pre">uint64</span></code> indexer (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/20722">GH 20722</a>)</p></li>
</ul>
</section>
<section id="multiindex">
<h3>MultiIndex<a class="headerlink" href="#multiindex" title="Link to this heading">#</a></h3>
<ul class="simple">
<li><p>Bug in <code class="xref py py-func docutils literal notranslate"><span class="pre">MultiIndex.__contains__()</span></code> where non-tuple keys would return <code class="docutils literal notranslate"><span class="pre">True</span></code> even if they had been dropped (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/19027">GH 19027</a>)</p></li>
<li><p>Bug in <code class="xref py py-func docutils literal notranslate"><span class="pre">MultiIndex.set_labels()</span></code> which would cause casting (and potentially clipping) of the new labels if the <code class="docutils literal notranslate"><span class="pre">level</span></code> argument is not 0 or a list like [0, 1, … ]  (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/19057">GH 19057</a>)</p></li>
<li><p>Bug in <a class="reference internal" href="../reference/api/pandas.MultiIndex.get_level_values.html#pandas.MultiIndex.get_level_values" title="pandas.MultiIndex.get_level_values"><code class="xref py py-func docutils literal notranslate"><span class="pre">MultiIndex.get_level_values()</span></code></a> which would return an invalid index on level of ints with missing values (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/17924">GH 17924</a>)</p></li>
<li><p>Bug in <code class="xref py py-func docutils literal notranslate"><span class="pre">MultiIndex.unique()</span></code> when called on empty <a class="reference internal" href="../reference/api/pandas.MultiIndex.html#pandas.MultiIndex" title="pandas.MultiIndex"><code class="xref py py-class docutils literal notranslate"><span class="pre">MultiIndex</span></code></a> (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/20568">GH 20568</a>)</p></li>
<li><p>Bug in <code class="xref py py-func docutils literal notranslate"><span class="pre">MultiIndex.unique()</span></code> which would not preserve level names (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/20570">GH 20570</a>)</p></li>
<li><p>Bug in <a class="reference internal" href="../reference/api/pandas.MultiIndex.remove_unused_levels.html#pandas.MultiIndex.remove_unused_levels" title="pandas.MultiIndex.remove_unused_levels"><code class="xref py py-func docutils literal notranslate"><span class="pre">MultiIndex.remove_unused_levels()</span></code></a> which would fill nan values (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/18417">GH 18417</a>)</p></li>
<li><p>Bug in <a class="reference internal" href="../reference/api/pandas.MultiIndex.from_tuples.html#pandas.MultiIndex.from_tuples" title="pandas.MultiIndex.from_tuples"><code class="xref py py-func docutils literal notranslate"><span class="pre">MultiIndex.from_tuples()</span></code></a> which would fail to take zipped tuples in python3 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/18434">GH 18434</a>)</p></li>
<li><p>Bug in <a class="reference internal" href="../reference/api/pandas.MultiIndex.get_loc.html#pandas.MultiIndex.get_loc" title="pandas.MultiIndex.get_loc"><code class="xref py py-func docutils literal notranslate"><span class="pre">MultiIndex.get_loc()</span></code></a> which would fail to automatically cast values between float and int (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/18818">GH 18818</a>, <a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/15994">GH 15994</a>)</p></li>
<li><p>Bug in <a class="reference internal" href="../reference/api/pandas.MultiIndex.get_loc.html#pandas.MultiIndex.get_loc" title="pandas.MultiIndex.get_loc"><code class="xref py py-func docutils literal notranslate"><span class="pre">MultiIndex.get_loc()</span></code></a> which would cast boolean to integer labels (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/19086">GH 19086</a>)</p></li>
<li><p>Bug in <a class="reference internal" href="../reference/api/pandas.MultiIndex.get_loc.html#pandas.MultiIndex.get_loc" title="pandas.MultiIndex.get_loc"><code class="xref py py-func docutils literal notranslate"><span class="pre">MultiIndex.get_loc()</span></code></a> which would fail to locate keys containing <code class="docutils literal notranslate"><span class="pre">NaN</span></code> (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/18485">GH 18485</a>)</p></li>
<li><p>Bug in <a class="reference internal" href="../reference/api/pandas.MultiIndex.get_loc.html#pandas.MultiIndex.get_loc" title="pandas.MultiIndex.get_loc"><code class="xref py py-func docutils literal notranslate"><span class="pre">MultiIndex.get_loc()</span></code></a> in large <a class="reference internal" href="../reference/api/pandas.MultiIndex.html#pandas.MultiIndex" title="pandas.MultiIndex"><code class="xref py py-class docutils literal notranslate"><span class="pre">MultiIndex</span></code></a>, would fail when levels had different dtypes (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/18520">GH 18520</a>)</p></li>
<li><p>Bug in indexing where nested indexers having only numpy arrays are handled incorrectly (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/19686">GH 19686</a>)</p></li>
</ul>
</section>
<section id="io">
<h3>IO<a class="headerlink" href="#io" title="Link to this heading">#</a></h3>
<ul class="simple">
<li><p><a class="reference internal" href="../reference/api/pandas.read_html.html#pandas.read_html" title="pandas.read_html"><code class="xref py py-func docutils literal notranslate"><span class="pre">read_html()</span></code></a> now rewinds seekable IO objects after parse failure, before attempting to parse with a new parser. If a parser errors and the object is non-seekable, an informative error is raised suggesting the use of a different parser (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/17975">GH 17975</a>)</p></li>
<li><p><a class="reference internal" href="../reference/api/pandas.DataFrame.to_html.html#pandas.DataFrame.to_html" title="pandas.DataFrame.to_html"><code class="xref py py-meth docutils literal notranslate"><span class="pre">DataFrame.to_html()</span></code></a> now has an option to add an id to the leading <code class="docutils literal notranslate"><span class="pre">&lt;table&gt;</span></code> tag (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/8496">GH 8496</a>)</p></li>
<li><p>Bug in <code class="xref py py-func docutils literal notranslate"><span class="pre">read_msgpack()</span></code> with a non existent file is passed in Python 2 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/15296">GH 15296</a>)</p></li>
<li><p>Bug in <a class="reference internal" href="../reference/api/pandas.read_csv.html#pandas.read_csv" title="pandas.read_csv"><code class="xref py py-func docutils literal notranslate"><span class="pre">read_csv()</span></code></a> where a <code class="docutils literal notranslate"><span class="pre">MultiIndex</span></code> with duplicate columns was not being mangled appropriately (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/18062">GH 18062</a>)</p></li>
<li><p>Bug in <a class="reference internal" href="../reference/api/pandas.read_csv.html#pandas.read_csv" title="pandas.read_csv"><code class="xref py py-func docutils literal notranslate"><span class="pre">read_csv()</span></code></a> where missing values were not being handled properly when <code class="docutils literal notranslate"><span class="pre">keep_default_na=False</span></code> with dictionary <code class="docutils literal notranslate"><span class="pre">na_values</span></code> (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/19227">GH 19227</a>)</p></li>
<li><p>Bug in <a class="reference internal" href="../reference/api/pandas.read_csv.html#pandas.read_csv" title="pandas.read_csv"><code class="xref py py-func docutils literal notranslate"><span class="pre">read_csv()</span></code></a> causing heap corruption on 32-bit, big-endian architectures (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/20785">GH 20785</a>)</p></li>
<li><p>Bug in <a class="reference internal" href="../reference/api/pandas.read_sas.html#pandas.read_sas" title="pandas.read_sas"><code class="xref py py-func docutils literal notranslate"><span class="pre">read_sas()</span></code></a> where a file with 0 variables gave an <code class="docutils literal notranslate"><span class="pre">AttributeError</span></code> incorrectly. Now it gives an <code class="docutils literal notranslate"><span class="pre">EmptyDataError</span></code> (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/18184">GH 18184</a>)</p></li>
<li><p>Bug in <a class="reference internal" href="../reference/api/pandas.DataFrame.to_latex.html#pandas.DataFrame.to_latex" title="pandas.DataFrame.to_latex"><code class="xref py py-func docutils literal notranslate"><span class="pre">DataFrame.to_latex()</span></code></a> where pairs of braces meant to serve as invisible placeholders were escaped (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/18667">GH 18667</a>)</p></li>
<li><p>Bug in <a class="reference internal" href="../reference/api/pandas.DataFrame.to_latex.html#pandas.DataFrame.to_latex" title="pandas.DataFrame.to_latex"><code class="xref py py-func docutils literal notranslate"><span class="pre">DataFrame.to_latex()</span></code></a> where a <code class="docutils literal notranslate"><span class="pre">NaN</span></code> in a <code class="docutils literal notranslate"><span class="pre">MultiIndex</span></code> would cause an <code class="docutils literal notranslate"><span class="pre">IndexError</span></code> or incorrect output (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/14249">GH 14249</a>)</p></li>
<li><p>Bug in <a class="reference internal" href="../reference/api/pandas.DataFrame.to_latex.html#pandas.DataFrame.to_latex" title="pandas.DataFrame.to_latex"><code class="xref py py-func docutils literal notranslate"><span class="pre">DataFrame.to_latex()</span></code></a> where a non-string index-level name would result in an <code class="docutils literal notranslate"><span class="pre">AttributeError</span></code> (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/19981">GH 19981</a>)</p></li>
<li><p>Bug in <a class="reference internal" href="../reference/api/pandas.DataFrame.to_latex.html#pandas.DataFrame.to_latex" title="pandas.DataFrame.to_latex"><code class="xref py py-func docutils literal notranslate"><span class="pre">DataFrame.to_latex()</span></code></a> where the combination of an index name and the <code class="docutils literal notranslate"><span class="pre">index_names=False</span></code> option would result in incorrect output (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/18326">GH 18326</a>)</p></li>
<li><p>Bug in <a class="reference internal" href="../reference/api/pandas.DataFrame.to_latex.html#pandas.DataFrame.to_latex" title="pandas.DataFrame.to_latex"><code class="xref py py-func docutils literal notranslate"><span class="pre">DataFrame.to_latex()</span></code></a> where a <code class="docutils literal notranslate"><span class="pre">MultiIndex</span></code> with an empty string as its name would result in incorrect output (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/18669">GH 18669</a>)</p></li>
<li><p>Bug in <a class="reference internal" href="../reference/api/pandas.DataFrame.to_latex.html#pandas.DataFrame.to_latex" title="pandas.DataFrame.to_latex"><code class="xref py py-func docutils literal notranslate"><span class="pre">DataFrame.to_latex()</span></code></a> where missing space characters caused wrong escaping and produced non-valid latex in some cases (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/20859">GH 20859</a>)</p></li>
<li><p>Bug in <a class="reference internal" href="../reference/api/pandas.read_json.html#pandas.read_json" title="pandas.read_json"><code class="xref py py-func docutils literal notranslate"><span class="pre">read_json()</span></code></a> where large numeric values were causing an <code class="docutils literal notranslate"><span class="pre">OverflowError</span></code> (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/18842">GH 18842</a>)</p></li>
<li><p>Bug in <a class="reference internal" href="../reference/api/pandas.DataFrame.to_parquet.html#pandas.DataFrame.to_parquet" title="pandas.DataFrame.to_parquet"><code class="xref py py-func docutils literal notranslate"><span class="pre">DataFrame.to_parquet()</span></code></a> where an exception was raised if the write destination is S3 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/19134">GH 19134</a>)</p></li>
<li><p><a class="reference internal" href="../reference/api/pandas.Interval.html#pandas.Interval" title="pandas.Interval"><code class="xref py py-class docutils literal notranslate"><span class="pre">Interval</span></code></a> now supported in <a class="reference internal" href="../reference/api/pandas.DataFrame.to_excel.html#pandas.DataFrame.to_excel" title="pandas.DataFrame.to_excel"><code class="xref py py-func docutils literal notranslate"><span class="pre">DataFrame.to_excel()</span></code></a> for all Excel file types (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/19242">GH 19242</a>)</p></li>
<li><p><a class="reference internal" href="../reference/api/pandas.Timedelta.html#pandas.Timedelta" title="pandas.Timedelta"><code class="xref py py-class docutils literal notranslate"><span class="pre">Timedelta</span></code></a> now supported in <a class="reference internal" href="../reference/api/pandas.DataFrame.to_excel.html#pandas.DataFrame.to_excel" title="pandas.DataFrame.to_excel"><code class="xref py py-func docutils literal notranslate"><span class="pre">DataFrame.to_excel()</span></code></a> for all Excel file types (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/19242">GH 19242</a>, <a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/9155">GH 9155</a>, <a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/19900">GH 19900</a>)</p></li>
<li><p>Bug in <a class="reference internal" href="../reference/api/pandas.io.stata.StataReader.value_labels.html#pandas.io.stata.StataReader.value_labels" title="pandas.io.stata.StataReader.value_labels"><code class="xref py py-meth docutils literal notranslate"><span class="pre">pandas.io.stata.StataReader.value_labels()</span></code></a> raising an <code class="docutils literal notranslate"><span class="pre">AttributeError</span></code> when called on very old files. Now returns an empty dict (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/19417">GH 19417</a>)</p></li>
<li><p>Bug in <a class="reference internal" href="../reference/api/pandas.read_pickle.html#pandas.read_pickle" title="pandas.read_pickle"><code class="xref py py-func docutils literal notranslate"><span class="pre">read_pickle()</span></code></a> when unpickling objects with <a class="reference internal" href="../reference/api/pandas.TimedeltaIndex.html#pandas.TimedeltaIndex" title="pandas.TimedeltaIndex"><code class="xref py py-class docutils literal notranslate"><span class="pre">TimedeltaIndex</span></code></a> or <code class="xref py py-class docutils literal notranslate"><span class="pre">Float64Index</span></code> created with pandas prior to version 0.20 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/19939">GH 19939</a>)</p></li>
<li><p>Bug in <code class="xref py py-meth docutils literal notranslate"><span class="pre">pandas.io.json.json_normalize()</span></code> where sub-records are not properly normalized if any sub-records values are NoneType (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/20030">GH 20030</a>)</p></li>
<li><p>Bug in <code class="docutils literal notranslate"><span class="pre">usecols</span></code> parameter in <a class="reference internal" href="../reference/api/pandas.read_csv.html#pandas.read_csv" title="pandas.read_csv"><code class="xref py py-func docutils literal notranslate"><span class="pre">read_csv()</span></code></a> where error is not raised correctly when passing a string. (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/20529">GH 20529</a>)</p></li>
<li><p>Bug in <a class="reference internal" href="../reference/api/pandas.HDFStore.keys.html#pandas.HDFStore.keys" title="pandas.HDFStore.keys"><code class="xref py py-func docutils literal notranslate"><span class="pre">HDFStore.keys()</span></code></a> when reading a file with a soft link causes exception (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/20523">GH 20523</a>)</p></li>
<li><p>Bug in <code class="xref py py-func docutils literal notranslate"><span class="pre">HDFStore.select_column()</span></code> where a key which is not a valid store raised an <code class="docutils literal notranslate"><span class="pre">AttributeError</span></code> instead of a <code class="docutils literal notranslate"><span class="pre">KeyError</span></code> (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/17912">GH 17912</a>)</p></li>
</ul>
</section>
<section id="plotting">
<h3>Plotting<a class="headerlink" href="#plotting" title="Link to this heading">#</a></h3>
<ul class="simple">
<li><p>Better error message when attempting to plot but matplotlib is not installed (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/19810">GH 19810</a>).</p></li>
<li><p><a class="reference internal" href="../reference/api/pandas.DataFrame.plot.html#pandas.DataFrame.plot" title="pandas.DataFrame.plot"><code class="xref py py-func docutils literal notranslate"><span class="pre">DataFrame.plot()</span></code></a> now raises a <code class="docutils literal notranslate"><span class="pre">ValueError</span></code> when the <code class="docutils literal notranslate"><span class="pre">x</span></code> or <code class="docutils literal notranslate"><span class="pre">y</span></code> argument is improperly formed (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/18671">GH 18671</a>)</p></li>
<li><p>Bug in <a class="reference internal" href="../reference/api/pandas.DataFrame.plot.html#pandas.DataFrame.plot" title="pandas.DataFrame.plot"><code class="xref py py-func docutils literal notranslate"><span class="pre">DataFrame.plot()</span></code></a> when <code class="docutils literal notranslate"><span class="pre">x</span></code> and <code class="docutils literal notranslate"><span class="pre">y</span></code> arguments given as positions caused incorrect referenced columns for line, bar and area plots (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/20056">GH 20056</a>)</p></li>
<li><p>Bug in formatting tick labels with <code class="docutils literal notranslate"><span class="pre">datetime.time()</span></code> and fractional seconds (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/18478">GH 18478</a>).</p></li>
<li><p><a class="reference internal" href="../reference/api/pandas.Series.plot.kde.html#pandas.Series.plot.kde" title="pandas.Series.plot.kde"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Series.plot.kde()</span></code></a> has exposed the args <code class="docutils literal notranslate"><span class="pre">ind</span></code> and <code class="docutils literal notranslate"><span class="pre">bw_method</span></code> in the docstring (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/18461">GH 18461</a>). The argument <code class="docutils literal notranslate"><span class="pre">ind</span></code> may now also be an integer (number of sample points).</p></li>
<li><p><a class="reference internal" href="../reference/api/pandas.DataFrame.plot.html#pandas.DataFrame.plot" title="pandas.DataFrame.plot"><code class="xref py py-func docutils literal notranslate"><span class="pre">DataFrame.plot()</span></code></a> now supports multiple columns to the <code class="docutils literal notranslate"><span class="pre">y</span></code> argument (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/19699">GH 19699</a>)</p></li>
</ul>
</section>
<section id="groupby-resample-rolling">
<h3>GroupBy/resample/rolling<a class="headerlink" href="#groupby-resample-rolling" title="Link to this heading">#</a></h3>
<ul class="simple">
<li><p>Bug when grouping by a single column and aggregating with a class like <code class="docutils literal notranslate"><span class="pre">list</span></code> or <code class="docutils literal notranslate"><span class="pre">tuple</span></code> (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/18079">GH 18079</a>)</p></li>
<li><p>Fixed regression in <a class="reference internal" href="../reference/api/pandas.DataFrame.groupby.html#pandas.DataFrame.groupby" title="pandas.DataFrame.groupby"><code class="xref py py-func docutils literal notranslate"><span class="pre">DataFrame.groupby()</span></code></a> which would not emit an error when called with a tuple key not in the index (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/18798">GH 18798</a>)</p></li>
<li><p>Bug in <a class="reference internal" href="../reference/api/pandas.DataFrame.resample.html#pandas.DataFrame.resample" title="pandas.DataFrame.resample"><code class="xref py py-func docutils literal notranslate"><span class="pre">DataFrame.resample()</span></code></a> which silently ignored unsupported (or mistyped) options for <code class="docutils literal notranslate"><span class="pre">label</span></code>, <code class="docutils literal notranslate"><span class="pre">closed</span></code> and <code class="docutils literal notranslate"><span class="pre">convention</span></code> (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/19303">GH 19303</a>)</p></li>
<li><p>Bug in <a class="reference internal" href="../reference/api/pandas.DataFrame.groupby.html#pandas.DataFrame.groupby" title="pandas.DataFrame.groupby"><code class="xref py py-func docutils literal notranslate"><span class="pre">DataFrame.groupby()</span></code></a> where tuples were interpreted as lists of keys rather than as keys (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/17979">GH 17979</a>, <a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/18249">GH 18249</a>)</p></li>
<li><p>Bug in <a class="reference internal" href="../reference/api/pandas.DataFrame.groupby.html#pandas.DataFrame.groupby" title="pandas.DataFrame.groupby"><code class="xref py py-func docutils literal notranslate"><span class="pre">DataFrame.groupby()</span></code></a> where aggregation by <code class="docutils literal notranslate"><span class="pre">first</span></code>/<code class="docutils literal notranslate"><span class="pre">last</span></code>/<code class="docutils literal notranslate"><span class="pre">min</span></code>/<code class="docutils literal notranslate"><span class="pre">max</span></code> was causing timestamps to lose precision (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/19526">GH 19526</a>)</p></li>
<li><p>Bug in <a class="reference internal" href="../reference/api/pandas.DataFrame.transform.html#pandas.DataFrame.transform" title="pandas.DataFrame.transform"><code class="xref py py-func docutils literal notranslate"><span class="pre">DataFrame.transform()</span></code></a> where particular aggregation functions were being incorrectly cast to match the dtype(s) of the grouped data (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/19200">GH 19200</a>)</p></li>
<li><p>Bug in <a class="reference internal" href="../reference/api/pandas.DataFrame.groupby.html#pandas.DataFrame.groupby" title="pandas.DataFrame.groupby"><code class="xref py py-func docutils literal notranslate"><span class="pre">DataFrame.groupby()</span></code></a> passing the <code class="docutils literal notranslate"><span class="pre">on=</span></code> kwarg, and subsequently using <code class="docutils literal notranslate"><span class="pre">.apply()</span></code> (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/17813">GH 17813</a>)</p></li>
<li><p>Bug in <code class="xref py py-func docutils literal notranslate"><span class="pre">DataFrame.resample().aggregate</span></code> not raising a <code class="docutils literal notranslate"><span class="pre">KeyError</span></code> when aggregating a non-existent column (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/16766">GH 16766</a>, <a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/19566">GH 19566</a>)</p></li>
<li><p>Bug in <code class="xref py py-func docutils literal notranslate"><span class="pre">DataFrameGroupBy.cumsum()</span></code> and <code class="xref py py-func docutils literal notranslate"><span class="pre">DataFrameGroupBy.cumprod()</span></code> when <code class="docutils literal notranslate"><span class="pre">skipna</span></code> was passed (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/19806">GH 19806</a>)</p></li>
<li><p>Bug in <a class="reference internal" href="../reference/api/pandas.DataFrame.resample.html#pandas.DataFrame.resample" title="pandas.DataFrame.resample"><code class="xref py py-func docutils literal notranslate"><span class="pre">DataFrame.resample()</span></code></a> that dropped timezone information (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/13238">GH 13238</a>)</p></li>
<li><p>Bug in <a class="reference internal" href="../reference/api/pandas.DataFrame.groupby.html#pandas.DataFrame.groupby" title="pandas.DataFrame.groupby"><code class="xref py py-func docutils literal notranslate"><span class="pre">DataFrame.groupby()</span></code></a> where transformations using <code class="docutils literal notranslate"><span class="pre">np.all</span></code> and <code class="docutils literal notranslate"><span class="pre">np.any</span></code> were raising a <code class="docutils literal notranslate"><span class="pre">ValueError</span></code> (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/20653">GH 20653</a>)</p></li>
<li><p>Bug in <a class="reference internal" href="../reference/api/pandas.DataFrame.resample.html#pandas.DataFrame.resample" title="pandas.DataFrame.resample"><code class="xref py py-func docutils literal notranslate"><span class="pre">DataFrame.resample()</span></code></a> where <code class="docutils literal notranslate"><span class="pre">ffill</span></code>, <code class="docutils literal notranslate"><span class="pre">bfill</span></code>, <code class="docutils literal notranslate"><span class="pre">pad</span></code>, <code class="docutils literal notranslate"><span class="pre">backfill</span></code>, <code class="docutils literal notranslate"><span class="pre">fillna</span></code>, <code class="docutils literal notranslate"><span class="pre">interpolate</span></code>, and <code class="docutils literal notranslate"><span class="pre">asfreq</span></code> were ignoring <code class="docutils literal notranslate"><span class="pre">loffset</span></code>. (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/20744">GH 20744</a>)</p></li>
<li><p>Bug in <a class="reference internal" href="../reference/api/pandas.DataFrame.groupby.html#pandas.DataFrame.groupby" title="pandas.DataFrame.groupby"><code class="xref py py-func docutils literal notranslate"><span class="pre">DataFrame.groupby()</span></code></a> when applying a function that has mixed data types and the user supplied function can fail on the grouping column (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/20949">GH 20949</a>)</p></li>
<li><p>Bug in <code class="xref py py-func docutils literal notranslate"><span class="pre">DataFrameGroupBy.rolling().apply()</span></code> where operations performed against the associated <code class="xref py py-class docutils literal notranslate"><span class="pre">DataFrameGroupBy</span></code> object could impact the inclusion of the grouped item(s) in the result (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/14013">GH 14013</a>)</p></li>
</ul>
</section>
<section id="sparse">
<h3>Sparse<a class="headerlink" href="#sparse" title="Link to this heading">#</a></h3>
<ul class="simple">
<li><p>Bug in which creating a <code class="xref py py-class docutils literal notranslate"><span class="pre">SparseDataFrame</span></code> from a dense <code class="docutils literal notranslate"><span class="pre">Series</span></code> or an unsupported type raised an uncontrolled exception (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/19374">GH 19374</a>)</p></li>
<li><p>Bug in <code class="xref py py-class docutils literal notranslate"><span class="pre">SparseDataFrame.to_csv</span></code> causing exception (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/19384">GH 19384</a>)</p></li>
<li><p>Bug in <code class="xref py py-class docutils literal notranslate"><span class="pre">SparseSeries.memory_usage</span></code> which caused segfault by accessing non sparse elements (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/19368">GH 19368</a>)</p></li>
<li><p>Bug in constructing a <code class="xref py py-class docutils literal notranslate"><span class="pre">SparseArray</span></code>: if <code class="docutils literal notranslate"><span class="pre">data</span></code> is a scalar and <code class="docutils literal notranslate"><span class="pre">index</span></code> is defined it will coerce to <code class="docutils literal notranslate"><span class="pre">float64</span></code> regardless of scalar’s dtype. (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/19163">GH 19163</a>)</p></li>
</ul>
</section>
<section id="reshaping">
<h3>Reshaping<a class="headerlink" href="#reshaping" title="Link to this heading">#</a></h3>
<ul class="simple">
<li><p>Bug in <a class="reference internal" href="../reference/api/pandas.DataFrame.merge.html#pandas.DataFrame.merge" title="pandas.DataFrame.merge"><code class="xref py py-func docutils literal notranslate"><span class="pre">DataFrame.merge()</span></code></a> where referencing a <code class="docutils literal notranslate"><span class="pre">CategoricalIndex</span></code> by name, where the <code class="docutils literal notranslate"><span class="pre">by</span></code> kwarg would <code class="docutils literal notranslate"><span class="pre">KeyError</span></code> (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/20777">GH 20777</a>)</p></li>
<li><p>Bug in <a class="reference internal" href="../reference/api/pandas.DataFrame.stack.html#pandas.DataFrame.stack" title="pandas.DataFrame.stack"><code class="xref py py-func docutils literal notranslate"><span class="pre">DataFrame.stack()</span></code></a> which fails trying to sort mixed type levels under Python 3 (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/18310">GH 18310</a>)</p></li>
<li><p>Bug in <a class="reference internal" href="../reference/api/pandas.DataFrame.unstack.html#pandas.DataFrame.unstack" title="pandas.DataFrame.unstack"><code class="xref py py-func docutils literal notranslate"><span class="pre">DataFrame.unstack()</span></code></a> which casts int to float if <code class="docutils literal notranslate"><span class="pre">columns</span></code> is a <code class="docutils literal notranslate"><span class="pre">MultiIndex</span></code> with unused levels (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/17845">GH 17845</a>)</p></li>
<li><p>Bug in <a class="reference internal" href="../reference/api/pandas.DataFrame.unstack.html#pandas.DataFrame.unstack" title="pandas.DataFrame.unstack"><code class="xref py py-func docutils literal notranslate"><span class="pre">DataFrame.unstack()</span></code></a> which raises an error if <code class="docutils literal notranslate"><span class="pre">index</span></code> is a <code class="docutils literal notranslate"><span class="pre">MultiIndex</span></code> with unused labels on the unstacked level (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/18562">GH 18562</a>)</p></li>
<li><p>Fixed construction of a <a class="reference internal" href="../reference/api/pandas.Series.html#pandas.Series" title="pandas.Series"><code class="xref py py-class docutils literal notranslate"><span class="pre">Series</span></code></a> from a <code class="docutils literal notranslate"><span class="pre">dict</span></code> containing <code class="docutils literal notranslate"><span class="pre">NaN</span></code> as key (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/18480">GH 18480</a>)</p></li>
<li><p>Fixed construction of a <a class="reference internal" href="../reference/api/pandas.DataFrame.html#pandas.DataFrame" title="pandas.DataFrame"><code class="xref py py-class docutils literal notranslate"><span class="pre">DataFrame</span></code></a> from a <code class="docutils literal notranslate"><span class="pre">dict</span></code> containing <code class="docutils literal notranslate"><span class="pre">NaN</span></code> as key (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/18455">GH 18455</a>)</p></li>
<li><p>Disabled construction of a <a class="reference internal" href="../reference/api/pandas.Series.html#pandas.Series" title="pandas.Series"><code class="xref py py-class docutils literal notranslate"><span class="pre">Series</span></code></a> where len(index) &gt; len(data) = 1, which previously would broadcast the data item, and now raises a <code class="docutils literal notranslate"><span class="pre">ValueError</span></code> (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/18819">GH 18819</a>)</p></li>
<li><p>Suppressed error in the construction of a <a class="reference internal" href="../reference/api/pandas.DataFrame.html#pandas.DataFrame" title="pandas.DataFrame"><code class="xref py py-class docutils literal notranslate"><span class="pre">DataFrame</span></code></a> from a <code class="docutils literal notranslate"><span class="pre">dict</span></code> containing scalar values when the corresponding keys are not included in the passed index (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/18600">GH 18600</a>)</p></li>
<li><p>Fixed (changed from <code class="docutils literal notranslate"><span class="pre">object</span></code> to <code class="docutils literal notranslate"><span class="pre">float64</span></code>) dtype of <a class="reference internal" href="../reference/api/pandas.DataFrame.html#pandas.DataFrame" title="pandas.DataFrame"><code class="xref py py-class docutils literal notranslate"><span class="pre">DataFrame</span></code></a> initialized with axes, no data, and <code class="docutils literal notranslate"><span class="pre">dtype=int</span></code> (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/19646">GH 19646</a>)</p></li>
<li><p>Bug in <a class="reference internal" href="../reference/api/pandas.Series.rank.html#pandas.Series.rank" title="pandas.Series.rank"><code class="xref py py-func docutils literal notranslate"><span class="pre">Series.rank()</span></code></a> where <code class="docutils literal notranslate"><span class="pre">Series</span></code> containing <code class="docutils literal notranslate"><span class="pre">NaT</span></code> modifies the <code class="docutils literal notranslate"><span class="pre">Series</span></code> inplace (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/18521">GH 18521</a>)</p></li>
<li><p>Bug in <a class="reference internal" href="../reference/api/pandas.cut.html#pandas.cut" title="pandas.cut"><code class="xref py py-func docutils literal notranslate"><span class="pre">cut()</span></code></a> which fails when using readonly arrays (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/18773">GH 18773</a>)</p></li>
<li><p>Bug in <a class="reference internal" href="../reference/api/pandas.DataFrame.pivot_table.html#pandas.DataFrame.pivot_table" title="pandas.DataFrame.pivot_table"><code class="xref py py-func docutils literal notranslate"><span class="pre">DataFrame.pivot_table()</span></code></a> which fails when the <code class="docutils literal notranslate"><span class="pre">aggfunc</span></code> arg is of type string.  The behavior is now consistent with other methods like <code class="docutils literal notranslate"><span class="pre">agg</span></code> and <code class="docutils literal notranslate"><span class="pre">apply</span></code> (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/18713">GH 18713</a>)</p></li>
<li><p>Bug in <a class="reference internal" href="../reference/api/pandas.DataFrame.merge.html#pandas.DataFrame.merge" title="pandas.DataFrame.merge"><code class="xref py py-func docutils literal notranslate"><span class="pre">DataFrame.merge()</span></code></a> in which merging using <code class="docutils literal notranslate"><span class="pre">Index</span></code> objects as vectors raised an Exception (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/19038">GH 19038</a>)</p></li>
<li><p>Bug in <a class="reference internal" href="../reference/api/pandas.DataFrame.stack.html#pandas.DataFrame.stack" title="pandas.DataFrame.stack"><code class="xref py py-func docutils literal notranslate"><span class="pre">DataFrame.stack()</span></code></a>, <a class="reference internal" href="../reference/api/pandas.DataFrame.unstack.html#pandas.DataFrame.unstack" title="pandas.DataFrame.unstack"><code class="xref py py-func docutils literal notranslate"><span class="pre">DataFrame.unstack()</span></code></a>, <a class="reference internal" href="../reference/api/pandas.Series.unstack.html#pandas.Series.unstack" title="pandas.Series.unstack"><code class="xref py py-func docutils literal notranslate"><span class="pre">Series.unstack()</span></code></a> which were not returning subclasses (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/15563">GH 15563</a>)</p></li>
<li><p>Bug in timezone comparisons, manifesting as a conversion of the index to UTC in <code class="docutils literal notranslate"><span class="pre">.concat()</span></code> (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/18523">GH 18523</a>)</p></li>
<li><p>Bug in <a class="reference internal" href="../reference/api/pandas.concat.html#pandas.concat" title="pandas.concat"><code class="xref py py-func docutils literal notranslate"><span class="pre">concat()</span></code></a> when concatenating sparse and dense series it returns only a <code class="docutils literal notranslate"><span class="pre">SparseDataFrame</span></code>. Should be a <code class="docutils literal notranslate"><span class="pre">DataFrame</span></code>. (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/18914">GH 18914</a>, <a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/18686">GH 18686</a>, and <a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/16874">GH 16874</a>)</p></li>
<li><p>Improved error message for <a class="reference internal" href="../reference/api/pandas.DataFrame.merge.html#pandas.DataFrame.merge" title="pandas.DataFrame.merge"><code class="xref py py-func docutils literal notranslate"><span class="pre">DataFrame.merge()</span></code></a> when there is no common merge key (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/19427">GH 19427</a>)</p></li>
<li><p>Bug in <a class="reference internal" href="../reference/api/pandas.DataFrame.join.html#pandas.DataFrame.join" title="pandas.DataFrame.join"><code class="xref py py-func docutils literal notranslate"><span class="pre">DataFrame.join()</span></code></a> which does an <code class="docutils literal notranslate"><span class="pre">outer</span></code> instead of a <code class="docutils literal notranslate"><span class="pre">left</span></code> join when being called with multiple DataFrames and some have non-unique indices (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/19624">GH 19624</a>)</p></li>
<li><p><a class="reference internal" href="../reference/api/pandas.Series.rename.html#pandas.Series.rename" title="pandas.Series.rename"><code class="xref py py-func docutils literal notranslate"><span class="pre">Series.rename()</span></code></a> now accepts <code class="docutils literal notranslate"><span class="pre">axis</span></code> as a kwarg (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/18589">GH 18589</a>)</p></li>
<li><p>Bug in <a class="reference internal" href="../reference/api/pandas.DataFrame.rename.html#pandas.DataFrame.rename" title="pandas.DataFrame.rename"><code class="xref py py-func docutils literal notranslate"><span class="pre">rename()</span></code></a> where an Index of same-length tuples was converted to a MultiIndex (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/19497">GH 19497</a>)</p></li>
<li><p>Comparisons between <a class="reference internal" href="../reference/api/pandas.Series.html#pandas.Series" title="pandas.Series"><code class="xref py py-class docutils literal notranslate"><span class="pre">Series</span></code></a> and <a class="reference internal" href="../reference/api/pandas.Index.html#pandas.Index" title="pandas.Index"><code class="xref py py-class docutils literal notranslate"><span class="pre">Index</span></code></a> would return a <code class="docutils literal notranslate"><span class="pre">Series</span></code> with an incorrect name, ignoring the <code class="docutils literal notranslate"><span class="pre">Index</span></code>’s name attribute (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/19582">GH 19582</a>)</p></li>
<li><p>Bug in <a class="reference internal" href="../reference/api/pandas.qcut.html#pandas.qcut" title="pandas.qcut"><code class="xref py py-func docutils literal notranslate"><span class="pre">qcut()</span></code></a> where datetime and timedelta data with <code class="docutils literal notranslate"><span class="pre">NaT</span></code> present raised a <code class="docutils literal notranslate"><span class="pre">ValueError</span></code> (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/19768">GH 19768</a>)</p></li>
<li><p>Bug in <a class="reference internal" href="../reference/api/pandas.DataFrame.iterrows.html#pandas.DataFrame.iterrows" title="pandas.DataFrame.iterrows"><code class="xref py py-func docutils literal notranslate"><span class="pre">DataFrame.iterrows()</span></code></a>, which would infers strings not compliant to <a class="reference external" href="https://en.wikipedia.org/wiki/ISO_8601">ISO8601</a> to datetimes (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/19671">GH 19671</a>)</p></li>
<li><p>Bug in <a class="reference internal" href="../reference/api/pandas.Series.html#pandas.Series" title="pandas.Series"><code class="xref py py-class docutils literal notranslate"><span class="pre">Series</span></code></a> constructor with <code class="docutils literal notranslate"><span class="pre">Categorical</span></code> where a <code class="docutils literal notranslate"><span class="pre">ValueError</span></code> is not raised when an index of different length is given (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/19342">GH 19342</a>)</p></li>
<li><p>Bug in <a class="reference internal" href="../reference/api/pandas.DataFrame.astype.html#pandas.DataFrame.astype" title="pandas.DataFrame.astype"><code class="xref py py-meth docutils literal notranslate"><span class="pre">DataFrame.astype()</span></code></a> where column metadata is lost when converting to categorical or a dictionary of dtypes (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/19920">GH 19920</a>)</p></li>
<li><p>Bug in <a class="reference internal" href="../reference/api/pandas.cut.html#pandas.cut" title="pandas.cut"><code class="xref py py-func docutils literal notranslate"><span class="pre">cut()</span></code></a> and <a class="reference internal" href="../reference/api/pandas.qcut.html#pandas.qcut" title="pandas.qcut"><code class="xref py py-func docutils literal notranslate"><span class="pre">qcut()</span></code></a> where timezone information was dropped (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/19872">GH 19872</a>)</p></li>
<li><p>Bug in <a class="reference internal" href="../reference/api/pandas.Series.html#pandas.Series" title="pandas.Series"><code class="xref py py-class docutils literal notranslate"><span class="pre">Series</span></code></a> constructor with a <code class="docutils literal notranslate"><span class="pre">dtype=str</span></code>, previously raised in some cases (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/19853">GH 19853</a>)</p></li>
<li><p>Bug in <a class="reference internal" href="../reference/api/pandas.get_dummies.html#pandas.get_dummies" title="pandas.get_dummies"><code class="xref py py-func docutils literal notranslate"><span class="pre">get_dummies()</span></code></a>, and <code class="xref py py-func docutils literal notranslate"><span class="pre">select_dtypes()</span></code>, where duplicate column names caused incorrect behavior (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/20848">GH 20848</a>)</p></li>
<li><p>Bug in <a class="reference internal" href="../reference/api/pandas.isna.html#pandas.isna" title="pandas.isna"><code class="xref py py-func docutils literal notranslate"><span class="pre">isna()</span></code></a>, which cannot handle ambiguous typed lists (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/20675">GH 20675</a>)</p></li>
<li><p>Bug in <a class="reference internal" href="../reference/api/pandas.concat.html#pandas.concat" title="pandas.concat"><code class="xref py py-func docutils literal notranslate"><span class="pre">concat()</span></code></a> which raises an error when concatenating TZ-aware dataframes and all-NaT dataframes (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/12396">GH 12396</a>)</p></li>
<li><p>Bug in <a class="reference internal" href="../reference/api/pandas.concat.html#pandas.concat" title="pandas.concat"><code class="xref py py-func docutils literal notranslate"><span class="pre">concat()</span></code></a> which raises an error when concatenating empty TZ-aware series (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/18447">GH 18447</a>)</p></li>
</ul>
</section>
<section id="other">
<h3>Other<a class="headerlink" href="#other" title="Link to this heading">#</a></h3>
<ul class="simple">
<li><p>Improved error message when attempting to use a Python keyword as an identifier in a <code class="docutils literal notranslate"><span class="pre">numexpr</span></code> backed query (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/18221">GH 18221</a>)</p></li>
<li><p>Bug in accessing a <a class="reference internal" href="../reference/api/pandas.get_option.html#pandas.get_option" title="pandas.get_option"><code class="xref py py-func docutils literal notranslate"><span class="pre">pandas.get_option()</span></code></a>, which raised <code class="docutils literal notranslate"><span class="pre">KeyError</span></code> rather than <code class="docutils literal notranslate"><span class="pre">OptionError</span></code> when looking up a non-existent option key in some cases (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/19789">GH 19789</a>)</p></li>
<li><p>Bug in <a class="reference internal" href="../reference/api/pandas.testing.assert_series_equal.html#pandas.testing.assert_series_equal" title="pandas.testing.assert_series_equal"><code class="xref py py-func docutils literal notranslate"><span class="pre">testing.assert_series_equal()</span></code></a> and <a class="reference internal" href="../reference/api/pandas.testing.assert_frame_equal.html#pandas.testing.assert_frame_equal" title="pandas.testing.assert_frame_equal"><code class="xref py py-func docutils literal notranslate"><span class="pre">testing.assert_frame_equal()</span></code></a> for Series or DataFrames with differing unicode data (<a class="extlink-issue reference external" href="https://github.com/pandas-dev/pandas/issues/20503">GH 20503</a>)</p></li>
</ul>
</section>
</section>
<section id="contributors">
<span id="whatsnew-0-23-0-contributors"></span><h2>Contributors<a class="headerlink" href="#contributors" title="Link to this heading">#</a></h2>
<p>A total of 328 people contributed patches to this release.  People with a
“+” by their names contributed a patch for the first time.
</p>
<ul class="simple">
<li><p>Aaron Critchley</p></li>
<li><p>AbdealiJK +</p></li>
<li><p>Adam Hooper +</p></li>
<li><p>Albert Villanova del Moral</p></li>
<li><p>Alejandro Giacometti +</p></li>
<li><p>Alejandro Hohmann +</p></li>
<li><p>Alex Rychyk</p></li>
<li><p>Alexander Buchkovsky</p></li>
<li><p>Alexander Lenail +</p></li>
<li><p>Alexander Michael Schade</p></li>
<li><p>Aly Sivji +</p></li>
<li><p>Andreas Költringer +</p></li>
<li><p>Andrew</p></li>
<li><p>Andrew Bui +</p></li>
<li><p>András Novoszáth +</p></li>
<li><p>Andy Craze +</p></li>
<li><p>Andy R. Terrel</p></li>
<li><p>Anh Le +</p></li>
<li><p>Anil Kumar Pallekonda +</p></li>
<li><p>Antoine Pitrou +</p></li>
<li><p>Antonio Linde +</p></li>
<li><p>Antonio Molina +</p></li>
<li><p>Antonio Quinonez +</p></li>
<li><p>Armin Varshokar +</p></li>
<li><p>Artem Bogachev +</p></li>
<li><p>Avi Sen +</p></li>
<li><p>Azeez Oluwafemi +</p></li>
<li><p>Ben Auffarth +</p></li>
<li><p>Bernhard Thiel +</p></li>
<li><p>Bhavesh Poddar +</p></li>
<li><p>BielStela +</p></li>
<li><p>Blair +</p></li>
<li><p>Bob Haffner</p></li>
<li><p>Brett Naul +</p></li>
<li><p>Brock Mendel</p></li>
<li><p>Bryce Guinta +</p></li>
<li><p>Carlos Eduardo Moreira dos Santos +</p></li>
<li><p>Carlos García Márquez +</p></li>
<li><p>Carol Willing</p></li>
<li><p>Cheuk Ting Ho +</p></li>
<li><p>Chitrank Dixit +</p></li>
<li><p>Chris</p></li>
<li><p>Chris Burr +</p></li>
<li><p>Chris Catalfo +</p></li>
<li><p>Chris Mazzullo</p></li>
<li><p>Christian Chwala +</p></li>
<li><p>Cihan Ceyhan +</p></li>
<li><p>Clemens Brunner</p></li>
<li><p>Colin +</p></li>
<li><p>Cornelius Riemenschneider</p></li>
<li><p>Crystal Gong +</p></li>
<li><p>DaanVanHauwermeiren</p></li>
<li><p>Dan Dixey +</p></li>
<li><p>Daniel Frank +</p></li>
<li><p>Daniel Garrido +</p></li>
<li><p>Daniel Sakuma +</p></li>
<li><p>DataOmbudsman +</p></li>
<li><p>Dave Hirschfeld</p></li>
<li><p>Dave Lewis +</p></li>
<li><p>David Adrián Cañones Castellano +</p></li>
<li><p>David Arcos +</p></li>
<li><p>David C Hall +</p></li>
<li><p>David Fischer</p></li>
<li><p>David Hoese +</p></li>
<li><p>David Lutz +</p></li>
<li><p>David Polo +</p></li>
<li><p>David Stansby</p></li>
<li><p>Dennis Kamau +</p></li>
<li><p>Dillon Niederhut</p></li>
<li><p>Dimitri +</p></li>
<li><p>Dr. Irv</p></li>
<li><p>Dror Atariah</p></li>
<li><p>Eric Chea +</p></li>
<li><p>Eric Kisslinger</p></li>
<li><p>Eric O. LEBIGOT (EOL) +</p></li>
<li><p>FAN-GOD +</p></li>
<li><p>Fabian Retkowski +</p></li>
<li><p>Fer Sar +</p></li>
<li><p>Gabriel de Maeztu +</p></li>
<li><p>Gianpaolo Macario +</p></li>
<li><p>Giftlin Rajaiah</p></li>
<li><p>Gilberto Olimpio +</p></li>
<li><p>Gina +</p></li>
<li><p>Gjelt +</p></li>
<li><p>Graham Inggs +</p></li>
<li><p>Grant Roch</p></li>
<li><p>Grant Smith +</p></li>
<li><p>Grzegorz Konefał +</p></li>
<li><p>Guilherme Beltramini</p></li>
<li><p>HagaiHargil +</p></li>
<li><p>Hamish Pitkeathly +</p></li>
<li><p>Hammad Mashkoor +</p></li>
<li><p>Hannah Ferchland +</p></li>
<li><p>Hans</p></li>
<li><p>Haochen Wu +</p></li>
<li><p>Hissashi Rocha +</p></li>
<li><p>Iain Barr +</p></li>
<li><p>Ibrahim Sharaf ElDen +</p></li>
<li><p>Ignasi Fosch +</p></li>
<li><p>Igor Conrado Alves de Lima +</p></li>
<li><p>Igor Shelvinskyi +</p></li>
<li><p>Imanflow +</p></li>
<li><p>Ingolf Becker</p></li>
<li><p>Israel Saeta Pérez</p></li>
<li><p>Iva Koevska +</p></li>
<li><p>Jakub Nowacki +</p></li>
<li><p>Jan F-F +</p></li>
<li><p>Jan Koch +</p></li>
<li><p>Jan Werkmann</p></li>
<li><p>Janelle Zoutkamp +</p></li>
<li><p>Jason Bandlow +</p></li>
<li><p>Jaume Bonet +</p></li>
<li><p>Jay Alammar +</p></li>
<li><p>Jeff Reback</p></li>
<li><p>JennaVergeynst</p></li>
<li><p>Jimmy Woo +</p></li>
<li><p>Jing Qiang Goh +</p></li>
<li><p>Joachim Wagner +</p></li>
<li><p>Joan Martin Miralles +</p></li>
<li><p>Joel Nothman</p></li>
<li><p>Joeun Park +</p></li>
<li><p>John Cant +</p></li>
<li><p>Johnny Metz +</p></li>
<li><p>Jon Mease</p></li>
<li><p>Jonas Schulze +</p></li>
<li><p>Jongwony +</p></li>
<li><p>Jordi Contestí +</p></li>
<li><p>Joris Van den Bossche</p></li>
<li><p>José F. R. Fonseca +</p></li>
<li><p>Jovixe +</p></li>
<li><p>Julio Martinez +</p></li>
<li><p>Jörg Döpfert</p></li>
<li><p>KOBAYASHI Ittoku +</p></li>
<li><p>Kate Surta +</p></li>
<li><p>Kenneth +</p></li>
<li><p>Kevin Kuhl</p></li>
<li><p>Kevin Sheppard</p></li>
<li><p>Krzysztof Chomski</p></li>
<li><p>Ksenia +</p></li>
<li><p>Ksenia Bobrova +</p></li>
<li><p>Kunal Gosar +</p></li>
<li><p>Kurtis Kerstein +</p></li>
<li><p>Kyle Barron +</p></li>
<li><p>Laksh Arora +</p></li>
<li><p>Laurens Geffert +</p></li>
<li><p>Leif Walsh</p></li>
<li><p>Liam Marshall +</p></li>
<li><p>Liam3851 +</p></li>
<li><p>Licht Takeuchi</p></li>
<li><p>Liudmila +</p></li>
<li><p>Ludovico Russo +</p></li>
<li><p>Mabel Villalba +</p></li>
<li><p>Manan Pal Singh +</p></li>
<li><p>Manraj Singh</p></li>
<li><p>Marc +</p></li>
<li><p>Marc Garcia</p></li>
<li><p>Marco Hemken +</p></li>
<li><p>Maria del Mar Bibiloni +</p></li>
<li><p>Mario Corchero +</p></li>
<li><p>Mark Woodbridge +</p></li>
<li><p>Martin Journois +</p></li>
<li><p>Mason Gallo +</p></li>
<li><p>Matias Heikkilä +</p></li>
<li><p>Matt Braymer-Hayes</p></li>
<li><p>Matt Kirk +</p></li>
<li><p>Matt Maybeno +</p></li>
<li><p>Matthew Kirk +</p></li>
<li><p>Matthew Rocklin +</p></li>
<li><p>Matthew Roeschke</p></li>
<li><p>Matthias Bussonnier +</p></li>
<li><p>Max Mikhaylov +</p></li>
<li><p>Maxim Veksler +</p></li>
<li><p>Maximilian Roos</p></li>
<li><p>Maximiliano Greco +</p></li>
<li><p>Michael Penkov</p></li>
<li><p>Michael Röttger +</p></li>
<li><p>Michael Selik +</p></li>
<li><p>Michael Waskom</p></li>
<li><p>Mie~~~</p></li>
<li><p>Mike Kutzma +</p></li>
<li><p>Ming Li +</p></li>
<li><p>Mitar +</p></li>
<li><p>Mitch Negus +</p></li>
<li><p>Montana Low +</p></li>
<li><p>Moritz Münst +</p></li>
<li><p>Mortada Mehyar</p></li>
<li><p>Myles Braithwaite +</p></li>
<li><p>Nate Yoder</p></li>
<li><p>Nicholas Ursa +</p></li>
<li><p>Nick Chmura</p></li>
<li><p>Nikos Karagiannakis +</p></li>
<li><p>Nipun Sadvilkar +</p></li>
<li><p>Nis Martensen +</p></li>
<li><p>Noah +</p></li>
<li><p>Noémi Éltető +</p></li>
<li><p>Olivier Bilodeau +</p></li>
<li><p>Ondrej Kokes +</p></li>
<li><p>Onno Eberhard +</p></li>
<li><p>Paul Ganssle +</p></li>
<li><p>Paul Mannino +</p></li>
<li><p>Paul Reidy</p></li>
<li><p>Paulo Roberto de Oliveira Castro +</p></li>
<li><p>Pepe Flores +</p></li>
<li><p>Peter Hoffmann</p></li>
<li><p>Phil Ngo +</p></li>
<li><p>Pietro Battiston</p></li>
<li><p>Pranav Suri +</p></li>
<li><p>Priyanka Ojha +</p></li>
<li><p>Pulkit Maloo +</p></li>
<li><p>README Bot +</p></li>
<li><p>Ray Bell +</p></li>
<li><p>Riccardo Magliocchetti +</p></li>
<li><p>Ridhwan Luthra +</p></li>
<li><p>Robert Meyer</p></li>
<li><p>Robin</p></li>
<li><p>Robin Kiplang’at +</p></li>
<li><p>Rohan Pandit +</p></li>
<li><p>Rok Mihevc +</p></li>
<li><p>Rouz Azari</p></li>
<li><p>Ryszard T. Kaleta +</p></li>
<li><p>Sam Cohan</p></li>
<li><p>Sam Foo</p></li>
<li><p>Samir Musali +</p></li>
<li><p>Samuel Sinayoko +</p></li>
<li><p>Sangwoong Yoon</p></li>
<li><p>SarahJessica +</p></li>
<li><p>Sharad Vijalapuram +</p></li>
<li><p>Shubham Chaudhary +</p></li>
<li><p>SiYoungOh +</p></li>
<li><p>Sietse Brouwer</p></li>
<li><p>Simone Basso +</p></li>
<li><p>Stefania Delprete +</p></li>
<li><p>Stefano Cianciulli +</p></li>
<li><p>Stephen Childs +</p></li>
<li><p>StephenVoland +</p></li>
<li><p>Stijn Van Hoey +</p></li>
<li><p>Sven</p></li>
<li><p>Talitha Pumar +</p></li>
<li><p>Tarbo Fukazawa +</p></li>
<li><p>Ted Petrou +</p></li>
<li><p>Thomas A Caswell</p></li>
<li><p>Tim Hoffmann +</p></li>
<li><p>Tim Swast</p></li>
<li><p>Tom Augspurger</p></li>
<li><p>Tommy +</p></li>
<li><p>Tulio Casagrande +</p></li>
<li><p>Tushar Gupta +</p></li>
<li><p>Tushar Mittal +</p></li>
<li><p>Upkar Lidder +</p></li>
<li><p>Victor Villas +</p></li>
<li><p>Vince W +</p></li>
<li><p>Vinícius Figueiredo +</p></li>
<li><p>Vipin Kumar +</p></li>
<li><p>WBare</p></li>
<li><p>Wenhuan +</p></li>
<li><p>Wes Turner</p></li>
<li><p>William Ayd</p></li>
<li><p>Wilson Lin +</p></li>
<li><p>Xbar</p></li>
<li><p>Yaroslav Halchenko</p></li>
<li><p>Yee Mey</p></li>
<li><p>Yeongseon Choe +</p></li>
<li><p>Yian +</p></li>
<li><p>Yimeng Zhang</p></li>
<li><p>ZhuBaohe +</p></li>
<li><p>Zihao Zhao +</p></li>
<li><p>adatasetaday +</p></li>
<li><p>akielbowicz +</p></li>
<li><p>akosel +</p></li>
<li><p>alinde1 +</p></li>
<li><p>amuta +</p></li>
<li><p>bolkedebruin</p></li>
<li><p>cbertinato</p></li>
<li><p>cgohlke</p></li>
<li><p>charlie0389 +</p></li>
<li><p>chris-b1</p></li>
<li><p>csfarkas +</p></li>
<li><p>dajcs +</p></li>
<li><p>deflatSOCO +</p></li>
<li><p>derestle-htwg</p></li>
<li><p>discort</p></li>
<li><p>dmanikowski-reef +</p></li>
<li><p>donK23 +</p></li>
<li><p>elrubio +</p></li>
<li><p>fivemok +</p></li>
<li><p>fjdiod</p></li>
<li><p>fjetter +</p></li>
<li><p>froessler +</p></li>
<li><p>gabrielclow</p></li>
<li><p>gfyoung</p></li>
<li><p>ghasemnaddaf</p></li>
<li><p>h-vetinari +</p></li>
<li><p>himanshu awasthi +</p></li>
<li><p>ignamv +</p></li>
<li><p>jayfoad +</p></li>
<li><p>jazzmuesli +</p></li>
<li><p>jbrockmendel</p></li>
<li><p>jen w +</p></li>
<li><p>jjames34 +</p></li>
<li><p>joaoavf +</p></li>
<li><p>joders +</p></li>
<li><p>jschendel</p></li>
<li><p>juan huguet +</p></li>
<li><p>l736x +</p></li>
<li><p>luzpaz +</p></li>
<li><p>mdeboc +</p></li>
<li><p>miguelmorin +</p></li>
<li><p>miker985</p></li>
<li><p>miquelcamprodon +</p></li>
<li><p>orereta +</p></li>
<li><p>ottiP +</p></li>
<li><p>peterpanmj +</p></li>
<li><p>rafarui +</p></li>
<li><p>raph-m +</p></li>
<li><p>readyready15728 +</p></li>
<li><p>rmihael +</p></li>
<li><p>samghelms +</p></li>
<li><p>scriptomation +</p></li>
<li><p>sfoo +</p></li>
<li><p>stefansimik +</p></li>
<li><p>stonebig</p></li>
<li><p>tmnhat2001 +</p></li>
<li><p>tomneep +</p></li>
<li><p>topper-123</p></li>
<li><p>tv3141 +</p></li>
<li><p>verakai +</p></li>
<li><p>xpvpc +</p></li>
<li><p>zhanghui +</p></li>
</ul>
</section>
</section>


                </article>
              
              
              
              
              
                <footer class="prev-next-footer">
                  
<div class="prev-next-area">
    <a class="left-prev"
       href="v0.23.1.html"
       title="previous page">
      <i class="fa-solid fa-angle-left"></i>
      <div class="prev-next-info">
        <p class="prev-next-subtitle">previous</p>
        <p class="prev-next-title">What’s new in 0.23.1 (June 12, 2018)</p>
      </div>
    </a>
    <a class="right-next"
       href="v0.22.0.html"
       title="next page">
      <div class="prev-next-info">
        <p class="prev-next-subtitle">next</p>
        <p class="prev-next-title">Version 0.22.0 (December 29, 2017)</p>
      </div>
      <i class="fa-solid fa-angle-right"></i>
    </a>
</div>
                </footer>
              
            </div>
            
            
              
                <div class="bd-sidebar-secondary bd-toc"><div class="sidebar-secondary-items sidebar-secondary__inner">

  <div class="sidebar-secondary-item">

  <div class="page-toc tocsection onthispage">
    <i class="fa-solid fa-list"></i> On this page
  </div>
  <nav class="bd-toc-nav page-toc">
    <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#new-features">New features</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#json-read-write-round-trippable-with-orient-table">JSON read/write round-trippable with <code class="docutils literal notranslate"><span class="pre">orient='table'</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#method-assign-accepts-dependent-arguments">Method <code class="docutils literal notranslate"><span class="pre">.assign()</span></code> accepts dependent arguments</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#merging-on-a-combination-of-columns-and-index-levels">Merging on a combination of columns and index levels</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#sorting-by-a-combination-of-columns-and-index-levels">Sorting by a combination of columns and index levels</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#extending-pandas-with-custom-types-experimental">Extending pandas with custom types (experimental)</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#new-observed-keyword-for-excluding-unobserved-categories-in-groupby">New <code class="docutils literal notranslate"><span class="pre">observed</span></code> keyword for excluding unobserved categories in <code class="docutils literal notranslate"><span class="pre">GroupBy</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#rolling-expanding-apply-accepts-raw-false-to-pass-a-series-to-the-function">Rolling/Expanding.apply() accepts <code class="docutils literal notranslate"><span class="pre">raw=False</span></code> to pass a <code class="docutils literal notranslate"><span class="pre">Series</span></code> to the function</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#dataframe-interpolate-has-gained-the-limit-area-kwarg"><code class="docutils literal notranslate"><span class="pre">DataFrame.interpolate</span></code> has gained the <code class="docutils literal notranslate"><span class="pre">limit_area</span></code> kwarg</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#function-get-dummies-now-supports-dtype-argument">Function <code class="docutils literal notranslate"><span class="pre">get_dummies</span></code> now supports <code class="docutils literal notranslate"><span class="pre">dtype</span></code> argument</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#timedelta-mod-method">Timedelta mod method</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#method-rank-handles-inf-values-when-nan-are-present">Method <code class="docutils literal notranslate"><span class="pre">.rank()</span></code> handles <code class="docutils literal notranslate"><span class="pre">inf</span></code> values when <code class="docutils literal notranslate"><span class="pre">NaN</span></code> are present</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#series-str-cat-has-gained-the-join-kwarg"><code class="docutils literal notranslate"><span class="pre">Series.str.cat</span></code> has gained the <code class="docutils literal notranslate"><span class="pre">join</span></code> kwarg</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#dataframe-astype-performs-column-wise-conversion-to-categorical"><code class="docutils literal notranslate"><span class="pre">DataFrame.astype</span></code> performs column-wise conversion to <code class="docutils literal notranslate"><span class="pre">Categorical</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#other-enhancements">Other enhancements</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#backwards-incompatible-api-changes">Backwards incompatible API changes</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#dependencies-have-increased-minimum-versions">Dependencies have increased minimum versions</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#instantiation-from-dicts-preserves-dict-insertion-order-for-python-3-6">Instantiation from dicts preserves dict insertion order for Python 3.6+</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#deprecate-panel">Deprecate Panel</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#pandas-core-common-removals">pandas.core.common removals</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#changes-to-make-output-of-dataframe-apply-consistent">Changes to make output of <code class="docutils literal notranslate"><span class="pre">DataFrame.apply</span></code> consistent</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#concatenation-will-no-longer-sort">Concatenation will no longer sort</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#build-changes">Build changes</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#index-division-by-zero-fills-correctly">Index division by zero fills correctly</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#extraction-of-matching-patterns-from-strings">Extraction of matching patterns from strings</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#default-value-for-the-ordered-parameter-of-categoricaldtype">Default value for the <code class="docutils literal notranslate"><span class="pre">ordered</span></code> parameter of <code class="docutils literal notranslate"><span class="pre">CategoricalDtype</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#better-pretty-printing-of-dataframes-in-a-terminal">Better pretty-printing of DataFrames in a terminal</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#datetimelike-api-changes">Datetimelike API changes</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#other-api-changes">Other API changes</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#deprecations">Deprecations</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#removal-of-prior-version-deprecations-changes">Removal of prior version deprecations/changes</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#performance-improvements">Performance improvements</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#documentation-changes">Documentation changes</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#bug-fixes">Bug fixes</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#categorical">Categorical</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#datetimelike">Datetimelike</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#timedelta">Timedelta</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#timezones">Timezones</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#offsets">Offsets</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#numeric">Numeric</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#strings">Strings</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#indexing">Indexing</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#multiindex">MultiIndex</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#io">IO</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#plotting">Plotting</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#groupby-resample-rolling">GroupBy/resample/rolling</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#sparse">Sparse</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#reshaping">Reshaping</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#other">Other</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#contributors">Contributors</a></li>
</ul>
  </nav></div>

  <div class="sidebar-secondary-item">

  <div class="tocsection sourcelink">
    <a href="../_sources/whatsnew/v0.23.0.rst.txt">
      <i class="fa-solid fa-file-lines"></i> Show Source
    </a>
  </div>
</div>

</div></div>
              
            
          </div>
          <footer class="bd-footer-content">
            
          </footer>
        
      </main>
    </div>
  </div>
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script src="../_static/scripts/bootstrap.js?digest=5b4479735964841361fd"></script>
<script src="../_static/scripts/pydata-sphinx-theme.js?digest=5b4479735964841361fd"></script>

  <footer class="bd-footer">
<div class="bd-footer__inner bd-page-width">
  
    <div class="footer-items__start">
      
        <div class="footer-item"><p class="copyright">
    &copy 2024, pandas via <a href="https://numfocus.org">NumFOCUS, Inc.</a> Hosted by <a href="https://www.ovhcloud.com">OVHcloud</a>.
</p></div>
      
        <div class="footer-item">

  <p class="sphinx-version">
    Created using <a href="https://www.sphinx-doc.org/">Sphinx</a> 8.0.2.
    <br/>
  </p>
</div>
      
    </div>
  
  
  
    <div class="footer-items__end">
      
        <div class="footer-item">
<p class="theme-version">
  Built with the <a href="https://pydata-sphinx-theme.readthedocs.io/en/stable/index.html">PyData Sphinx Theme</a> 0.14.4.
</p></div>
      
    </div>
  
</div>

  </footer>
  </body>
</html>